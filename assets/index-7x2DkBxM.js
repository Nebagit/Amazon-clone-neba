var EV=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Cre=EV((Gre,Df)=>{function SV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ib(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Pb={exports:{}},rm={},Rb={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd=Symbol.for("react.element"),TV=Symbol.for("react.portal"),IV=Symbol.for("react.fragment"),PV=Symbol.for("react.strict_mode"),RV=Symbol.for("react.profiler"),bV=Symbol.for("react.provider"),kV=Symbol.for("react.context"),AV=Symbol.for("react.forward_ref"),CV=Symbol.for("react.suspense"),xV=Symbol.for("react.memo"),OV=Symbol.for("react.lazy"),MT=Symbol.iterator;function DV(t){return t===null||typeof t!="object"?null:(t=MT&&t[MT]||t["@@iterator"],typeof t=="function"?t:null)}var bb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kb=Object.assign,Ab={};function Fl(t,e,n){this.props=t,this.context=e,this.refs=Ab,this.updater=n||bb}Fl.prototype.isReactComponent={};Fl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cb(){}Cb.prototype=Fl.prototype;function Uw(t,e,n){this.props=t,this.context=e,this.refs=Ab,this.updater=n||bb}var Bw=Uw.prototype=new Cb;Bw.constructor=Uw;kb(Bw,Fl.prototype);Bw.isPureReactComponent=!0;var LT=Array.isArray,xb=Object.prototype.hasOwnProperty,zw={current:null},Ob={key:!0,ref:!0,__self:!0,__source:!0};function Db(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xb.call(e,r)&&!Ob.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Sd,type:t,key:s,ref:o,props:i,_owner:zw.current}}function NV(t,e){return{$$typeof:Sd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ww(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sd}function MV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var VT=/\/+/g;function ny(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MV(""+t.key):e.toString(36)}function Yh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sd:case TV:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ny(o,0):r,LT(i)?(n="",t!=null&&(n=t.replace(VT,"$&/")+"/"),Yh(i,e,n,"",function(u){return u})):i!=null&&(Ww(i)&&(i=NV(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(VT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",LT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ny(s,a);o+=Yh(s,e,n,l,i)}else if(l=DV(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ny(s,a++),o+=Yh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hh(t,e,n){if(t==null)return t;var r=[],i=0;return Yh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function LV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sn={current:null},Qh={transition:null},VV={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:Qh,ReactCurrentOwner:zw};he.Children={map:hh,forEach:function(t,e,n){hh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hh(t,function(){e++}),e},toArray:function(t){return hh(t,function(e){return e})||[]},only:function(t){if(!Ww(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Fl;he.Fragment=IV;he.Profiler=RV;he.PureComponent=Uw;he.StrictMode=PV;he.Suspense=CV;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VV;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=zw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xb.call(e,l)&&!Ob.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Sd,type:t.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:kV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bV,_context:t},t.Consumer=t};he.createElement=Db;he.createFactory=function(t){var e=Db.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:AV,render:t}};he.isValidElement=Ww;he.lazy=function(t){return{$$typeof:OV,_payload:{_status:-1,_result:t},_init:LV}};he.memo=function(t,e){return{$$typeof:xV,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Qh.transition;Qh.transition={};try{t()}finally{Qh.transition=e}};he.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};he.useCallback=function(t,e){return Sn.current.useCallback(t,e)};he.useContext=function(t){return Sn.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Sn.current.useDeferredValue(t)};he.useEffect=function(t,e){return Sn.current.useEffect(t,e)};he.useId=function(){return Sn.current.useId()};he.useImperativeHandle=function(t,e,n){return Sn.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Sn.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Sn.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Sn.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Sn.current.useReducer(t,e,n)};he.useRef=function(t){return Sn.current.useRef(t)};he.useState=function(t){return Sn.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Sn.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Sn.current.useTransition()};he.version="18.2.0";Rb.exports=he;var k=Rb.exports;const _e=nm(k),Nf=SV({__proto__:null,default:_e},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FV=k,$V=Symbol.for("react.element"),jV=Symbol.for("react.fragment"),UV=Object.prototype.hasOwnProperty,BV=FV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zV={key:!0,ref:!0,__self:!0,__source:!0};function Nb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)UV.call(e,r)&&!zV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$V,type:t,key:s,ref:o,props:i,_owner:BV.current}}rm.Fragment=jV;rm.jsx=Nb;rm.jsxs=Nb;Pb.exports=rm;var w=Pb.exports,Mb={exports:{}},Yn={},Lb={exports:{}},Vb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,J){var te=F.length;F.push(J);e:for(;0<te;){var De=te-1>>>1,Re=F[De];if(0<i(Re,J))F[De]=J,F[te]=Re,te=De;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var J=F[0],te=F.pop();if(te!==J){F[0]=te;e:for(var De=0,Re=F.length,xr=Re>>>1;De<xr;){var Dt=2*(De+1)-1,au=F[Dt],di=Dt+1,eo=F[di];if(0>i(au,te))di<Re&&0>i(eo,au)?(F[De]=eo,F[di]=te,De=di):(F[De]=au,F[Dt]=te,De=Dt);else if(di<Re&&0>i(eo,te))F[De]=eo,F[di]=te,De=di;else break e}}return J}function i(F,J){var te=F.sortIndex-J.sortIndex;return te!==0?te:F.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,g=!1,p=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(F){for(var J=n(u);J!==null;){if(J.callback===null)r(u);else if(J.startTime<=F)r(u),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(u)}}function E(F){if(p=!1,v(F),!g)if(n(l)!==null)g=!0,Ot(S);else{var J=n(u);J!==null&&Oe(E,J.startTime-F)}}function S(F,J){g=!1,p&&(p=!1,y(b),b=-1),f=!0;var te=h;try{for(v(J),d=n(l);d!==null&&(!(d.expirationTime>J)||F&&!K());){var De=d.callback;if(typeof De=="function"){d.callback=null,h=d.priorityLevel;var Re=De(d.expirationTime<=J);J=t.unstable_now(),typeof Re=="function"?d.callback=Re:d===n(l)&&r(l),v(J)}else r(l);d=n(l)}if(d!==null)var xr=!0;else{var Dt=n(u);Dt!==null&&Oe(E,Dt.startTime-J),xr=!1}return xr}finally{d=null,h=te,f=!1}}var T=!1,P=null,b=-1,D=5,A=-1;function K(){return!(t.unstable_now()-A<D)}function z(){if(P!==null){var F=t.unstable_now();A=F;var J=!0;try{J=P(!0,F)}finally{J?G():(T=!1,P=null)}}else T=!1}var G;if(typeof m=="function")G=function(){m(z)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,Ve=Je.port2;Je.port1.onmessage=z,G=function(){Ve.postMessage(null)}}else G=function(){_(z,0)};function Ot(F){P=F,T||(T=!0,G())}function Oe(F,J){b=_(function(){F(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,Ot(S))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var J=3;break;default:J=h}var te=h;h=J;try{return F()}finally{h=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,J){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var te=h;h=F;try{return J()}finally{h=te}},t.unstable_scheduleCallback=function(F,J,te){var De=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?De+te:De):te=De,F){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=te+Re,F={id:c++,callback:J,priorityLevel:F,startTime:te,expirationTime:Re,sortIndex:-1},te>De?(F.sortIndex=te,e(u,F),n(l)===null&&F===n(u)&&(p?(y(b),b=-1):p=!0,Oe(E,te-De))):(F.sortIndex=Re,e(l,F),g||f||(g=!0,Ot(S))),F},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(F){var J=h;return function(){var te=h;h=J;try{return F.apply(this,arguments)}finally{h=te}}}})(Vb);Lb.exports=Vb;var WV=Lb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb=k,Hn=WV;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $b=new Set,gc={};function Ko(t,e){ul(t,e),ul(t+"Capture",e)}function ul(t,e){for(gc[t]=e,t=0;t<e.length;t++)$b.add(e[t])}var ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ev=Object.prototype.hasOwnProperty,qV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FT={},$T={};function HV(t){return Ev.call($T,t)?!0:Ev.call(FT,t)?!1:qV.test(t)?$T[t]=!0:(FT[t]=!0,!1)}function GV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KV(t,e,n,r){if(e===null||typeof e>"u"||GV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new Tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new Tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new Tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new Tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new Tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new Tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new Tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new Tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new Tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var qw=/[\-:]([a-z])/g;function Hw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qw,Hw);Xt[e]=new Tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qw,Hw);Xt[e]=new Tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qw,Hw);Xt[e]=new Tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new Tn(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new Tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gw(t,e,n,r){var i=Xt.hasOwnProperty(e)?Xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KV(e,n,i,r)&&(n=null),r||i===null?HV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vi=Fb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fh=Symbol.for("react.element"),ka=Symbol.for("react.portal"),Aa=Symbol.for("react.fragment"),Kw=Symbol.for("react.strict_mode"),Sv=Symbol.for("react.profiler"),jb=Symbol.for("react.provider"),Ub=Symbol.for("react.context"),Yw=Symbol.for("react.forward_ref"),Tv=Symbol.for("react.suspense"),Iv=Symbol.for("react.suspense_list"),Qw=Symbol.for("react.memo"),Zi=Symbol.for("react.lazy"),Bb=Symbol.for("react.offscreen"),jT=Symbol.iterator;function lu(t){return t===null||typeof t!="object"?null:(t=jT&&t[jT]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,ry;function Ou(t){if(ry===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ry=e&&e[1]||""}return`
`+ry+t}var iy=!1;function sy(t,e){if(!t||iy)return"";iy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{iy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ou(t):""}function YV(t){switch(t.tag){case 5:return Ou(t.type);case 16:return Ou("Lazy");case 13:return Ou("Suspense");case 19:return Ou("SuspenseList");case 0:case 2:case 15:return t=sy(t.type,!1),t;case 11:return t=sy(t.type.render,!1),t;case 1:return t=sy(t.type,!0),t;default:return""}}function Pv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Aa:return"Fragment";case ka:return"Portal";case Sv:return"Profiler";case Kw:return"StrictMode";case Tv:return"Suspense";case Iv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ub:return(t.displayName||"Context")+".Consumer";case jb:return(t._context.displayName||"Context")+".Provider";case Yw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qw:return e=t.displayName||null,e!==null?e:Pv(t.type)||"Memo";case Zi:e=t._payload,t=t._init;try{return Pv(t(e))}catch{}}return null}function QV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pv(e);case 8:return e===Kw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XV(t){var e=zb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ph(t){t._valueTracker||(t._valueTracker=XV(t))}function Wb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rv(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function UT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qb(t,e){e=e.checked,e!=null&&Gw(t,"checked",e,!1)}function bv(t,e){qb(t,e);var n=Rs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kv(t,e.type,n):e.hasOwnProperty("defaultValue")&&kv(t,e.type,Rs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function BT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kv(t,e,n){(e!=="number"||Mf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Du=Array.isArray;function za(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Av(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(Du(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rs(n)}}function Hb(t,e){var n=Rs(e.value),r=Rs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function WT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Gb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mh,Kb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mh=mh||document.createElement("div"),mh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JV=["Webkit","ms","Moz","O"];Object.keys(qu).forEach(function(t){JV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qu[e]=qu[t]})});function Yb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qu.hasOwnProperty(t)&&qu[t]?(""+e).trim():e+"px"}function Qb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Yb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ZV=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xv(t,e){if(e){if(ZV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Ov(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dv=null;function Xw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nv=null,Wa=null,qa=null;function qT(t){if(t=Pd(t)){if(typeof Nv!="function")throw Error(N(280));var e=t.stateNode;e&&(e=lm(e),Nv(t.stateNode,t.type,e))}}function Xb(t){Wa?qa?qa.push(t):qa=[t]:Wa=t}function Jb(){if(Wa){var t=Wa,e=qa;if(qa=Wa=null,qT(t),e)for(t=0;t<e.length;t++)qT(e[t])}}function Zb(t,e){return t(e)}function ek(){}var oy=!1;function tk(t,e,n){if(oy)return t(e,n);oy=!0;try{return Zb(t,e,n)}finally{oy=!1,(Wa!==null||qa!==null)&&(ek(),Jb())}}function vc(t,e){var n=t.stateNode;if(n===null)return null;var r=lm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Mv=!1;if(ki)try{var uu={};Object.defineProperty(uu,"passive",{get:function(){Mv=!0}}),window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{Mv=!1}function e2(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Hu=!1,Lf=null,Vf=!1,Lv=null,t2={onError:function(t){Hu=!0,Lf=t}};function n2(t,e,n,r,i,s,o,a,l){Hu=!1,Lf=null,e2.apply(t2,arguments)}function r2(t,e,n,r,i,s,o,a,l){if(n2.apply(this,arguments),Hu){if(Hu){var u=Lf;Hu=!1,Lf=null}else throw Error(N(198));Vf||(Vf=!0,Lv=u)}}function Yo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function HT(t){if(Yo(t)!==t)throw Error(N(188))}function i2(t){var e=t.alternate;if(!e){if(e=Yo(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return HT(i),t;if(s===r)return HT(i),e;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function rk(t){return t=i2(t),t!==null?ik(t):null}function ik(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ik(t);if(e!==null)return e;t=t.sibling}return null}var sk=Hn.unstable_scheduleCallback,GT=Hn.unstable_cancelCallback,s2=Hn.unstable_shouldYield,o2=Hn.unstable_requestPaint,mt=Hn.unstable_now,a2=Hn.unstable_getCurrentPriorityLevel,Jw=Hn.unstable_ImmediatePriority,ok=Hn.unstable_UserBlockingPriority,Ff=Hn.unstable_NormalPriority,l2=Hn.unstable_LowPriority,ak=Hn.unstable_IdlePriority,im=null,Qr=null;function u2(t){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(im,t,void 0,(t.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:h2,c2=Math.log,d2=Math.LN2;function h2(t){return t>>>=0,t===0?32:31-(c2(t)/d2|0)|0}var gh=64,yh=4194304;function Nu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $f(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Nu(a):(s&=o,s!==0&&(r=Nu(s)))}else o=n&~i,o!==0?r=Nu(o):s!==0&&(r=Nu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Er(e),i=1<<n,r|=t[n],e&=~i;return r}function f2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Er(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=f2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Vv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lk(){var t=gh;return gh<<=1,!(gh&4194240)&&(gh=64),t}function ay(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Td(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Er(e),t[e]=n}function m2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Er(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Zw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Er(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function uk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ck,e0,dk,hk,fk,Fv=!1,vh=[],ps=null,ms=null,gs=null,_c=new Map,wc=new Map,ns=[],g2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KT(t,e){switch(t){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":_c.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(e.pointerId)}}function cu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Pd(e),e!==null&&e0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function y2(t,e,n,r,i){switch(e){case"focusin":return ps=cu(ps,t,e,n,r,i),!0;case"dragenter":return ms=cu(ms,t,e,n,r,i),!0;case"mouseover":return gs=cu(gs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return _c.set(s,cu(_c.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,wc.set(s,cu(wc.get(s)||null,t,e,n,r,i)),!0}return!1}function pk(t){var e=fo(t.target);if(e!==null){var n=Yo(e);if(n!==null){if(e=n.tag,e===13){if(e=nk(n),e!==null){t.blockedOn=e,fk(t.priority,function(){dk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$v(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dv=r,n.target.dispatchEvent(r),Dv=null}else return e=Pd(n),e!==null&&e0(e),t.blockedOn=n,!1;e.shift()}return!0}function YT(t,e,n){Xh(t)&&n.delete(e)}function v2(){Fv=!1,ps!==null&&Xh(ps)&&(ps=null),ms!==null&&Xh(ms)&&(ms=null),gs!==null&&Xh(gs)&&(gs=null),_c.forEach(YT),wc.forEach(YT)}function du(t,e){t.blockedOn===e&&(t.blockedOn=null,Fv||(Fv=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,v2)))}function Ec(t){function e(i){return du(i,t)}if(0<vh.length){du(vh[0],t);for(var n=1;n<vh.length;n++){var r=vh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ps!==null&&du(ps,t),ms!==null&&du(ms,t),gs!==null&&du(gs,t),_c.forEach(e),wc.forEach(e),n=0;n<ns.length;n++)r=ns[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ns.length&&(n=ns[0],n.blockedOn===null);)pk(n),n.blockedOn===null&&ns.shift()}var Ha=Vi.ReactCurrentBatchConfig,jf=!0;function _2(t,e,n,r){var i=ke,s=Ha.transition;Ha.transition=null;try{ke=1,t0(t,e,n,r)}finally{ke=i,Ha.transition=s}}function w2(t,e,n,r){var i=ke,s=Ha.transition;Ha.transition=null;try{ke=4,t0(t,e,n,r)}finally{ke=i,Ha.transition=s}}function t0(t,e,n,r){if(jf){var i=$v(t,e,n,r);if(i===null)yy(t,e,r,Uf,n),KT(t,r);else if(y2(i,t,e,n,r))r.stopPropagation();else if(KT(t,r),e&4&&-1<g2.indexOf(t)){for(;i!==null;){var s=Pd(i);if(s!==null&&ck(s),s=$v(t,e,n,r),s===null&&yy(t,e,r,Uf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else yy(t,e,r,null,n)}}var Uf=null;function $v(t,e,n,r){if(Uf=null,t=Xw(r),t=fo(t),t!==null)if(e=Yo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uf=t,null}function mk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a2()){case Jw:return 1;case ok:return 4;case Ff:case l2:return 16;case ak:return 536870912;default:return 16}default:return 16}}var as=null,n0=null,Jh=null;function gk(){if(Jh)return Jh;var t,e=n0,n=e.length,r,i="value"in as?as.value:as.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Jh=i.slice(t,1<r?1-r:void 0)}function Zh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _h(){return!0}function QT(){return!1}function Qn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_h:QT,this.isPropagationStopped=QT,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_h)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_h)},persist:function(){},isPersistent:_h}),e}var $l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r0=Qn($l),Id=rt({},$l,{view:0,detail:0}),E2=Qn(Id),ly,uy,hu,sm=rt({},Id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hu&&(hu&&t.type==="mousemove"?(ly=t.screenX-hu.screenX,uy=t.screenY-hu.screenY):uy=ly=0,hu=t),ly)},movementY:function(t){return"movementY"in t?t.movementY:uy}}),XT=Qn(sm),S2=rt({},sm,{dataTransfer:0}),T2=Qn(S2),I2=rt({},Id,{relatedTarget:0}),cy=Qn(I2),P2=rt({},$l,{animationName:0,elapsedTime:0,pseudoElement:0}),R2=Qn(P2),b2=rt({},$l,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),k2=Qn(b2),A2=rt({},$l,{data:0}),JT=Qn(A2),C2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=O2[t])?!!e[t]:!1}function i0(){return D2}var N2=rt({},Id,{key:function(t){if(t.key){var e=C2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?x2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i0,charCode:function(t){return t.type==="keypress"?Zh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),M2=Qn(N2),L2=rt({},sm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZT=Qn(L2),V2=rt({},Id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i0}),F2=Qn(V2),$2=rt({},$l,{propertyName:0,elapsedTime:0,pseudoElement:0}),j2=Qn($2),U2=rt({},sm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B2=Qn(U2),z2=[9,13,27,32],s0=ki&&"CompositionEvent"in window,Gu=null;ki&&"documentMode"in document&&(Gu=document.documentMode);var W2=ki&&"TextEvent"in window&&!Gu,yk=ki&&(!s0||Gu&&8<Gu&&11>=Gu),eI=" ",tI=!1;function vk(t,e){switch(t){case"keyup":return z2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _k(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function q2(t,e){switch(t){case"compositionend":return _k(e);case"keypress":return e.which!==32?null:(tI=!0,eI);case"textInput":return t=e.data,t===eI&&tI?null:t;default:return null}}function H2(t,e){if(Ca)return t==="compositionend"||!s0&&vk(t,e)?(t=gk(),Jh=n0=as=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yk&&e.locale!=="ko"?null:e.data;default:return null}}var G2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!G2[t.type]:e==="textarea"}function wk(t,e,n,r){Xb(r),e=Bf(e,"onChange"),0<e.length&&(n=new r0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ku=null,Sc=null;function K2(t){xk(t,0)}function om(t){var e=Da(t);if(Wb(e))return t}function Y2(t,e){if(t==="change")return e}var Ek=!1;if(ki){var dy;if(ki){var hy="oninput"in document;if(!hy){var rI=document.createElement("div");rI.setAttribute("oninput","return;"),hy=typeof rI.oninput=="function"}dy=hy}else dy=!1;Ek=dy&&(!document.documentMode||9<document.documentMode)}function iI(){Ku&&(Ku.detachEvent("onpropertychange",Sk),Sc=Ku=null)}function Sk(t){if(t.propertyName==="value"&&om(Sc)){var e=[];wk(e,Sc,t,Xw(t)),tk(K2,e)}}function Q2(t,e,n){t==="focusin"?(iI(),Ku=e,Sc=n,Ku.attachEvent("onpropertychange",Sk)):t==="focusout"&&iI()}function X2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return om(Sc)}function J2(t,e){if(t==="click")return om(e)}function Z2(t,e){if(t==="input"||t==="change")return om(e)}function eF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ir=typeof Object.is=="function"?Object.is:eF;function Tc(t,e){if(Ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ev.call(e,i)||!Ir(t[i],e[i]))return!1}return!0}function sI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oI(t,e){var n=sI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sI(n)}}function Tk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Tk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ik(){for(var t=window,e=Mf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mf(t.document)}return e}function o0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tF(t){var e=Ik(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Tk(n.ownerDocument.documentElement,n)){if(r!==null&&o0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=oI(n,s);var o=oI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nF=ki&&"documentMode"in document&&11>=document.documentMode,xa=null,jv=null,Yu=null,Uv=!1;function aI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uv||xa==null||xa!==Mf(r)||(r=xa,"selectionStart"in r&&o0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yu&&Tc(Yu,r)||(Yu=r,r=Bf(jv,"onSelect"),0<r.length&&(e=new r0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xa)))}function wh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oa={animationend:wh("Animation","AnimationEnd"),animationiteration:wh("Animation","AnimationIteration"),animationstart:wh("Animation","AnimationStart"),transitionend:wh("Transition","TransitionEnd")},fy={},Pk={};ki&&(Pk=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function am(t){if(fy[t])return fy[t];if(!Oa[t])return t;var e=Oa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Pk)return fy[t]=e[n];return t}var Rk=am("animationend"),bk=am("animationiteration"),kk=am("animationstart"),Ak=am("transitionend"),Ck=new Map,lI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(t,e){Ck.set(t,e),Ko(e,[t])}for(var py=0;py<lI.length;py++){var my=lI[py],rF=my.toLowerCase(),iF=my[0].toUpperCase()+my.slice(1);js(rF,"on"+iF)}js(Rk,"onAnimationEnd");js(bk,"onAnimationIteration");js(kk,"onAnimationStart");js("dblclick","onDoubleClick");js("focusin","onFocus");js("focusout","onBlur");js(Ak,"onTransitionEnd");ul("onMouseEnter",["mouseout","mouseover"]);ul("onMouseLeave",["mouseout","mouseover"]);ul("onPointerEnter",["pointerout","pointerover"]);ul("onPointerLeave",["pointerout","pointerover"]);Ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mu));function uI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,r2(r,e,void 0,t),t.currentTarget=null}function xk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;uI(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;uI(i,a,u),s=l}}}if(Vf)throw t=Lv,Vf=!1,Lv=null,t}function Fe(t,e){var n=e[Hv];n===void 0&&(n=e[Hv]=new Set);var r=t+"__bubble";n.has(r)||(Ok(e,t,2,!1),n.add(r))}function gy(t,e,n){var r=0;e&&(r|=4),Ok(n,t,r,e)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function Ic(t){if(!t[Eh]){t[Eh]=!0,$b.forEach(function(n){n!=="selectionchange"&&(sF.has(n)||gy(n,!1,t),gy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eh]||(e[Eh]=!0,gy("selectionchange",!1,e))}}function Ok(t,e,n,r){switch(mk(e)){case 1:var i=_2;break;case 4:i=w2;break;default:i=t0}n=i.bind(null,e,n,t),i=void 0,!Mv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yy(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=fo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}tk(function(){var u=s,c=Xw(n),d=[];e:{var h=Ck.get(t);if(h!==void 0){var f=r0,g=t;switch(t){case"keypress":if(Zh(n)===0)break e;case"keydown":case"keyup":f=M2;break;case"focusin":g="focus",f=cy;break;case"focusout":g="blur",f=cy;break;case"beforeblur":case"afterblur":f=cy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=XT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=T2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=F2;break;case Rk:case bk:case kk:f=R2;break;case Ak:f=j2;break;case"scroll":f=E2;break;case"wheel":f=B2;break;case"copy":case"cut":case"paste":f=k2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=ZT}var p=(e&4)!==0,_=!p&&t==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var m=u,v;m!==null;){v=m;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,y!==null&&(E=vc(m,y),E!=null&&p.push(Pc(m,E,v)))),_)break;m=m.return}0<p.length&&(h=new f(h,g,null,n,c),d.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Dv&&(g=n.relatedTarget||n.fromElement)&&(fo(g)||g[Ai]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?fo(g):null,g!==null&&(_=Yo(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(p=XT,E="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(p=ZT,E="onPointerLeave",y="onPointerEnter",m="pointer"),_=f==null?h:Da(f),v=g==null?h:Da(g),h=new p(E,m+"leave",f,n,c),h.target=_,h.relatedTarget=v,E=null,fo(c)===u&&(p=new p(y,m+"enter",g,n,c),p.target=v,p.relatedTarget=_,E=p),_=E,f&&g)t:{for(p=f,y=g,m=0,v=p;v;v=la(v))m++;for(v=0,E=y;E;E=la(E))v++;for(;0<m-v;)p=la(p),m--;for(;0<v-m;)y=la(y),v--;for(;m--;){if(p===y||y!==null&&p===y.alternate)break t;p=la(p),y=la(y)}p=null}else p=null;f!==null&&cI(d,h,f,p,!1),g!==null&&_!==null&&cI(d,_,g,p,!0)}}e:{if(h=u?Da(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=Y2;else if(nI(h))if(Ek)S=Z2;else{S=X2;var T=Q2}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=J2);if(S&&(S=S(t,u))){wk(d,S,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&kv(h,"number",h.value)}switch(T=u?Da(u):window,t){case"focusin":(nI(T)||T.contentEditable==="true")&&(xa=T,jv=u,Yu=null);break;case"focusout":Yu=jv=xa=null;break;case"mousedown":Uv=!0;break;case"contextmenu":case"mouseup":case"dragend":Uv=!1,aI(d,n,c);break;case"selectionchange":if(nF)break;case"keydown":case"keyup":aI(d,n,c)}var P;if(s0)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ca?vk(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(yk&&n.locale!=="ko"&&(Ca||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ca&&(P=gk()):(as=c,n0="value"in as?as.value:as.textContent,Ca=!0)),T=Bf(u,b),0<T.length&&(b=new JT(b,t,null,n,c),d.push({event:b,listeners:T}),P?b.data=P:(P=_k(n),P!==null&&(b.data=P)))),(P=W2?q2(t,n):H2(t,n))&&(u=Bf(u,"onBeforeInput"),0<u.length&&(c=new JT("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=P))}xk(d,e)})}function Pc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=vc(t,n),s!=null&&r.unshift(Pc(t,s,i)),s=vc(t,e),s!=null&&r.push(Pc(t,s,i))),t=t.return}return r}function la(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=vc(n,s),l!=null&&o.unshift(Pc(n,l,a))):i||(l=vc(n,s),l!=null&&o.push(Pc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var oF=/\r\n?/g,aF=/\u0000|\uFFFD/g;function dI(t){return(typeof t=="string"?t:""+t).replace(oF,`
`).replace(aF,"")}function Sh(t,e,n){if(e=dI(e),dI(t)!==e&&n)throw Error(N(425))}function zf(){}var Bv=null,zv=null;function Wv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qv=typeof setTimeout=="function"?setTimeout:void 0,lF=typeof clearTimeout=="function"?clearTimeout:void 0,hI=typeof Promise=="function"?Promise:void 0,uF=typeof queueMicrotask=="function"?queueMicrotask:typeof hI<"u"?function(t){return hI.resolve(null).then(t).catch(cF)}:qv;function cF(t){setTimeout(function(){throw t})}function vy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ec(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ec(e)}function ys(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jl=Math.random().toString(36).slice(2),Vr="__reactFiber$"+jl,Rc="__reactProps$"+jl,Ai="__reactContainer$"+jl,Hv="__reactEvents$"+jl,dF="__reactListeners$"+jl,hF="__reactHandles$"+jl;function fo(t){var e=t[Vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ai]||n[Vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fI(t);t!==null;){if(n=t[Vr])return n;t=fI(t)}return e}t=n,n=t.parentNode}return null}function Pd(t){return t=t[Vr]||t[Ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Da(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function lm(t){return t[Rc]||null}var Gv=[],Na=-1;function Us(t){return{current:t}}function Ue(t){0>Na||(t.current=Gv[Na],Gv[Na]=null,Na--)}function Me(t,e){Na++,Gv[Na]=t.current,t.current=e}var bs={},ln=Us(bs),Dn=Us(!1),Co=bs;function cl(t,e){var n=t.type.contextTypes;if(!n)return bs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nn(t){return t=t.childContextTypes,t!=null}function Wf(){Ue(Dn),Ue(ln)}function pI(t,e,n){if(ln.current!==bs)throw Error(N(168));Me(ln,e),Me(Dn,n)}function Dk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,QV(t)||"Unknown",i));return rt({},n,r)}function qf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bs,Co=ln.current,Me(ln,t),Me(Dn,Dn.current),!0}function mI(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=Dk(t,e,Co),r.__reactInternalMemoizedMergedChildContext=t,Ue(Dn),Ue(ln),Me(ln,t)):Ue(Dn),Me(Dn,n)}var mi=null,um=!1,_y=!1;function Nk(t){mi===null?mi=[t]:mi.push(t)}function fF(t){um=!0,Nk(t)}function Bs(){if(!_y&&mi!==null){_y=!0;var t=0,e=ke;try{var n=mi;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}mi=null,um=!1}catch(i){throw mi!==null&&(mi=mi.slice(t+1)),sk(Jw,Bs),i}finally{ke=e,_y=!1}}return null}var Ma=[],La=0,Hf=null,Gf=0,er=[],tr=0,xo=null,gi=1,yi="";function ro(t,e){Ma[La++]=Gf,Ma[La++]=Hf,Hf=t,Gf=e}function Mk(t,e,n){er[tr++]=gi,er[tr++]=yi,er[tr++]=xo,xo=t;var r=gi;t=yi;var i=32-Er(r)-1;r&=~(1<<i),n+=1;var s=32-Er(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,gi=1<<32-Er(e)+i|n<<i|r,yi=s+t}else gi=1<<s|n<<i|r,yi=t}function a0(t){t.return!==null&&(ro(t,1),Mk(t,1,0))}function l0(t){for(;t===Hf;)Hf=Ma[--La],Ma[La]=null,Gf=Ma[--La],Ma[La]=null;for(;t===xo;)xo=er[--tr],er[tr]=null,yi=er[--tr],er[tr]=null,gi=er[--tr],er[tr]=null}var Wn=null,Bn=null,Ke=!1,vr=null;function Lk(t,e){var n=sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wn=t,Bn=ys(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wn=t,Bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xo!==null?{id:gi,overflow:yi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wn=t,Bn=null,!0):!1;default:return!1}}function Kv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yv(t){if(Ke){var e=Bn;if(e){var n=e;if(!gI(t,e)){if(Kv(t))throw Error(N(418));e=ys(n.nextSibling);var r=Wn;e&&gI(t,e)?Lk(r,n):(t.flags=t.flags&-4097|2,Ke=!1,Wn=t)}}else{if(Kv(t))throw Error(N(418));t.flags=t.flags&-4097|2,Ke=!1,Wn=t}}}function yI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wn=t}function Th(t){if(t!==Wn)return!1;if(!Ke)return yI(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wv(t.type,t.memoizedProps)),e&&(e=Bn)){if(Kv(t))throw Vk(),Error(N(418));for(;e;)Lk(t,e),e=ys(e.nextSibling)}if(yI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bn=ys(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bn=null}}else Bn=Wn?ys(t.stateNode.nextSibling):null;return!0}function Vk(){for(var t=Bn;t;)t=ys(t.nextSibling)}function dl(){Bn=Wn=null,Ke=!1}function u0(t){vr===null?vr=[t]:vr.push(t)}var pF=Vi.ReactCurrentBatchConfig;function gr(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Kf=Us(null),Yf=null,Va=null,c0=null;function d0(){c0=Va=Yf=null}function h0(t){var e=Kf.current;Ue(Kf),t._currentValue=e}function Qv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ga(t,e){Yf=t,c0=Va=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(An=!0),t.firstContext=null)}function ur(t){var e=t._currentValue;if(c0!==t)if(t={context:t,memoizedValue:e,next:null},Va===null){if(Yf===null)throw Error(N(308));Va=t,Yf.dependencies={lanes:0,firstContext:t}}else Va=Va.next=t;return e}var po=null;function f0(t){po===null?po=[t]:po.push(t)}function Fk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,f0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ci(t,r)}function Ci(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var es=!1;function p0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $k(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ci(t,n)}return i=r.interleaved,i===null?(e.next=e,f0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ci(t,n)}function ef(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zw(t,n)}}function vI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qf(t,e,n,r){var i=t.updateQueue;es=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,p=a;switch(h=e,f=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=rt({},d,h);break e;case 2:es=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Do|=o,t.lanes=o,t.memoizedState=d}}function _I(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var jk=new Fb.Component().refs;function Xv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cm={isMounted:function(t){return(t=t._reactInternals)?Yo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yn(),i=ws(t),s=Ti(r,i);s.payload=e,n!=null&&(s.callback=n),e=vs(t,s,i),e!==null&&(Sr(e,t,i,r),ef(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yn(),i=ws(t),s=Ti(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=vs(t,s,i),e!==null&&(Sr(e,t,i,r),ef(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),r=ws(t),i=Ti(n,r);i.tag=2,e!=null&&(i.callback=e),e=vs(t,i,r),e!==null&&(Sr(e,t,r,n),ef(e,t,r))}};function wI(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Tc(n,r)||!Tc(i,s):!0}function Uk(t,e,n){var r=!1,i=bs,s=e.contextType;return typeof s=="object"&&s!==null?s=ur(s):(i=Nn(e)?Co:ln.current,r=e.contextTypes,s=(r=r!=null)?cl(t,i):bs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function EI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cm.enqueueReplaceState(e,e.state,null)}function Jv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=jk,p0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ur(s):(s=Nn(e)?Co:ln.current,i.context=cl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Xv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cm.enqueueReplaceState(i,i.state,null),Qf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===jk&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Ih(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function SI(t){var e=t._init;return e(t._payload)}function Bk(t){function e(y,m){if(t){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=Es(y,m),y.index=0,y.sibling=null,y}function s(y,m,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,v,E){return m===null||m.tag!==6?(m=Ry(v,y.mode,E),m.return=y,m):(m=i(m,v),m.return=y,m)}function l(y,m,v,E){var S=v.type;return S===Aa?c(y,m,v.props.children,E,v.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zi&&SI(S)===m.type)?(E=i(m,v.props),E.ref=fu(y,m,v),E.return=y,E):(E=af(v.type,v.key,v.props,null,y.mode,E),E.ref=fu(y,m,v),E.return=y,E)}function u(y,m,v,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=by(v,y.mode,E),m.return=y,m):(m=i(m,v.children||[]),m.return=y,m)}function c(y,m,v,E,S){return m===null||m.tag!==7?(m=To(v,y.mode,E,S),m.return=y,m):(m=i(m,v),m.return=y,m)}function d(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ry(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case fh:return v=af(m.type,m.key,m.props,null,y.mode,v),v.ref=fu(y,null,m),v.return=y,v;case ka:return m=by(m,y.mode,v),m.return=y,m;case Zi:var E=m._init;return d(y,E(m._payload),v)}if(Du(m)||lu(m))return m=To(m,y.mode,v,null),m.return=y,m;Ih(y,m)}return null}function h(y,m,v,E){var S=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(y,m,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case fh:return v.key===S?l(y,m,v,E):null;case ka:return v.key===S?u(y,m,v,E):null;case Zi:return S=v._init,h(y,m,S(v._payload),E)}if(Du(v)||lu(v))return S!==null?null:c(y,m,v,E,null);Ih(y,v)}return null}function f(y,m,v,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(v)||null,a(m,y,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case fh:return y=y.get(E.key===null?v:E.key)||null,l(m,y,E,S);case ka:return y=y.get(E.key===null?v:E.key)||null,u(m,y,E,S);case Zi:var T=E._init;return f(y,m,v,T(E._payload),S)}if(Du(E)||lu(E))return y=y.get(v)||null,c(m,y,E,S,null);Ih(m,E)}return null}function g(y,m,v,E){for(var S=null,T=null,P=m,b=m=0,D=null;P!==null&&b<v.length;b++){P.index>b?(D=P,P=null):D=P.sibling;var A=h(y,P,v[b],E);if(A===null){P===null&&(P=D);break}t&&P&&A.alternate===null&&e(y,P),m=s(A,m,b),T===null?S=A:T.sibling=A,T=A,P=D}if(b===v.length)return n(y,P),Ke&&ro(y,b),S;if(P===null){for(;b<v.length;b++)P=d(y,v[b],E),P!==null&&(m=s(P,m,b),T===null?S=P:T.sibling=P,T=P);return Ke&&ro(y,b),S}for(P=r(y,P);b<v.length;b++)D=f(P,y,b,v[b],E),D!==null&&(t&&D.alternate!==null&&P.delete(D.key===null?b:D.key),m=s(D,m,b),T===null?S=D:T.sibling=D,T=D);return t&&P.forEach(function(K){return e(y,K)}),Ke&&ro(y,b),S}function p(y,m,v,E){var S=lu(v);if(typeof S!="function")throw Error(N(150));if(v=S.call(v),v==null)throw Error(N(151));for(var T=S=null,P=m,b=m=0,D=null,A=v.next();P!==null&&!A.done;b++,A=v.next()){P.index>b?(D=P,P=null):D=P.sibling;var K=h(y,P,A.value,E);if(K===null){P===null&&(P=D);break}t&&P&&K.alternate===null&&e(y,P),m=s(K,m,b),T===null?S=K:T.sibling=K,T=K,P=D}if(A.done)return n(y,P),Ke&&ro(y,b),S;if(P===null){for(;!A.done;b++,A=v.next())A=d(y,A.value,E),A!==null&&(m=s(A,m,b),T===null?S=A:T.sibling=A,T=A);return Ke&&ro(y,b),S}for(P=r(y,P);!A.done;b++,A=v.next())A=f(P,y,b,A.value,E),A!==null&&(t&&A.alternate!==null&&P.delete(A.key===null?b:A.key),m=s(A,m,b),T===null?S=A:T.sibling=A,T=A);return t&&P.forEach(function(z){return e(y,z)}),Ke&&ro(y,b),S}function _(y,m,v,E){if(typeof v=="object"&&v!==null&&v.type===Aa&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case fh:e:{for(var S=v.key,T=m;T!==null;){if(T.key===S){if(S=v.type,S===Aa){if(T.tag===7){n(y,T.sibling),m=i(T,v.props.children),m.return=y,y=m;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zi&&SI(S)===T.type){n(y,T.sibling),m=i(T,v.props),m.ref=fu(y,T,v),m.return=y,y=m;break e}n(y,T);break}else e(y,T);T=T.sibling}v.type===Aa?(m=To(v.props.children,y.mode,E,v.key),m.return=y,y=m):(E=af(v.type,v.key,v.props,null,y.mode,E),E.ref=fu(y,m,v),E.return=y,y=E)}return o(y);case ka:e:{for(T=v.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(y,m.sibling),m=i(m,v.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=by(v,y.mode,E),m.return=y,y=m}return o(y);case Zi:return T=v._init,_(y,m,T(v._payload),E)}if(Du(v))return g(y,m,v,E);if(lu(v))return p(y,m,v,E);Ih(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(y,m.sibling),m=i(m,v),m.return=y,y=m):(n(y,m),m=Ry(v,y.mode,E),m.return=y,y=m),o(y)):n(y,m)}return _}var hl=Bk(!0),zk=Bk(!1),Rd={},Xr=Us(Rd),bc=Us(Rd),kc=Us(Rd);function mo(t){if(t===Rd)throw Error(N(174));return t}function m0(t,e){switch(Me(kc,e),Me(bc,t),Me(Xr,Rd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cv(e,t)}Ue(Xr),Me(Xr,e)}function fl(){Ue(Xr),Ue(bc),Ue(kc)}function Wk(t){mo(kc.current);var e=mo(Xr.current),n=Cv(e,t.type);e!==n&&(Me(bc,t),Me(Xr,n))}function g0(t){bc.current===t&&(Ue(Xr),Ue(bc))}var et=Us(0);function Xf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wy=[];function y0(){for(var t=0;t<wy.length;t++)wy[t]._workInProgressVersionPrimary=null;wy.length=0}var tf=Vi.ReactCurrentDispatcher,Ey=Vi.ReactCurrentBatchConfig,Oo=0,tt=null,kt=null,Mt=null,Jf=!1,Qu=!1,Ac=0,mF=0;function Zt(){throw Error(N(321))}function v0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ir(t[n],e[n]))return!1;return!0}function _0(t,e,n,r,i,s){if(Oo=s,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tf.current=t===null||t.memoizedState===null?_F:wF,t=n(r,i),Qu){s=0;do{if(Qu=!1,Ac=0,25<=s)throw Error(N(301));s+=1,Mt=kt=null,e.updateQueue=null,tf.current=EF,t=n(r,i)}while(Qu)}if(tf.current=Zf,e=kt!==null&&kt.next!==null,Oo=0,Mt=kt=tt=null,Jf=!1,e)throw Error(N(300));return t}function w0(){var t=Ac!==0;return Ac=0,t}function Nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?tt.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function cr(){if(kt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var e=Mt===null?tt.memoizedState:Mt.next;if(e!==null)Mt=e,kt=t;else{if(t===null)throw Error(N(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Mt===null?tt.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function Cc(t,e){return typeof e=="function"?e(t):e}function Sy(t){var e=cr(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=kt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Oo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,tt.lanes|=c,Do|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ir(r,e.memoizedState)||(An=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,tt.lanes|=s,Do|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ty(t){var e=cr(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ir(s,e.memoizedState)||(An=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function qk(){}function Hk(t,e){var n=tt,r=cr(),i=e(),s=!Ir(r.memoizedState,i);if(s&&(r.memoizedState=i,An=!0),r=r.queue,E0(Yk.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,xc(9,Kk.bind(null,n,r,i,e),void 0,null),Vt===null)throw Error(N(349));Oo&30||Gk(n,e,i)}return i}function Gk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Kk(t,e,n,r){e.value=n,e.getSnapshot=r,Qk(e)&&Xk(t)}function Yk(t,e,n){return n(function(){Qk(e)&&Xk(t)})}function Qk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ir(t,n)}catch{return!0}}function Xk(t){var e=Ci(t,1);e!==null&&Sr(e,t,1,-1)}function TI(t){var e=Nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:t},e.queue=t,t=t.dispatch=vF.bind(null,tt,t),[e.memoizedState,t]}function xc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Jk(){return cr().memoizedState}function nf(t,e,n,r){var i=Nr();tt.flags|=t,i.memoizedState=xc(1|e,n,void 0,r===void 0?null:r)}function dm(t,e,n,r){var i=cr();r=r===void 0?null:r;var s=void 0;if(kt!==null){var o=kt.memoizedState;if(s=o.destroy,r!==null&&v0(r,o.deps)){i.memoizedState=xc(e,n,s,r);return}}tt.flags|=t,i.memoizedState=xc(1|e,n,s,r)}function II(t,e){return nf(8390656,8,t,e)}function E0(t,e){return dm(2048,8,t,e)}function Zk(t,e){return dm(4,2,t,e)}function eA(t,e){return dm(4,4,t,e)}function tA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nA(t,e,n){return n=n!=null?n.concat([t]):null,dm(4,4,tA.bind(null,e,t),n)}function S0(){}function rA(t,e){var n=cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&v0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iA(t,e){var n=cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&v0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sA(t,e,n){return Oo&21?(Ir(n,e)||(n=lk(),tt.lanes|=n,Do|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,An=!0),t.memoizedState=n)}function gF(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Ey.transition;Ey.transition={};try{t(!1),e()}finally{ke=n,Ey.transition=r}}function oA(){return cr().memoizedState}function yF(t,e,n){var r=ws(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aA(t))lA(e,n);else if(n=Fk(t,e,n,r),n!==null){var i=yn();Sr(n,t,r,i),uA(n,e,r)}}function vF(t,e,n){var r=ws(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aA(t))lA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ir(a,o)){var l=e.interleaved;l===null?(i.next=i,f0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Fk(t,e,i,r),n!==null&&(i=yn(),Sr(n,t,r,i),uA(n,e,r))}}function aA(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function lA(t,e){Qu=Jf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zw(t,n)}}var Zf={readContext:ur,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},_F={readContext:ur,useCallback:function(t,e){return Nr().memoizedState=[t,e===void 0?null:e],t},useContext:ur,useEffect:II,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nf(4194308,4,tA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nf(4194308,4,t,e)},useInsertionEffect:function(t,e){return nf(4,2,t,e)},useMemo:function(t,e){var n=Nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yF.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=Nr();return t={current:t},e.memoizedState=t},useState:TI,useDebugValue:S0,useDeferredValue:function(t){return Nr().memoizedState=t},useTransition:function(){var t=TI(!1),e=t[0];return t=gF.bind(null,t[1]),Nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,i=Nr();if(Ke){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),Vt===null)throw Error(N(349));Oo&30||Gk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,II(Yk.bind(null,r,s,t),[t]),r.flags|=2048,xc(9,Kk.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Nr(),e=Vt.identifierPrefix;if(Ke){var n=yi,r=gi;n=(r&~(1<<32-Er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ac++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wF={readContext:ur,useCallback:rA,useContext:ur,useEffect:E0,useImperativeHandle:nA,useInsertionEffect:Zk,useLayoutEffect:eA,useMemo:iA,useReducer:Sy,useRef:Jk,useState:function(){return Sy(Cc)},useDebugValue:S0,useDeferredValue:function(t){var e=cr();return sA(e,kt.memoizedState,t)},useTransition:function(){var t=Sy(Cc)[0],e=cr().memoizedState;return[t,e]},useMutableSource:qk,useSyncExternalStore:Hk,useId:oA,unstable_isNewReconciler:!1},EF={readContext:ur,useCallback:rA,useContext:ur,useEffect:E0,useImperativeHandle:nA,useInsertionEffect:Zk,useLayoutEffect:eA,useMemo:iA,useReducer:Ty,useRef:Jk,useState:function(){return Ty(Cc)},useDebugValue:S0,useDeferredValue:function(t){var e=cr();return kt===null?e.memoizedState=t:sA(e,kt.memoizedState,t)},useTransition:function(){var t=Ty(Cc)[0],e=cr().memoizedState;return[t,e]},useMutableSource:qk,useSyncExternalStore:Hk,useId:oA,unstable_isNewReconciler:!1};function pl(t,e){try{var n="",r=e;do n+=YV(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Iy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var SF=typeof WeakMap=="function"?WeakMap:Map;function cA(t,e,n){n=Ti(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tp||(tp=!0,u_=r),Zv(t,e)},n}function dA(t,e,n){n=Ti(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zv(t,e),typeof r!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function PI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new SF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=LF.bind(null,t,e,n),e.then(t,t))}function RI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ti(-1,1),e.tag=2,vs(n,e,1))),n.lanes|=1),t)}var TF=Vi.ReactCurrentOwner,An=!1;function fn(t,e,n,r){e.child=t===null?zk(e,null,n,r):hl(e,t.child,n,r)}function kI(t,e,n,r,i){n=n.render;var s=e.ref;return Ga(e,i),r=_0(t,e,n,r,s,i),n=w0(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xi(t,e,i)):(Ke&&n&&a0(e),e.flags|=1,fn(t,e,r,i),e.child)}function AI(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!C0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,hA(t,e,s,r,i)):(t=af(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tc,n(o,r)&&t.ref===e.ref)return xi(t,e,i)}return e.flags|=1,t=Es(s,r),t.ref=e.ref,t.return=e,e.child=t}function hA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Tc(s,r)&&t.ref===e.ref)if(An=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(An=!0);else return e.lanes=t.lanes,xi(t,e,i)}return e_(t,e,n,r,i)}function fA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me($a,Fn),Fn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me($a,Fn),Fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Me($a,Fn),Fn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Me($a,Fn),Fn|=r;return fn(t,e,i,n),e.child}function pA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function e_(t,e,n,r,i){var s=Nn(n)?Co:ln.current;return s=cl(e,s),Ga(e,i),n=_0(t,e,n,r,s,i),r=w0(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xi(t,e,i)):(Ke&&r&&a0(e),e.flags|=1,fn(t,e,n,i),e.child)}function CI(t,e,n,r,i){if(Nn(n)){var s=!0;qf(e)}else s=!1;if(Ga(e,i),e.stateNode===null)rf(t,e),Uk(e,n,r),Jv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ur(u):(u=Nn(n)?Co:ln.current,u=cl(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&EI(e,o,r,u),es=!1;var h=e.memoizedState;o.state=h,Qf(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Dn.current||es?(typeof c=="function"&&(Xv(e,n,c,r),l=e.memoizedState),(a=es||wI(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$k(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gr(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ur(l):(l=Nn(n)?Co:ln.current,l=cl(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&EI(e,o,r,l),es=!1,h=e.memoizedState,o.state=h,Qf(e,r,o,i);var g=e.memoizedState;a!==d||h!==g||Dn.current||es?(typeof f=="function"&&(Xv(e,n,f,r),g=e.memoizedState),(u=es||wI(e,n,u,r,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return t_(t,e,n,r,s,i)}function t_(t,e,n,r,i,s){pA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&mI(e,n,!1),xi(t,e,s);r=e.stateNode,TF.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=hl(e,t.child,null,s),e.child=hl(e,null,a,s)):fn(t,e,a,s),e.memoizedState=r.state,i&&mI(e,n,!0),e.child}function mA(t){var e=t.stateNode;e.pendingContext?pI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pI(t,e.context,!1),m0(t,e.containerInfo)}function xI(t,e,n,r,i){return dl(),u0(i),e.flags|=256,fn(t,e,n,r),e.child}var n_={dehydrated:null,treeContext:null,retryLane:0};function r_(t){return{baseLanes:t,cachePool:null,transitions:null}}function gA(t,e,n){var r=e.pendingProps,i=et.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Me(et,i&1),t===null)return Yv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pm(o,r,0,null),t=To(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=r_(n),e.memoizedState=n_,t):T0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return IF(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Es(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Es(a,s):(s=To(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?r_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=n_,r}return s=t.child,t=s.sibling,r=Es(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function T0(t,e){return e=pm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ph(t,e,n,r){return r!==null&&u0(r),hl(e,t.child,null,n),t=T0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IF(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Iy(Error(N(422))),Ph(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=pm({mode:"visible",children:r.children},i,0,null),s=To(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&hl(e,t.child,null,o),e.child.memoizedState=r_(o),e.memoizedState=n_,s);if(!(e.mode&1))return Ph(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(N(419)),r=Iy(s,r,void 0),Ph(t,e,o,r)}if(a=(o&t.childLanes)!==0,An||a){if(r=Vt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ci(t,i),Sr(r,t,i,-1))}return A0(),r=Iy(Error(N(421))),Ph(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VF.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Bn=ys(i.nextSibling),Wn=e,Ke=!0,vr=null,t!==null&&(er[tr++]=gi,er[tr++]=yi,er[tr++]=xo,gi=t.id,yi=t.overflow,xo=e),e=T0(e,r.children),e.flags|=4096,e)}function OI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qv(t.return,e,n)}function Py(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function yA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(fn(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&OI(t,n,e);else if(t.tag===19)OI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Py(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Py(e,!0,n,null,s);break;case"together":Py(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Do|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Es(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Es(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PF(t,e,n){switch(e.tag){case 3:mA(e),dl();break;case 5:Wk(e);break;case 1:Nn(e.type)&&qf(e);break;case 4:m0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Me(Kf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?gA(t,e,n):(Me(et,et.current&1),t=xi(t,e,n),t!==null?t.sibling:null);Me(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,fA(t,e,n)}return xi(t,e,n)}var vA,i_,_A,wA;vA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};i_=function(){};_A=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,mo(Xr.current);var s=null;switch(n){case"input":i=Rv(t,i),r=Rv(t,r),s=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),s=[];break;case"textarea":i=Av(t,i),r=Av(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zf)}xv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};wA=function(t,e,n,r){n!==r&&(e.flags|=4)};function pu(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function en(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function RF(t,e,n){var r=e.pendingProps;switch(l0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(e),null;case 1:return Nn(e.type)&&Wf(),en(e),null;case 3:return r=e.stateNode,fl(),Ue(Dn),Ue(ln),y0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Th(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vr!==null&&(h_(vr),vr=null))),i_(t,e),en(e),null;case 5:g0(e);var i=mo(kc.current);if(n=e.type,t!==null&&e.stateNode!=null)_A(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return en(e),null}if(t=mo(Xr.current),Th(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Vr]=e,r[Rc]=s,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<Mu.length;i++)Fe(Mu[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":UT(r,s),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",r);break;case"textarea":zT(r,s),Fe("invalid",r)}xv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Sh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Sh(r.textContent,a,t),i=["children",""+a]):gc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":ph(r),BT(r,s,!0);break;case"textarea":ph(r),WT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Vr]=e,t[Rc]=r,vA(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ov(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Mu.length;i++)Fe(Mu[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":UT(t,r),i=Rv(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":zT(t,r),i=Av(t,r),Fe("invalid",t);break;default:i=r}xv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Qb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yc(t,l):typeof l=="number"&&yc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Fe("scroll",t):l!=null&&Gw(t,s,l,o))}switch(n){case"input":ph(t),BT(t,r,!1);break;case"textarea":ph(t),WT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?za(t,!!r.multiple,s,!1):r.defaultValue!=null&&za(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return en(e),null;case 6:if(t&&e.stateNode!=null)wA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=mo(kc.current),mo(Xr.current),Th(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vr]=e,(s=r.nodeValue!==n)&&(t=Wn,t!==null))switch(t.tag){case 3:Sh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vr]=e,e.stateNode=r}return en(e),null;case 13:if(Ue(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&Bn!==null&&e.mode&1&&!(e.flags&128))Vk(),dl(),e.flags|=98560,s=!1;else if(s=Th(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[Vr]=e}else dl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;en(e),s=!1}else vr!==null&&(h_(vr),vr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?At===0&&(At=3):A0())),e.updateQueue!==null&&(e.flags|=4),en(e),null);case 4:return fl(),i_(t,e),t===null&&Ic(e.stateNode.containerInfo),en(e),null;case 10:return h0(e.type._context),en(e),null;case 17:return Nn(e.type)&&Wf(),en(e),null;case 19:if(Ue(et),s=e.memoizedState,s===null)return en(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)pu(s,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xf(t),o!==null){for(e.flags|=128,pu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(et,et.current&1|2),e.child}t=t.sibling}s.tail!==null&&mt()>ml&&(e.flags|=128,r=!0,pu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Xf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ke)return en(e),null}else 2*mt()-s.renderingStartTime>ml&&n!==1073741824&&(e.flags|=128,r=!0,pu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,n=et.current,Me(et,r?n&1|2:n&1),e):(en(e),null);case 22:case 23:return k0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fn&1073741824&&(en(e),e.subtreeFlags&6&&(e.flags|=8192)):en(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function bF(t,e){switch(l0(e),e.tag){case 1:return Nn(e.type)&&Wf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fl(),Ue(Dn),Ue(ln),y0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return g0(e),null;case 13:if(Ue(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));dl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(et),null;case 4:return fl(),null;case 10:return h0(e.type._context),null;case 22:case 23:return k0(),null;case 24:return null;default:return null}}var Rh=!1,rn=!1,kF=typeof WeakSet=="function"?WeakSet:Set,H=null;function Fa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function s_(t,e,n){try{n()}catch(r){at(t,e,r)}}var DI=!1;function AF(t,e){if(Bv=jf,t=Ik(),o0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zv={focusedElem:t,selectionRange:n},jf=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,_=g.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:gr(e.type,p),_);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(E){at(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return g=DI,DI=!1,g}function Xu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&s_(e,n,s)}i=i.next}while(i!==r)}}function hm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function o_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function EA(t){var e=t.alternate;e!==null&&(t.alternate=null,EA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vr],delete e[Rc],delete e[Hv],delete e[dF],delete e[hF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function SA(t){return t.tag===5||t.tag===3||t.tag===4}function NI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||SA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function a_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zf));else if(r!==4&&(t=t.child,t!==null))for(a_(t,e,n),t=t.sibling;t!==null;)a_(t,e,n),t=t.sibling}function l_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(l_(t,e,n),t=t.sibling;t!==null;)l_(t,e,n),t=t.sibling}var zt=null,yr=!1;function Hi(t,e,n){for(n=n.child;n!==null;)TA(t,e,n),n=n.sibling}function TA(t,e,n){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(im,n)}catch{}switch(n.tag){case 5:rn||Fa(n,e);case 6:var r=zt,i=yr;zt=null,Hi(t,e,n),zt=r,yr=i,zt!==null&&(yr?(t=zt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(yr?(t=zt,n=n.stateNode,t.nodeType===8?vy(t.parentNode,n):t.nodeType===1&&vy(t,n),Ec(t)):vy(zt,n.stateNode));break;case 4:r=zt,i=yr,zt=n.stateNode.containerInfo,yr=!0,Hi(t,e,n),zt=r,yr=i;break;case 0:case 11:case 14:case 15:if(!rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&s_(n,e,o),i=i.next}while(i!==r)}Hi(t,e,n);break;case 1:if(!rn&&(Fa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}Hi(t,e,n);break;case 21:Hi(t,e,n);break;case 22:n.mode&1?(rn=(r=rn)||n.memoizedState!==null,Hi(t,e,n),rn=r):Hi(t,e,n);break;default:Hi(t,e,n)}}function MI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kF),e.forEach(function(r){var i=FF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:zt=a.stateNode,yr=!1;break e;case 3:zt=a.stateNode.containerInfo,yr=!0;break e;case 4:zt=a.stateNode.containerInfo,yr=!0;break e}a=a.return}if(zt===null)throw Error(N(160));TA(s,o,i),zt=null,yr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IA(e,t),e=e.sibling}function IA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mr(e,t),Or(t),r&4){try{Xu(3,t,t.return),hm(3,t)}catch(p){at(t,t.return,p)}try{Xu(5,t,t.return)}catch(p){at(t,t.return,p)}}break;case 1:mr(e,t),Or(t),r&512&&n!==null&&Fa(n,n.return);break;case 5:if(mr(e,t),Or(t),r&512&&n!==null&&Fa(n,n.return),t.flags&32){var i=t.stateNode;try{yc(i,"")}catch(p){at(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&qb(i,s),Ov(a,o);var u=Ov(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Qb(i,d):c==="dangerouslySetInnerHTML"?Kb(i,d):c==="children"?yc(i,d):Gw(i,c,d,u)}switch(a){case"input":bv(i,s);break;case"textarea":Hb(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?za(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?za(i,!!s.multiple,s.defaultValue,!0):za(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rc]=s}catch(p){at(t,t.return,p)}}break;case 6:if(mr(e,t),Or(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){at(t,t.return,p)}}break;case 3:if(mr(e,t),Or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ec(e.containerInfo)}catch(p){at(t,t.return,p)}break;case 4:mr(e,t),Or(t);break;case 13:mr(e,t),Or(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(R0=mt())),r&4&&MI(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(rn=(u=rn)||c,mr(e,t),rn=u):mr(e,t),Or(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(H=t,c=t.child;c!==null;){for(d=H=c;H!==null;){switch(h=H,f=h.child,h.tag){case 0:case 11:case 14:case 15:Xu(4,h,h.return);break;case 1:Fa(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){at(r,n,p)}}break;case 5:Fa(h,h.return);break;case 22:if(h.memoizedState!==null){VI(d);continue}}f!==null?(f.return=h,H=f):VI(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Yb("display",o))}catch(p){at(t,t.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){at(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mr(e,t),Or(t),r&4&&MI(t);break;case 21:break;default:mr(e,t),Or(t)}}function Or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(SA(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yc(i,""),r.flags&=-33);var s=NI(t);l_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=NI(t);a_(t,a,o);break;default:throw Error(N(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CF(t,e,n){H=t,PA(t)}function PA(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Rh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||rn;a=Rh;var u=rn;if(Rh=o,(rn=l)&&!u)for(H=i;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?FI(i):l!==null?(l.return=o,H=l):FI(i);for(;s!==null;)H=s,PA(s),s=s.sibling;H=i,Rh=a,rn=u}LI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):LI(t)}}function LI(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rn||hm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_I(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_I(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ec(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}rn||e.flags&512&&o_(e)}catch(h){at(e,e.return,h)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function VI(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function FI(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hm(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var s=e.return;try{o_(e)}catch(l){at(e,s,l)}break;case 5:var o=e.return;try{o_(e)}catch(l){at(e,o,l)}}}catch(l){at(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var xF=Math.ceil,ep=Vi.ReactCurrentDispatcher,I0=Vi.ReactCurrentOwner,ar=Vi.ReactCurrentBatchConfig,we=0,Vt=null,St=null,Kt=0,Fn=0,$a=Us(0),At=0,Oc=null,Do=0,fm=0,P0=0,Ju=null,kn=null,R0=0,ml=1/0,fi=null,tp=!1,u_=null,_s=null,bh=!1,ls=null,np=0,Zu=0,c_=null,sf=-1,of=0;function yn(){return we&6?mt():sf!==-1?sf:sf=mt()}function ws(t){return t.mode&1?we&2&&Kt!==0?Kt&-Kt:pF.transition!==null?(of===0&&(of=lk()),of):(t=ke,t!==0||(t=window.event,t=t===void 0?16:mk(t.type)),t):1}function Sr(t,e,n,r){if(50<Zu)throw Zu=0,c_=null,Error(N(185));Td(t,n,r),(!(we&2)||t!==Vt)&&(t===Vt&&(!(we&2)&&(fm|=n),At===4&&rs(t,Kt)),Mn(t,r),n===1&&we===0&&!(e.mode&1)&&(ml=mt()+500,um&&Bs()))}function Mn(t,e){var n=t.callbackNode;p2(t,e);var r=$f(t,t===Vt?Kt:0);if(r===0)n!==null&&GT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&GT(n),e===1)t.tag===0?fF($I.bind(null,t)):Nk($I.bind(null,t)),uF(function(){!(we&6)&&Bs()}),n=null;else{switch(uk(r)){case 1:n=Jw;break;case 4:n=ok;break;case 16:n=Ff;break;case 536870912:n=ak;break;default:n=Ff}n=DA(n,RA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RA(t,e){if(sf=-1,of=0,we&6)throw Error(N(327));var n=t.callbackNode;if(Ka()&&t.callbackNode!==n)return null;var r=$f(t,t===Vt?Kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rp(t,r);else{e=r;var i=we;we|=2;var s=kA();(Vt!==t||Kt!==e)&&(fi=null,ml=mt()+500,So(t,e));do try{NF();break}catch(a){bA(t,a)}while(!0);d0(),ep.current=s,we=i,St!==null?e=0:(Vt=null,Kt=0,e=At)}if(e!==0){if(e===2&&(i=Vv(t),i!==0&&(r=i,e=d_(t,i))),e===1)throw n=Oc,So(t,0),rs(t,r),Mn(t,mt()),n;if(e===6)rs(t,r);else{if(i=t.current.alternate,!(r&30)&&!OF(i)&&(e=rp(t,r),e===2&&(s=Vv(t),s!==0&&(r=s,e=d_(t,s))),e===1))throw n=Oc,So(t,0),rs(t,r),Mn(t,mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:io(t,kn,fi);break;case 3:if(rs(t,r),(r&130023424)===r&&(e=R0+500-mt(),10<e)){if($f(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){yn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qv(io.bind(null,t,kn,fi),e);break}io(t,kn,fi);break;case 4:if(rs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Er(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xF(r/1960))-r,10<r){t.timeoutHandle=qv(io.bind(null,t,kn,fi),r);break}io(t,kn,fi);break;case 5:io(t,kn,fi);break;default:throw Error(N(329))}}}return Mn(t,mt()),t.callbackNode===n?RA.bind(null,t):null}function d_(t,e){var n=Ju;return t.current.memoizedState.isDehydrated&&(So(t,e).flags|=256),t=rp(t,e),t!==2&&(e=kn,kn=n,e!==null&&h_(e)),t}function h_(t){kn===null?kn=t:kn.push.apply(kn,t)}function OF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ir(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rs(t,e){for(e&=~P0,e&=~fm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Er(e),r=1<<n;t[n]=-1,e&=~r}}function $I(t){if(we&6)throw Error(N(327));Ka();var e=$f(t,0);if(!(e&1))return Mn(t,mt()),null;var n=rp(t,e);if(t.tag!==0&&n===2){var r=Vv(t);r!==0&&(e=r,n=d_(t,r))}if(n===1)throw n=Oc,So(t,0),rs(t,e),Mn(t,mt()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,io(t,kn,fi),Mn(t,mt()),null}function b0(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(ml=mt()+500,um&&Bs())}}function No(t){ls!==null&&ls.tag===0&&!(we&6)&&Ka();var e=we;we|=1;var n=ar.transition,r=ke;try{if(ar.transition=null,ke=1,t)return t()}finally{ke=r,ar.transition=n,we=e,!(we&6)&&Bs()}}function k0(){Fn=$a.current,Ue($a)}function So(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lF(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(l0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wf();break;case 3:fl(),Ue(Dn),Ue(ln),y0();break;case 5:g0(r);break;case 4:fl();break;case 13:Ue(et);break;case 19:Ue(et);break;case 10:h0(r.type._context);break;case 22:case 23:k0()}n=n.return}if(Vt=t,St=t=Es(t.current,null),Kt=Fn=e,At=0,Oc=null,P0=fm=Do=0,kn=Ju=null,po!==null){for(e=0;e<po.length;e++)if(n=po[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}po=null}return t}function bA(t,e){do{var n=St;try{if(d0(),tf.current=Zf,Jf){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jf=!1}if(Oo=0,Mt=kt=tt=null,Qu=!1,Ac=0,I0.current=null,n===null||n.return===null){At=1,Oc=e,St=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Kt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=RI(o);if(f!==null){f.flags&=-257,bI(f,o,a,s,e),f.mode&1&&PI(s,u,e),e=f,l=u;var g=e.updateQueue;if(g===null){var p=new Set;p.add(l),e.updateQueue=p}else g.add(l);break e}else{if(!(e&1)){PI(s,u,e),A0();break e}l=Error(N(426))}}else if(Ke&&a.mode&1){var _=RI(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),bI(_,o,a,s,e),u0(pl(l,a));break e}}s=l=pl(l,a),At!==4&&(At=2),Ju===null?Ju=[s]:Ju.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=cA(s,l,e);vI(s,y);break e;case 1:a=l;var m=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(_s===null||!_s.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=dA(s,a,e);vI(s,E);break e}}s=s.return}while(s!==null)}CA(n)}catch(S){e=S,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function kA(){var t=ep.current;return ep.current=Zf,t===null?Zf:t}function A0(){(At===0||At===3||At===2)&&(At=4),Vt===null||!(Do&268435455)&&!(fm&268435455)||rs(Vt,Kt)}function rp(t,e){var n=we;we|=2;var r=kA();(Vt!==t||Kt!==e)&&(fi=null,So(t,e));do try{DF();break}catch(i){bA(t,i)}while(!0);if(d0(),we=n,ep.current=r,St!==null)throw Error(N(261));return Vt=null,Kt=0,At}function DF(){for(;St!==null;)AA(St)}function NF(){for(;St!==null&&!s2();)AA(St)}function AA(t){var e=OA(t.alternate,t,Fn);t.memoizedProps=t.pendingProps,e===null?CA(t):St=e,I0.current=null}function CA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bF(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,St=null;return}}else if(n=RF(n,e,Fn),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);At===0&&(At=5)}function io(t,e,n){var r=ke,i=ar.transition;try{ar.transition=null,ke=1,MF(t,e,n,r)}finally{ar.transition=i,ke=r}return null}function MF(t,e,n,r){do Ka();while(ls!==null);if(we&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(m2(t,s),t===Vt&&(St=Vt=null,Kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bh||(bh=!0,DA(Ff,function(){return Ka(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ar.transition,ar.transition=null;var o=ke;ke=1;var a=we;we|=4,I0.current=null,AF(t,n),IA(n,t),tF(zv),jf=!!Bv,zv=Bv=null,t.current=n,CF(n),o2(),we=a,ke=o,ar.transition=s}else t.current=n;if(bh&&(bh=!1,ls=t,np=i),s=t.pendingLanes,s===0&&(_s=null),u2(n.stateNode),Mn(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tp)throw tp=!1,t=u_,u_=null,t;return np&1&&t.tag!==0&&Ka(),s=t.pendingLanes,s&1?t===c_?Zu++:(Zu=0,c_=t):Zu=0,Bs(),null}function Ka(){if(ls!==null){var t=uk(np),e=ar.transition,n=ke;try{if(ar.transition=null,ke=16>t?16:t,ls===null)var r=!1;else{if(t=ls,ls=null,np=0,we&6)throw Error(N(331));var i=we;for(we|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(H=u;H!==null;){var c=H;switch(c.tag){case 0:case 11:case 15:Xu(8,c,s)}var d=c.child;if(d!==null)d.return=c,H=d;else for(;H!==null;){c=H;var h=c.sibling,f=c.return;if(EA(c),c===u){H=null;break}if(h!==null){h.return=f,H=h;break}H=f}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var _=p.sibling;p.sibling=null,p=_}while(p!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,H=y;break e}H=s.return}}var m=t.current;for(H=m;H!==null;){o=H;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,H=v;else e:for(o=m;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hm(9,a)}}catch(S){at(a,a.return,S)}if(a===o){H=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,H=E;break e}H=a.return}}if(we=i,Bs(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(im,t)}catch{}r=!0}return r}finally{ke=n,ar.transition=e}}return!1}function jI(t,e,n){e=pl(n,e),e=cA(t,e,1),t=vs(t,e,1),e=yn(),t!==null&&(Td(t,1,e),Mn(t,e))}function at(t,e,n){if(t.tag===3)jI(t,t,n);else for(;e!==null;){if(e.tag===3){jI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_s===null||!_s.has(r))){t=pl(n,t),t=dA(e,t,1),e=vs(e,t,1),t=yn(),e!==null&&(Td(e,1,t),Mn(e,t));break}}e=e.return}}function LF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yn(),t.pingedLanes|=t.suspendedLanes&n,Vt===t&&(Kt&n)===n&&(At===4||At===3&&(Kt&130023424)===Kt&&500>mt()-R0?So(t,0):P0|=n),Mn(t,e)}function xA(t,e){e===0&&(t.mode&1?(e=yh,yh<<=1,!(yh&130023424)&&(yh=4194304)):e=1);var n=yn();t=Ci(t,e),t!==null&&(Td(t,e,n),Mn(t,n))}function VF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xA(t,n)}function FF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),xA(t,n)}var OA;OA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dn.current)An=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return An=!1,PF(t,e,n);An=!!(t.flags&131072)}else An=!1,Ke&&e.flags&1048576&&Mk(e,Gf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rf(t,e),t=e.pendingProps;var i=cl(e,ln.current);Ga(e,n),i=_0(null,e,r,t,i,n);var s=w0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nn(r)?(s=!0,qf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p0(e),i.updater=cm,e.stateNode=i,i._reactInternals=e,Jv(e,r,t,n),e=t_(null,e,r,!0,s,n)):(e.tag=0,Ke&&s&&a0(e),fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=jF(r),t=gr(r,t),i){case 0:e=e_(null,e,r,t,n);break e;case 1:e=CI(null,e,r,t,n);break e;case 11:e=kI(null,e,r,t,n);break e;case 14:e=AI(null,e,r,gr(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),e_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),CI(t,e,r,i,n);case 3:e:{if(mA(e),t===null)throw Error(N(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$k(t,e),Qf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=pl(Error(N(423)),e),e=xI(t,e,r,n,i);break e}else if(r!==i){i=pl(Error(N(424)),e),e=xI(t,e,r,n,i);break e}else for(Bn=ys(e.stateNode.containerInfo.firstChild),Wn=e,Ke=!0,vr=null,n=zk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dl(),r===i){e=xi(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return Wk(e),t===null&&Yv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Wv(r,i)?o=null:s!==null&&Wv(r,s)&&(e.flags|=32),pA(t,e),fn(t,e,o,n),e.child;case 6:return t===null&&Yv(e),null;case 13:return gA(t,e,n);case 4:return m0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hl(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),kI(t,e,r,i,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Me(Kf,r._currentValue),r._currentValue=o,s!==null)if(Ir(s.value,o)){if(s.children===i.children&&!Dn.current){e=xi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ti(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Qv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ga(e,n),i=ur(i),r=r(i),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,i=gr(r,e.pendingProps),i=gr(r.type,i),AI(t,e,r,i,n);case 15:return hA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),rf(t,e),e.tag=1,Nn(r)?(t=!0,qf(e)):t=!1,Ga(e,n),Uk(e,r,i),Jv(e,r,i,n),t_(null,e,r,!0,t,n);case 19:return yA(t,e,n);case 22:return fA(t,e,n)}throw Error(N(156,e.tag))};function DA(t,e){return sk(t,e)}function $F(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,n,r){return new $F(t,e,n,r)}function C0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jF(t){if(typeof t=="function")return C0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yw)return 11;if(t===Qw)return 14}return 2}function Es(t,e){var n=t.alternate;return n===null?(n=sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function af(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")C0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Aa:return To(n.children,i,s,e);case Kw:o=8,i|=8;break;case Sv:return t=sr(12,n,e,i|2),t.elementType=Sv,t.lanes=s,t;case Tv:return t=sr(13,n,e,i),t.elementType=Tv,t.lanes=s,t;case Iv:return t=sr(19,n,e,i),t.elementType=Iv,t.lanes=s,t;case Bb:return pm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jb:o=10;break e;case Ub:o=9;break e;case Yw:o=11;break e;case Qw:o=14;break e;case Zi:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=sr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function To(t,e,n,r){return t=sr(7,t,r,e),t.lanes=n,t}function pm(t,e,n,r){return t=sr(22,t,r,e),t.elementType=Bb,t.lanes=n,t.stateNode={isHidden:!1},t}function Ry(t,e,n){return t=sr(6,t,null,e),t.lanes=n,t}function by(t,e,n){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ay(0),this.expirationTimes=ay(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ay(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function x0(t,e,n,r,i,s,o,a,l){return t=new UF(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=sr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},p0(s),t}function BF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ka,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function NA(t){if(!t)return bs;t=t._reactInternals;e:{if(Yo(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Nn(n))return Dk(t,n,e)}return e}function MA(t,e,n,r,i,s,o,a,l){return t=x0(n,r,!0,t,i,s,o,a,l),t.context=NA(null),n=t.current,r=yn(),i=ws(n),s=Ti(r,i),s.callback=e??null,vs(n,s,i),t.current.lanes=i,Td(t,i,r),Mn(t,r),t}function mm(t,e,n,r){var i=e.current,s=yn(),o=ws(i);return n=NA(n),e.context===null?e.context=n:e.pendingContext=n,e=Ti(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vs(i,e,o),t!==null&&(Sr(t,i,o,s),ef(t,i,o)),o}function ip(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function UI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function O0(t,e){UI(t,e),(t=t.alternate)&&UI(t,e)}function zF(){return null}var LA=typeof reportError=="function"?reportError:function(t){console.error(t)};function D0(t){this._internalRoot=t}gm.prototype.render=D0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));mm(t,e,null,null)};gm.prototype.unmount=D0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;No(function(){mm(null,t,null,null)}),e[Ai]=null}};function gm(t){this._internalRoot=t}gm.prototype.unstable_scheduleHydration=function(t){if(t){var e=hk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ns.length&&e!==0&&e<ns[n].priority;n++);ns.splice(n,0,t),n===0&&pk(t)}};function N0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function BI(){}function WF(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ip(o);s.call(u)}}var o=MA(e,r,t,0,null,!1,!1,"",BI);return t._reactRootContainer=o,t[Ai]=o.current,Ic(t.nodeType===8?t.parentNode:t),No(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ip(l);a.call(u)}}var l=x0(t,0,!1,null,null,!1,!1,"",BI);return t._reactRootContainer=l,t[Ai]=l.current,Ic(t.nodeType===8?t.parentNode:t),No(function(){mm(e,l,n,r)}),l}function vm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ip(o);a.call(l)}}mm(e,o,t,i)}else o=WF(n,e,t,i,r);return ip(o)}ck=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nu(e.pendingLanes);n!==0&&(Zw(e,n|1),Mn(e,mt()),!(we&6)&&(ml=mt()+500,Bs()))}break;case 13:No(function(){var r=Ci(t,1);if(r!==null){var i=yn();Sr(r,t,1,i)}}),O0(t,1)}};e0=function(t){if(t.tag===13){var e=Ci(t,134217728);if(e!==null){var n=yn();Sr(e,t,134217728,n)}O0(t,134217728)}};dk=function(t){if(t.tag===13){var e=ws(t),n=Ci(t,e);if(n!==null){var r=yn();Sr(n,t,e,r)}O0(t,e)}};hk=function(){return ke};fk=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Nv=function(t,e,n){switch(e){case"input":if(bv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=lm(r);if(!i)throw Error(N(90));Wb(r),bv(r,i)}}}break;case"textarea":Hb(t,n);break;case"select":e=n.value,e!=null&&za(t,!!n.multiple,e,!1)}};Zb=b0;ek=No;var qF={usingClientEntryPoint:!1,Events:[Pd,Da,lm,Xb,Jb,b0]},mu={findFiberByHostInstance:fo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HF={bundleType:mu.bundleType,version:mu.version,rendererPackageName:mu.rendererPackageName,rendererConfig:mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rk(t),t===null?null:t.stateNode},findFiberByHostInstance:mu.findFiberByHostInstance||zF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{im=kh.inject(HF),Qr=kh}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qF;Yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N0(e))throw Error(N(200));return BF(t,e,null,n)};Yn.createRoot=function(t,e){if(!N0(t))throw Error(N(299));var n=!1,r="",i=LA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=x0(t,1,!1,null,null,n,!1,r,i),t[Ai]=e.current,Ic(t.nodeType===8?t.parentNode:t),new D0(e)};Yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=rk(e),t=t===null?null:t.stateNode,t};Yn.flushSync=function(t){return No(t)};Yn.hydrate=function(t,e,n){if(!ym(e))throw Error(N(200));return vm(null,t,e,!0,n)};Yn.hydrateRoot=function(t,e,n){if(!N0(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=LA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=MA(e,null,t,1,n??null,i,!1,s,o),t[Ai]=e.current,Ic(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gm(e)};Yn.render=function(t,e,n){if(!ym(e))throw Error(N(200));return vm(null,t,e,!1,n)};Yn.unmountComponentAtNode=function(t){if(!ym(t))throw Error(N(40));return t._reactRootContainer?(No(function(){vm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ai]=null})}),!0):!1};Yn.unstable_batchedUpdates=b0;Yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ym(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return vm(t,e,n,!1,r)};Yn.version="18.2.0-next-9e3b772b8-20220608";function VA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VA)}catch(t){console.error(t)}}VA(),Mb.exports=Yn;var GF=Mb.exports,FA,zI=GF;FA=zI.createRoot,zI.hydrateRoot;/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(this,arguments)}var us;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(us||(us={}));const WI="popstate";function KF(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return f_("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:sp(i)}return QF(e,n,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function M0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YF(){return Math.random().toString(36).substr(2,8)}function qI(t,e){return{usr:t.state,key:t.key,idx:e}}function f_(t,e,n,r){return n===void 0&&(n=null),Dc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ul(e):e,{state:n,key:e&&e.key||r||YF()})}function sp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ul(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function QF(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=us.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Dc({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=us.Pop;let _=c(),y=_==null?null:_-u;u=_,l&&l({action:a,location:p.location,delta:y})}function h(_,y){a=us.Push;let m=f_(p.location,_,y);n&&n(m,_),u=c()+1;let v=qI(m,u),E=p.createHref(m);try{o.pushState(v,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}s&&l&&l({action:a,location:p.location,delta:1})}function f(_,y){a=us.Replace;let m=f_(p.location,_,y);n&&n(m,_),u=c();let v=qI(m,u),E=p.createHref(m);o.replaceState(v,"",E),s&&l&&l({action:a,location:p.location,delta:0})}function g(_){let y=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof _=="string"?_:sp(_);return Tt(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let p={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(WI,d),l=_,()=>{i.removeEventListener(WI,d),l=null}},createHref(_){return e(i,_)},createURL:g,encodeLocation(_){let y=g(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(_){return o.go(_)}};return p}var HI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(HI||(HI={}));function XF(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ul(e):e,i=L0(r.pathname||"/",n);if(i==null)return null;let s=$A(t);JF(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=a$(s[a],c$(i));return o}function $A(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Tt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ss([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Tt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$A(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:s$(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of jA(s.path))i(s,o,l)}),e}function jA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=jA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function JF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:o$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZF=/^:\w+$/,e$=3,t$=2,n$=1,r$=10,i$=-2,GI=t=>t==="*";function s$(t,e){let n=t.split("/"),r=n.length;return n.some(GI)&&(r+=i$),e&&(r+=t$),n.filter(i=>!GI(i)).reduce((i,s)=>i+(ZF.test(s)?e$:s===""?n$:r$),r)}function o$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function a$(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=l$({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Ss([i,c.pathname]),pathnameBase:m$(Ss([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Ss([i,c.pathnameBase]))}return s}function l$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=u$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const g=a[d];return f&&!g?u[h]=void 0:u[h]=d$(g||"",h),u},{}),pathname:s,pathnameBase:o,pattern:t}}function u$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),M0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function c$(t){try{return decodeURI(t)}catch(e){return M0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function d$(t,e){try{return decodeURIComponent(t)}catch(n){return M0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function L0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function h$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ul(t):t;return{pathname:n?n.startsWith("/")?n:f$(n,e):e,search:g$(r),hash:y$(i)}}function f$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ky(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function UA(t,e){let n=p$(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function BA(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ul(t):(i=Dc({},t),Tt(!i.pathname||!i.pathname.includes("?"),ky("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),ky("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),ky("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=h$(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ss=t=>t.join("/").replace(/\/\/+/g,"/"),m$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zA=["post","put","patch","delete"];new Set(zA);const _$=["get",...zA];new Set(_$);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nc.apply(this,arguments)}const V0=k.createContext(null),w$=k.createContext(null),Qo=k.createContext(null),_m=k.createContext(null),zs=k.createContext({outlet:null,matches:[],isDataRoute:!1}),WA=k.createContext(null);function E$(t,e){let{relative:n}=e===void 0?{}:e;bd()||Tt(!1);let{basename:r,navigator:i}=k.useContext(Qo),{hash:s,pathname:o,search:a}=HA(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ss([r,o])),i.createHref({pathname:l,search:a,hash:s})}function bd(){return k.useContext(_m)!=null}function wm(){return bd()||Tt(!1),k.useContext(_m).location}function qA(t){k.useContext(Qo).static||k.useLayoutEffect(t)}function Em(){let{isDataRoute:t}=k.useContext(zs);return t?L$():S$()}function S$(){bd()||Tt(!1);let t=k.useContext(V0),{basename:e,future:n,navigator:r}=k.useContext(Qo),{matches:i}=k.useContext(zs),{pathname:s}=wm(),o=JSON.stringify(UA(i,n.v7_relativeSplatPath)),a=k.useRef(!1);return qA(()=>{a.current=!0}),k.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=BA(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ss([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}const T$=k.createContext(null);function I$(t){let e=k.useContext(zs).outlet;return e&&k.createElement(T$.Provider,{value:t},e)}function HA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(Qo),{matches:i}=k.useContext(zs),{pathname:s}=wm(),o=JSON.stringify(UA(i,r.v7_relativeSplatPath));return k.useMemo(()=>BA(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function P$(t,e){return R$(t,e)}function R$(t,e,n,r){bd()||Tt(!1);let{navigator:i}=k.useContext(Qo),{matches:s}=k.useContext(zs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=wm(),c;if(e){var d;let _=typeof e=="string"?Ul(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||Tt(!1),c=_}else c=u;let h=c.pathname||"/",f=l==="/"?h:h.slice(l.length)||"/",g=XF(t,{pathname:f}),p=x$(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Ss([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Ss([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&p?k.createElement(_m.Provider,{value:{location:Nc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:us.Pop}},p):p}function b$(){let t=M$(),e=v$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,s)}const k$=k.createElement(b$,null);class A$ extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(zs.Provider,{value:this.props.routeContext},k.createElement(WA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C$(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(V0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(zs.Provider,{value:e},r)}function x$(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||Tt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,g=!1,p=null,_=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,p=d.route.errorElement||k$,l&&(u<0&&h===0?(V$("route-fallback",!1),g=!0,_=null):u===h&&(g=!0,_=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),m=()=>{let v;return f?v=p:g?v=_:d.route.Component?v=k.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,k.createElement(C$,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?k.createElement(A$,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var GA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(GA||{}),op=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(op||{});function O$(t){let e=k.useContext(V0);return e||Tt(!1),e}function D$(t){let e=k.useContext(w$);return e||Tt(!1),e}function N$(t){let e=k.useContext(zs);return e||Tt(!1),e}function KA(t){let e=N$(),n=e.matches[e.matches.length-1];return n.route.id||Tt(!1),n.route.id}function M$(){var t;let e=k.useContext(WA),n=D$(op.UseRouteError),r=KA(op.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function L$(){let{router:t}=O$(GA.UseNavigateStable),e=KA(op.UseNavigateStable),n=k.useRef(!1);return qA(()=>{n.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nc({fromRouteId:e},s)))},[t,e])}const KI={};function V$(t,e,n){!e&&!KI[t]&&(KI[t]=!0)}function F$(t){return I$(t.context)}function Ji(t){Tt(!1)}function $$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=us.Pop,navigator:s,static:o=!1,future:a}=t;bd()&&Tt(!1);let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:s,static:o,future:Nc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ul(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:g="default"}=r,p=k.useMemo(()=>{let _=L0(c,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:g},navigationType:i}},[l,c,d,h,f,g,i]);return p==null?null:k.createElement(Qo.Provider,{value:u},k.createElement(_m.Provider,{children:n,value:p}))}function j$(t){let{children:e,location:n}=t;return P$(p_(e),n)}new Promise(()=>{});function p_(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let s=[...e,i];if(r.type===k.Fragment){n.push.apply(n,p_(r.props.children,s));return}r.type!==Ji&&Tt(!1),!r.props.index||!r.props.children||Tt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=p_(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(this,arguments)}function U$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function B$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function z$(t,e){return t.button===0&&(!e||e==="_self")&&!B$(t)}const W$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],q$="startTransition",YI=Nf[q$];function H$(t){let{basename:e,children:n,future:r,window:i}=t,s=k.useRef();s.current==null&&(s.current=KF({window:i,v5Compat:!0}));let o=s.current,[a,l]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=k.useCallback(d=>{u&&YI?YI(()=>l(d)):l(d)},[l,u]);return k.useLayoutEffect(()=>o.listen(c),[o,c]),k.createElement($$,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const G$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lu=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=U$(e,W$),{basename:f}=k.useContext(Qo),g,p=!1;if(typeof u=="string"&&K$.test(u)&&(g=u,G$))try{let v=new URL(window.location.href),E=u.startsWith("//")?new URL(v.protocol+u):new URL(u),S=L0(E.pathname,f);E.origin===v.origin&&S!=null?u=S+E.search+E.hash:p=!0}catch{}let _=E$(u,{relative:i}),y=Y$(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function m(v){r&&r(v),v.defaultPrevented||y(v)}return k.createElement("a",m_({},h,{href:g||_,onClick:p||s?r:m,ref:n,target:l}))});var QI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(QI||(QI={}));var XI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(XI||(XI={}));function Y$(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Em(),u=wm(),c=HA(t,{relative:o});return k.useCallback(d=>{if(z$(d,n)){d.preventDefault();let h=r!==void 0?r:sp(u)===sp(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}var YA={exports:{}},Q$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",X$=Q$,J$=X$;function QA(){}function XA(){}XA.resetWarningCache=QA;var Z$=function(){function t(r,i,s,o,a,l){if(l!==J$){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:XA,resetWarningCache:QA};return n.PropTypes=n,n};YA.exports=Z$();var JA=YA.exports;const ie=nm(JA);var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.noop=ej;Xn.returnTrue=tj;Xn.charIsNumber=nj;Xn.escapeRegExp=rj;Xn.fixLeadingZero=ij;Xn.splitString=sj;Xn.limitToScale=ZA;Xn.roundToPrecision=oj;Xn.omit=aj;Xn.setCaretPosition=lj;function ej(){}function tj(){return!0}function nj(t){return!!(t||"").match(/\d/)}function rj(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function ij(t){if(!t)return t;var e=t[0]==="-";e&&(t=t.substring(1,t.length));var n=t.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(e?"-":"")+r+(i?"."+i:"")}function sj(t,e){return[t.substring(0,e),t.substring(e)]}function ZA(t,e,n){for(var r="",i=n?"0":"",s=0;s<=e-1;s++)r+=t[s]||i;return r}function oj(t,e,n){var r=t.split("."),i=parseFloat("0."+(r[1]||"0")).toFixed(e).split("."),s=r[0].split("").reverse().reduce(function(a,l,u){return a.length>u?(Number(a[0])+Number(l)).toString()+a.substring(1,a.length):l+a},i[0]),o=ZA(i[1]||"",(r[1]||"").length,n);return s+(o?"."+o:"")}function aj(t,e){var n={};return Object.keys(t).forEach(function(r){e[r]||(n[r]=t[r])}),n}function lj(t,e){if(t.value=t.value,t!==null){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select(),!0}return t.selectionStart||t.selectionStart===0?(t.focus(),t.setSelectionRange(e,e),!0):(t.focus(),!1)}}Xn.thousandGroupSpacing={two:"2",twoScaled:"2s",three:"3",four:"4"};var uj=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cj=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),dj=JA,ve=eC(dj),hj=k,Ah=eC(hj),qe=Xn;function eC(t){return t&&t.__esModule?t:{default:t}}function fj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pj(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var tC={thousandSeparator:ve.default.oneOfType([ve.default.string,ve.default.oneOf([!0])]),thousandSpacing:ve.default.oneOf(["2","2s","3","4"]),decimalSeparator:ve.default.string,decimalScale:ve.default.number,fixedDecimalScale:ve.default.bool,displayType:ve.default.oneOf(["input","text"]),prefix:ve.default.string,suffix:ve.default.string,format:ve.default.oneOfType([ve.default.string,ve.default.func]),removeFormatting:ve.default.func,mask:ve.default.oneOfType([ve.default.string,ve.default.arrayOf(ve.default.string)]),value:ve.default.oneOfType([ve.default.number,ve.default.string]),isNumericString:ve.default.bool,customInput:ve.default.func,allowNegative:ve.default.bool,onValueChange:ve.default.func,onKeyDown:ve.default.func,onMouseUp:ve.default.func,onChange:ve.default.func,onFocus:ve.default.func,onBlur:ve.default.func,type:ve.default.oneOf(["text","tel"]),isAllowed:ve.default.func,renderText:ve.default.func},gj={displayType:"input",decimalSeparator:".",thousandSpacing:"3",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,isNumericString:!1,type:"text",onValueChange:qe.noop,onChange:qe.noop,onKeyDown:qe.noop,onMouseUp:qe.noop,onFocus:qe.noop,onBlur:qe.noop,isAllowed:qe.returnTrue},F0=function(t){mj(e,t);function e(n){fj(this,e);var r=pj(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));r.validateProps();var i=r.formatValueProp();return r.state={value:i,numAsString:r.removeFormatting(i)},r.onChange=r.onChange.bind(r),r.onKeyDown=r.onKeyDown.bind(r),r.onMouseUp=r.onMouseUp.bind(r),r.onFocus=r.onFocus.bind(r),r.onBlur=r.onBlur.bind(r),r}return cj(e,[{key:"componentDidUpdate",value:function(r){this.updateValueIfRequired(r)}},{key:"updateValueIfRequired",value:function(r){var i=this.props,s=this.state;if(r!==i){this.validateProps();var o=s.value,a=s.numAsString||"",l=i.value===void 0?this.formatNumString(a):this.formatValueProp();l!==o&&this.setState({value:l,numAsString:this.removeFormatting(l)})}}},{key:"getFloatString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=this.getSeparators(),s=i.decimalSeparator,o=this.getNumberRegex(!0),a=r[0]==="-";a&&(r=r.replace("-","")),r=(r.match(o)||[]).join("").replace(s,".");var l=r.indexOf(".");return l!==-1&&(r=r.substring(0,l)+"."+r.substring(l+1,r.length).replace(new RegExp((0,qe.escapeRegExp)(s),"g"),"")),a&&(r="-"+r),r}},{key:"getNumberRegex",value:function(r,i){var s=this.props,o=s.format,a=s.decimalScale,l=this.getSeparators(),u=l.decimalSeparator;return new RegExp("\\d"+(u&&a!==0&&!i&&!o?"|"+(0,qe.escapeRegExp)(u):""),r?"g":void 0)}},{key:"getSeparators",value:function(){var r=this.props,i=r.decimalSeparator,s=r.thousandSpacing,o=this.props.thousandSeparator;return o===!0&&(o=","),{decimalSeparator:i,thousandSeparator:o,thousandSpacing:s}}},{key:"getMaskAtIndex",value:function(r){var i=this.props.mask,s=i===void 0?" ":i;return typeof s=="string"?s:s[r]||" "}},{key:"validateProps",value:function(){var r=this.props.mask,i=this.getSeparators(),s=i.decimalSeparator,o=i.thousandSeparator;if(s===o)throw new Error(`
          Decimal separator can't be same as thousand separator.

          thousandSeparator: `+o+` (thousandSeparator = {true} is same as thousandSeparator = ",")
          decimalSeparator: `+s+` (default value for decimalSeparator is .)
       `);if(r){var a=r==="string"?r:r.toString();if(a.match(/\d/g))throw new Error(`
          Mask `+r+` should not contain numeric character;
        `)}}},{key:"splitDecimal",value:function(r){var i=this.props.allowNegative,s=r[0]==="-",o=s&&i;r=r.replace("-","");var a=r.split("."),l=a[0],u=a[1]||"";return{beforeDecimal:l,afterDecimal:u,hasNagation:s,addNegation:o}}},{key:"setPatchedCaretPosition",value:function(r,i,s){(0,qe.setCaretPosition)(r,i),setTimeout(function(){r.value===s&&(0,qe.setCaretPosition)(r,i)},0)}},{key:"correctCaretPosition",value:function(r,i,s){var o=this.props,a=o.prefix,l=o.suffix,u=o.format;if(!u){var c=r[0]==="-";return Math.min(Math.max(i,a.length+(c?1:0)),r.length-l.length)}if(typeof u=="function"||u[i]==="#"&&(0,qe.charIsNumber)(r[i])||u[i-1]==="#"&&(0,qe.charIsNumber)(r[i-1]))return i;var d=u.indexOf("#"),h=u.lastIndexOf("#");i=Math.min(Math.max(i,d),h+1);for(var f=u.substring(i,u.length).indexOf("#"),g=i,p=i+(f===-1?0:f);g>d&&(u[g]!=="#"||!(0,qe.charIsNumber)(r[g]));)g-=1;var _=!(0,qe.charIsNumber)(r[p])||s==="left"&&i!==d||i-g<p-i;return _?g+1:p}},{key:"getCaretPosition",value:function(r,i,s){var o=this.props.format,a=this.state.value,l=this.getNumberRegex(!0),u=(r.match(l)||[]).join(""),c=(i.match(l)||[]).join(""),d=void 0,h=void 0;for(d=0,h=0;h<s;h++){var f=r[h]||"",g=i[d]||"";if(!(!f.match(l)&&f!==g)&&!(f==="0"&&g.match(l)&&g!=="0"&&u.length!==c.length)){for(;f!==i[d]&&d<i.length;)d++;d++}}return typeof o=="string"&&!a&&(d=i.length),d=this.correctCaretPosition(i,d),d}},{key:"removePrefixAndSuffix",value:function(r){var i=this.props,s=i.format,o=i.prefix,a=i.suffix;if(!s&&r){var l=r[0]==="-";l&&(r=r.substring(1,r.length)),r=o&&r.indexOf(o)===0?r.substring(o.length,r.length):r;var u=r.lastIndexOf(a);r=a&&u!==-1&&u===r.length-a.length?r.substring(0,u):r,l&&(r="-"+r)}return r}},{key:"removePatternFormatting",value:function(r){for(var i=this.props.format,s=i.split("#").filter(function(h){return h!==""}),o=0,a="",l=0,u=s.length;l<=u;l++){var c=s[l]||"",d=l===u?r.length:r.indexOf(c,o);if(d===-1){a=r;break}else a+=r.substring(o,d),o=d+c.length}return(a.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(r){var i=this.props,s=i.format,o=i.removeFormatting;return r&&(s?typeof s=="string"?r=this.removePatternFormatting(r):typeof o=="function"?r=o(r):r=(r.match(/\d/g)||[]).join(""):(r=this.removePrefixAndSuffix(r),r=this.getFloatString(r)),r)}},{key:"formatWithPattern",value:function(r){for(var i=this.props.format,s=0,o=i.split(""),a=0,l=i.length;a<l;a++)i[a]==="#"&&(o[a]=r[s]||this.getMaskAtIndex(s),s+=1);return o.join("")}},{key:"formatThousand",value:function(r,i,s){var o=void 0;switch(s){case qe.thousandGroupSpacing.two:o=/(\d)(?=(\d{2})+(?!\d))/g;break;case qe.thousandGroupSpacing.twoScaled:o=/(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;break;case qe.thousandGroupSpacing.four:o=/(\d)(?=(\d{4})+(?!\d))/g;break;default:o=/(\d)(?=(\d{3})+(?!\d))/g}return r.replace(o,"$1"+i)}},{key:"formatAsNumber",value:function(r){var i=this.props,s=i.decimalScale,o=i.fixedDecimalScale,a=i.prefix,l=i.suffix,u=this.getSeparators(),c=u.thousandSeparator,d=u.decimalSeparator,h=u.thousandSpacing,f=r.indexOf(".")!==-1||s&&o,g=this.splitDecimal(r),p=g.beforeDecimal,_=g.afterDecimal,y=g.addNegation;return s!==void 0&&(_=(0,qe.limitToScale)(_,s,o)),c&&(p=this.formatThousand(p,c,h)),a&&(p=a+p),l&&(_=_+l),y&&(p="-"+p),r=p+(f&&d||"")+_,r}},{key:"formatNumString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=this.props.format,s=r;return r===""?s="":r==="-"&&!i?(s="-",r=""):typeof i=="string"?s=this.formatWithPattern(s):typeof i=="function"?s=i(s):s=this.formatAsNumber(s),s}},{key:"formatValueProp",value:function(){var r=this.props,i=r.format,s=r.decimalScale,o=r.fixedDecimalScale,a=this.props,l=a.value,u=a.isNumericString;if(l===void 0)return"";typeof l=="number"&&(l=l.toString(),u=!0),u&&!i&&typeof s=="number"&&(l=(0,qe.roundToPrecision)(l,s,o));var c=u?this.formatNumString(l):this.formatInput(l);return c}},{key:"formatNegation",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=this.props.allowNegative,s=new RegExp("(-)"),o=new RegExp("(-)(.)*(-)"),a=s.test(r),l=o.test(r);return r=r.replace(/-/g,""),a&&!l&&i&&(r="-"+r),r}},{key:"formatInput",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=this.props.format;return i||(r=this.formatNegation(r)),r=this.removeFormatting(r),this.formatNumString(r)}},{key:"isCharacterAFormat",value:function(r,i){var s=this.props,o=s.format,a=s.prefix,l=s.suffix,u=s.decimalScale,c=s.fixedDecimalScale,d=this.getSeparators(),h=d.decimalSeparator;return!!(typeof o=="string"&&o[r]!=="#"||!o&&(r<a.length||r>=i.length-l.length||u&&c&&i[r]===h))}},{key:"checkIfFormatGotDeleted",value:function(r,i,s){for(var o=r;o<i;o++)if(this.isCharacterAFormat(o,s))return!0;return!1}},{key:"correctInputValue",value:function(r,i,s){var o=this.props.format,a=this.state.numAsString||"";if(s.length>=i.length||!s.length)return s;var l=r,u=(0,qe.splitString)(i,r),c=(0,qe.splitString)(s,r),d=u[1].lastIndexOf(c[1]),h=d!==-1?u[1].substring(0,d):"",f=l+h.length;if(this.checkIfFormatGotDeleted(l,f,i)&&(s=i),!o){var g=this.removeFormatting(s),p=this.splitDecimal(g),_=p.beforeDecimal,y=p.afterDecimal,m=p.addNegation;if(g.length<a.length&&_===""&&!parseFloat(y))return m?"-":""}return s}},{key:"onChange",value:function(r){r.persist();var i=r.target,s=i.value,o=this.state,a=this.props,l=a.isAllowed,u=o.value||"",c=Math.max(i.selectionStart,i.selectionEnd);s=this.correctInputValue(c,u,s);var d=this.formatInput(s)||"",h=this.removeFormatting(d),f={formattedValue:d,value:h,floatValue:parseFloat(h)};l(f)||(d=u),i.value=d;var g=this.getCaretPosition(s,d,c);this.setPatchedCaretPosition(i,g,d),d!==u?this.setState({value:d,numAsString:h},function(){a.onValueChange(f),a.onChange(r)}):a.onChange(r)}},{key:"onBlur",value:function(r){var i=this.props,s=this.state,o=i.format,a=i.onBlur,l=s.numAsString,u=s.value;if(!o){l=(0,qe.fixLeadingZero)(l);var c=this.formatNumString(l),d={formattedValue:c,value:l,floatValue:parseFloat(l)};if(c!==u){r.persist(),this.setState({value:c,numAsString:l},function(){i.onValueChange(d),a(r)});return}}a(r)}},{key:"onKeyDown",value:function(r){var i=r.target,s=r.key,o=i.selectionEnd,a=i.value,l=i.selectionStart,u=void 0,c=this.props,d=c.decimalScale,h=c.fixedDecimalScale,f=c.prefix,g=c.suffix,p=c.format,_=c.onKeyDown,y=d!==void 0&&h,m=this.getNumberRegex(!1,y),v=new RegExp("-"),E=typeof p=="string";if(s==="ArrowLeft"||s==="Backspace"?u=l-1:s==="ArrowRight"?u=l+1:s==="Delete"&&(u=l),u===void 0||l!==o){_(r);return}var S=u,T=E?p.indexOf("#"):f.length,P=E?p.lastIndexOf("#")+1:a.length-g.length;if(s==="ArrowLeft"||s==="ArrowRight"){var b=s==="ArrowLeft"?"left":"right";S=this.correctCaretPosition(a,u,b)}else if(s==="Delete"&&!m.test(a[u])&&!v.test(a[u]))for(;!m.test(a[S])&&S<P;)S++;else if(s==="Backspace"&&!m.test(a[u])&&!v.test(a[u])){for(;!m.test(a[S-1])&&S>T;)S--;S=this.correctCaretPosition(a,S,"left")}(S!==u||u<T||u>P)&&(r.preventDefault(),this.setPatchedCaretPosition(i,S,a)),r.isUnitTestRun&&this.setPatchedCaretPosition(i,S,a),this.props.onKeyDown(r)}},{key:"onMouseUp",value:function(r){var i=r.target,s=i.selectionStart,o=i.selectionEnd,a=i.value;if(s===o){var l=this.correctCaretPosition(a,s);l!==s&&this.setPatchedCaretPosition(i,l,a)}this.props.onMouseUp(r)}},{key:"onFocus",value:function(r){var i=this;r.persist(),setTimeout(function(){var s=r.target,o=s.selectionStart,a=s.value,l=i.correctCaretPosition(a,o);l!==o&&i.setPatchedCaretPosition(s,l,a),i.props.onFocus(r)})}},{key:"render",value:function(){var r=this.props,i=r.type,s=r.displayType,o=r.customInput,a=r.renderText,l=this.state.value,u=(0,qe.omit)(this.props,tC),c=uj({},u,{type:i,value:l,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if(s==="text")return a?a(l)||null:Ah.default.createElement("span",u,l);if(o){var d=o;return Ah.default.createElement(d,c)}return Ah.default.createElement("input",c)}}]),e}(Ah.default.Component);F0.propTypes=tC;F0.defaultProps=gj;var yj=F0;const $0=nm(yj),nC=k.createContext(),vj=({reducer:t,initialState:e,children:n})=>w.jsx(nC.Provider,{value:k.useReducer(t,e),children:n}),Ws=()=>k.useContext(nC);function _j(){const[{basket:t},e]=Ws(),n=Em(),r=()=>{n("/payment")},i=s=>s?s.reduce((o,a)=>a.price+o,0):0;return w.jsxs("div",{className:"subtotal",children:[w.jsx($0,{renderText:s=>w.jsxs("div",{children:[w.jsxs("p",{children:["Subtotal (",t.length," item): ",w.jsx("strong",{children:s})]}),w.jsxs("small",{className:"subtotal_gift",children:[w.jsx("input",{type:"checkbox"})," This order contains a gift"]})]}),decimalScale:2,value:i(t),displayType:"text",thousandSeparator:!0,prefix:"$"}),w.jsx("button",{onClick:r,children:"Proceed to checkout"})]})}function Sm({id:t,image:e,title:n,price:r,rating:i,hideButton:s}){const[{basket:o},a]=Ws(),l=()=>{a({type:"REMOVE_FROM_BASKET",id:t})};return w.jsxs("div",{children:[w.jsx("img",{className:"checkoutProduct_image",src:e,alt:""}),w.jsxs("div",{className:"checkoutProduct_info",children:[w.jsx("p",{className:"checkoutProduct_title",children:n}),w.jsxs("p",{className:"checkoutProduct_price",children:[w.jsx("small",{children:"$"}),w.jsx("strong",{children:r})]}),w.jsx("div",{className:"checkoutProduct_rating",children:Array(i).fill().map((u,c)=>w.jsx("p",{children:"⭐"},c))}),!s&&w.jsx("button",{onClick:l,children:"Remove from Basket"})," "]})]})}Sm.propTypes={id:ie.string.isRequired,image:ie.string.isRequired,title:ie.string.isRequired,price:ie.number.isRequired,rating:ie.number.isRequired};function wj(){const[{basket:t},e]=Ws();return w.jsxs("div",{className:"checkout",children:[w.jsxs("div",{className:"checkout_left",children:[w.jsx("img",{className:"checkout-ad",src:"https://m.media-amazon.com/images/W/MEDIAX_792452-T2/images/G/01/Toys-and-Games/Deals_Mobile_HQP._QL95_SY80_.jpg",alt:""}),w.jsx("h3",{children:"Hello"}),w.jsx("h2",{className:"checkout_title",children:"Your shopping Basket"}),t.map(n=>w.jsx(Sm,{id:n.id,title:n.title,image:n.image,price:n.price,rating:n.rating},n.id))]}),w.jsx("div",{className:"checkout_right",children:w.jsx(_j,{})})]})}function Vn({id:t,title:e,image:n,price:r,rating:i}){const[{basket:s},o]=Ws();console.log("this is the basket data",s);const a=()=>{o({type:"ADD_TO_BASKET",item:{id:t,title:e,image:n,price:r,rating:i}})};return w.jsxs("div",{className:"product",children:[w.jsxs("div",{className:"product_info",children:[w.jsx("p",{className:"my_text",children:e}),w.jsxs("p",{className:"product_price",children:[w.jsx("small",{children:"$"}),w.jsx("strong",{children:r})]}),w.jsx("div",{className:"product_rating",children:Array(i).fill().map((l,u)=>w.jsx("p",{children:"⭐"},u))})]}),w.jsx("img",{src:n,alt:""}),w.jsx("button",{onClick:a,className:"product_button",children:"Add to basket"})]})}var rC={},iC={},Tm={},sC={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},n=e;t.default=n})(sC);var Ej="Expected a function",JI=NaN,Sj="[object Symbol]",Tj=/^\s+|\s+$/g,Ij=/^[-+]0x[0-9a-f]+$/i,Pj=/^0b[01]+$/i,Rj=/^0o[0-7]+$/i,bj=parseInt,kj=typeof dh=="object"&&dh&&dh.Object===Object&&dh,Aj=typeof self=="object"&&self&&self.Object===Object&&self,Cj=kj||Aj||Function("return this")(),xj=Object.prototype,Oj=xj.toString,Dj=Math.max,Nj=Math.min,Ay=function(){return Cj.Date.now()};function Mj(t,e,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Ej);e=ZI(e)||0,g_(n)&&(c=!!n.leading,d="maxWait"in n,s=d?Dj(ZI(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function f(T){var P=r,b=i;return r=i=void 0,u=T,o=t.apply(b,P),o}function g(T){return u=T,a=setTimeout(y,e),c?f(T):o}function p(T){var P=T-l,b=T-u,D=e-P;return d?Nj(D,s-b):D}function _(T){var P=T-l,b=T-u;return l===void 0||P>=e||P<0||d&&b>=s}function y(){var T=Ay();if(_(T))return m(T);a=setTimeout(y,p(T))}function m(T){return a=void 0,h&&r?f(T):(r=i=void 0,o)}function v(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function E(){return a===void 0?o:m(Ay())}function S(){var T=Ay(),P=_(T);if(r=arguments,i=this,l=T,P){if(a===void 0)return g(l);if(d)return a=setTimeout(y,e),f(l)}return a===void 0&&(a=setTimeout(y,e)),o}return S.cancel=v,S.flush=E,S}function g_(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Lj(t){return!!t&&typeof t=="object"}function Vj(t){return typeof t=="symbol"||Lj(t)&&Oj.call(t)==Sj}function ZI(t){if(typeof t=="number")return t;if(Vj(t))return JI;if(g_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=g_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Tj,"");var n=Pj.test(t);return n||Rj.test(t)?bj(t.slice(2),n?2:8):Ij.test(t)?JI:+t}var Fj=Mj,oC={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(oC);var Im=oC.exports,U={};Object.defineProperty(U,"__esModule",{value:!0});U.checkSpecKeys=U.checkNavigable=U.changeSlide=U.canUseDOM=U.canGoNext=void 0;U.clamp=aC;U.swipeStart=U.swipeMove=U.swipeEnd=U.slidesOnRight=U.slidesOnLeft=U.slideHandler=U.siblingDirection=U.safePreventDefault=U.lazyStartIndex=U.lazySlidesOnRight=U.lazySlidesOnLeft=U.lazyEndIndex=U.keyHandler=U.initializedState=U.getWidth=U.getTrackLeft=U.getTrackCSS=U.getTrackAnimateCSS=U.getTotalSlides=U.getSwipeDirection=U.getSlideCount=U.getRequiredLazySlides=U.getPreClones=U.getPostClones=U.getOnDemandLazySlides=U.getNavigableIndexes=U.getHeight=U.extractObject=void 0;var $j=jj(k);function jj(t){return t&&t.__esModule?t:{default:t}}function e1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e1(Object(n),!0).forEach(function(r){Uj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aC(t,e,n){return Math.max(e,Math.min(t,n))}var Io=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()};U.safePreventDefault=Io;var j0=function(e){for(var n=[],r=U0(e),i=B0(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};U.getOnDemandLazySlides=j0;var Bj=function(e){for(var n=[],r=U0(e),i=B0(e),s=r;s<i;s++)n.push(s);return n};U.getRequiredLazySlides=Bj;var U0=function(e){return e.currentSlide-lC(e)};U.lazyStartIndex=U0;var B0=function(e){return e.currentSlide+uC(e)};U.lazyEndIndex=B0;var lC=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};U.lazySlidesOnLeft=lC;var uC=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};U.lazySlidesOnRight=uC;var ap=function(e){return e&&e.offsetWidth||0};U.getWidth=ap;var z0=function(e){return e&&e.offsetHeight||0};U.getHeight=z0;var W0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"};U.getSwipeDirection=W0;var q0=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};U.canGoNext=q0;var zj=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};U.extractObject=zj;var Wj=function(e){var n=$j.default.Children.count(e.children),r=e.listRef,i=Math.ceil(ap(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(ap(s)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var u=r&&z0(r.querySelector('[data-index="0"]')),c=u*e.slidesToShow,d=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(d=n-1-e.initialSlide);var h=e.lazyLoadedList||[],f=j0(Ge(Ge({},e),{},{currentSlide:d,lazyLoadedList:h}));h=h.concat(f);var g={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:d,slideHeight:u,listHeight:c,lazyLoadedList:h};return e.autoplaying===null&&e.autoplay&&(g.autoplaying="playing"),g};U.initializedState=Wj;var qj=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,c=e.centerMode,d=e.slidesToScroll,h=e.slidesToShow,f=e.useCSS,g=e.lazyLoadedList;if(n&&r)return{};var p=o,_,y,m,v={},E={},S=s?o:aC(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?p=o+a:o>=a&&(p=o-a),l&&g.indexOf(p)<0&&(g=g.concat(p)),v={animating:!0,currentSlide:p,lazyLoadedList:g,targetSlide:p},E={animating:!1,targetSlide:p}}else _=p,p<0?(_=p+a,s?a%d!==0&&(_=a-a%d):_=0):!q0(e)&&p>u?p=_=u:c&&p>=a?(p=s?a:a-1,_=s?0:a-1):p>=a&&(_=p-a,s?a%d!==0&&(_=0):_=a-h),!s&&p+h>=a&&(_=a-h),y=Lc(Ge(Ge({},e),{},{slideIndex:p})),m=Lc(Ge(Ge({},e),{},{slideIndex:_})),s||(y===m&&(p=_),y=m),l&&(g=g.concat(j0(Ge(Ge({},e),{},{currentSlide:p})))),f?(v={animating:!0,currentSlide:_,trackStyle:H0(Ge(Ge({},e),{},{left:y})),lazyLoadedList:g,targetSlide:S},E={animating:!1,currentSlide:_,trackStyle:Mc(Ge(Ge({},e),{},{left:m})),swipeLeft:null,targetSlide:S}):v={currentSlide:_,trackStyle:Mc(Ge(Ge({},e),{},{left:m})),lazyLoadedList:g,targetSlide:S};return{state:v,nextState:E}};U.slideHandler=qj;var Hj=function(e,n){var r,i,s,o,a,l=e.slidesToScroll,u=e.slidesToShow,c=e.slideCount,d=e.currentSlide,h=e.targetSlide,f=e.lazyLoad,g=e.infinite;if(o=c%l!==0,r=o?0:(c-d)%l,n.message==="previous")s=r===0?l:u-r,a=d-s,f&&!g&&(i=d-s,a=i===-1?c-1:i),g||(a=h-l);else if(n.message==="next")s=r===0?l:r,a=d+s,f&&!g&&(a=(d+l)%c+r),g||(a=h+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,g){var p=fC(Ge(Ge({},e),{},{targetSlide:a}));a>n.currentSlide&&p==="left"?a=a-c:a<n.currentSlide&&p==="right"&&(a=a+c)}}else n.message==="index"&&(a=Number(n.index));return a};U.changeSlide=Hj;var Gj=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};U.keyHandler=Gj;var Kj=function(e,n,r){return e.target.tagName==="IMG"&&Io(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};U.swipeStart=Kj;var Yj=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,u=n.currentSlide,c=n.edgeFriction,d=n.edgeDragged,h=n.onEdge,f=n.swiped,g=n.swiping,p=n.slideCount,_=n.slidesToScroll,y=n.infinite,m=n.touchObject,v=n.swipeEvent,E=n.listHeight,S=n.listWidth;if(!r){if(i)return Io(e);s&&o&&a&&Io(e);var T,P={},b=Lc(n);m.curX=e.touches?e.touches[0].pageX:e.clientX,m.curY=e.touches?e.touches[0].pageY:e.clientY,m.swipeLength=Math.round(Math.sqrt(Math.pow(m.curX-m.startX,2)));var D=Math.round(Math.sqrt(Math.pow(m.curY-m.startY,2)));if(!a&&!g&&D>10)return{scrolling:!0};a&&(m.swipeLength=D);var A=(l?-1:1)*(m.curX>m.startX?1:-1);a&&(A=m.curY>m.startY?1:-1);var K=Math.ceil(p/_),z=W0(n.touchObject,a),G=m.swipeLength;return y||(u===0&&(z==="right"||z==="down")||u+1>=K&&(z==="left"||z==="up")||!q0(n)&&(z==="left"||z==="up"))&&(G=m.swipeLength*c,d===!1&&h&&(h(z),P.edgeDragged=!0)),!f&&v&&(v(z),P.swiped=!0),s?T=b+G*(E/S)*A:l?T=b-G*A:T=b+G*A,a&&(T=b+G*A),P=Ge(Ge({},P),{},{touchObject:m,swipeLeft:T,trackStyle:Mc(Ge(Ge({},n),{},{left:T}))}),Math.abs(m.curX-m.startX)<Math.abs(m.curY-m.startY)*.8||m.swipeLength>10&&(P.swiping=!0,Io(e)),P}};U.swipeMove=Yj;var Qj=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,u=n.listHeight,c=n.swipeToSlide,d=n.scrolling,h=n.onSwipe,f=n.targetSlide,g=n.currentSlide,p=n.infinite;if(!r)return i&&Io(e),{};var _=l?u/a:o/a,y=W0(s,l),m={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(d||!s.swipeLength)return m;if(s.swipeLength>_){Io(e),h&&h(y);var v,E,S=p?g:f;switch(y){case"left":case"up":E=S+v_(n),v=c?y_(n,E):E,m.currentDirection=0;break;case"right":case"down":E=S-v_(n),v=c?y_(n,E):E,m.currentDirection=1;break;default:v=S}m.triggerSlideHandler=v}else{var T=Lc(n);m.trackStyle=H0(Ge(Ge({},n),{},{left:T}))}return m};U.swipeEnd=Qj;var cC=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s};U.getNavigableIndexes=cC;var y_=function(e,n){var r=cC(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n};U.checkNavigable=y_;var v_=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+z0(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+ap(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll};U.getSlideCount=v_;var Pm=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)};U.checkSpecKeys=Pm;var Mc=function(e){Pm(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=hC(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=Ge(Ge({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s};U.getTrackCSS=Mc;var H0=function(e){Pm(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=Mc(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n};U.getTrackAnimateCSS=H0;var Lc=function(e){if(e.unslick)return 0;Pm(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,c=e.listWidth,d=e.variableWidth,h=e.slideHeight,f=e.fade,g=e.vertical,p=0,_,y,m=0;if(f||e.slideCount===1)return 0;var v=0;if(i?(v=-ec(e),o%l!==0&&n+l>o&&(v=-(n>o?a-(n-o):o%l)),s&&(v+=parseInt(a/2))):(o%l!==0&&n+l>o&&(v=a-o%l),s&&(v=parseInt(a/2))),p=v*u,m=v*h,g?_=n*h*-1+m:_=n*u*-1+p,d===!0){var E,S=r&&r.node;if(E=n+ec(e),y=S&&S.childNodes[E],_=y?y.offsetLeft*-1:0,s===!0){E=i?n+ec(e):n,y=S&&S.children[E],_=0;for(var T=0;T<E;T++)_-=S&&S.children[T]&&S.children[T].offsetWidth;_-=parseInt(e.centerPadding),_+=y&&(c-y.offsetWidth)/2}}return _};U.getTrackLeft=Lc;var ec=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};U.getPreClones=ec;var dC=function(e){return e.unslick||!e.infinite?0:e.slideCount};U.getPostClones=dC;var hC=function(e){return e.slideCount===1?1:ec(e)+e.slideCount+dC(e)};U.getTotalSlides=hC;var fC=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+pC(e)?"left":"right":e.targetSlide<e.currentSlide-mC(e)?"right":"left"};U.siblingDirection=fC;var pC=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1};U.slidesOnRight=pC;var mC=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};U.slidesOnLeft=mC;var Xj=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};U.canUseDOM=Xj;var Rm={};function __(t){"@babel/helpers - typeof";return __=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},__(t)}Object.defineProperty(Rm,"__esModule",{value:!0});Rm.Track=void 0;var ts=gC(k),Cy=gC(Im),xy=U;function gC(t){return t&&t.__esModule?t:{default:t}}function w_(){return w_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function Jj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zj(t,e,n){return e&&t1(t.prototype,e),n&&t1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}function E_(t,e){return E_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},E_(t,e)}function tU(t){var e=rU();return function(){var r=lp(t),i;if(e){var s=lp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return nU(this,i)}}function nU(t,e){if(e&&(__(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S_(t)}function S_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},lp(t)}function n1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(n),!0).forEach(function(r){T_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oy=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":l}},iU=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},Dy=function(e,n){return e.key||n},sU=function(e){var n,r=[],i=[],s=[],o=ts.default.Children.count(e.children),a=(0,xy.lazyStartIndex)(e),l=(0,xy.lazyEndIndex)(e);return ts.default.Children.forEach(e.children,function(u,c){var d,h={message:"children",index:c,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(c)>=0?d=u:d=ts.default.createElement("div",null);var f=iU(In(In({},e),{},{index:c})),g=d.props.className||"",p=Oy(In(In({},e),{},{index:c}));if(r.push(ts.default.cloneElement(d,{key:"original"+Dy(d,c),"data-index":c,className:(0,Cy.default)(p,g),tabIndex:"-1","aria-hidden":!p["slick-active"],style:In(In({outline:"none"},d.props.style||{}),f),onClick:function(m){d.props&&d.props.onClick&&d.props.onClick(m),e.focusOnSelect&&e.focusOnSelect(h)}})),e.infinite&&e.fade===!1){var _=o-c;_<=(0,xy.getPreClones)(e)&&o!==e.slidesToShow&&(n=-_,n>=a&&(d=u),p=Oy(In(In({},e),{},{index:n})),i.push(ts.default.cloneElement(d,{key:"precloned"+Dy(d,n),"data-index":n,tabIndex:"-1",className:(0,Cy.default)(p,g),"aria-hidden":!p["slick-active"],style:In(In({},d.props.style||{}),f),onClick:function(m){d.props&&d.props.onClick&&d.props.onClick(m),e.focusOnSelect&&e.focusOnSelect(h)}}))),o!==e.slidesToShow&&(n=o+c,n<l&&(d=u),p=Oy(In(In({},e),{},{index:n})),s.push(ts.default.cloneElement(d,{key:"postcloned"+Dy(d,n),"data-index":n,tabIndex:"-1",className:(0,Cy.default)(p,g),"aria-hidden":!p["slick-active"],style:In(In({},d.props.style||{}),f),onClick:function(m){d.props&&d.props.onClick&&d.props.onClick(m),e.focusOnSelect&&e.focusOnSelect(h)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)},oU=function(t){eU(n,t);var e=tU(n);function n(){var r;Jj(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),T_(S_(r),"node",null),T_(S_(r),"handleRef",function(a){r.node=a}),r}return Zj(n,[{key:"render",value:function(){var i=sU(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,u={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return ts.default.createElement("div",w_({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),i)}}]),n}(ts.default.PureComponent);Rm.Track=oU;var bm={};function I_(t){"@babel/helpers - typeof";return I_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I_(t)}Object.defineProperty(bm,"__esModule",{value:!0});bm.Dots=void 0;var Ch=yC(k),aU=yC(Im),r1=U;function yC(t){return t&&t.__esModule?t:{default:t}}function i1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i1(Object(n),!0).forEach(function(r){uU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dU(t,e,n){return e&&s1(t.prototype,e),n&&s1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},P_(t,e)}function fU(t){var e=gU();return function(){var r=up(t),i;if(e){var s=up(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return pU(this,i)}}function pU(t,e){if(e&&(I_(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mU(t)}function mU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function up(t){return up=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},up(t)}var yU=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n},vU=function(t){hU(n,t);var e=fU(n);function n(){return cU(this,n),e.apply(this,arguments)}return dU(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,u=i.slidesToScroll,c=i.slidesToShow,d=i.slideCount,h=i.currentSlide,f=yU({slideCount:d,slidesToScroll:u,slidesToShow:c,infinite:l}),g={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},p=[],_=0;_<f;_++){var y=(_+1)*u-1,m=l?y:(0,r1.clamp)(y,0,d-1),v=m-(u-1),E=l?v:(0,r1.clamp)(v,0,d-1),S=(0,aU.default)({"slick-active":l?h>=E&&h<=m:h===E}),T={message:"dots",index:_,slidesToScroll:u,currentSlide:h},P=this.clickHandler.bind(this,T);p=p.concat(Ch.default.createElement("li",{key:_,className:S},Ch.default.cloneElement(this.props.customPaging(_),{onClick:P})))}return Ch.default.cloneElement(this.props.appendDots(p),lU({className:this.props.dotsClass},g))}}]),n}(Ch.default.PureComponent);bm.Dots=vU;var gl={};function R_(t){"@babel/helpers - typeof";return R_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R_(t)}Object.defineProperty(gl,"__esModule",{value:!0});gl.PrevArrow=gl.NextArrow=void 0;var Ya=_C(k),vC=_C(Im),_U=U;function _C(t){return t&&t.__esModule?t:{default:t}}function cp(){return cp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cp.apply(this,arguments)}function o1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o1(Object(n),!0).forEach(function(r){wU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EC(t,e,n){return e&&a1(t.prototype,e),n&&a1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function SC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b_(t,e)}function b_(t,e){return b_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},b_(t,e)}function TC(t){var e=TU();return function(){var r=hp(t),i;if(e){var s=hp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return EU(this,i)}}function EU(t,e){if(e&&(R_(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SU(t)}function SU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hp(t){return hp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},hp(t)}var IU=function(t){SC(n,t);var e=TC(n);function n(){return wC(this,n),e.apply(this,arguments)}return EC(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,vC.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=Ya.default.cloneElement(this.props.prevArrow,dp(dp({},o),a)):l=Ya.default.createElement("button",cp({key:"0",type:"button"},o)," ","Previous"),l}}]),n}(Ya.default.PureComponent);gl.PrevArrow=IU;var PU=function(t){SC(n,t);var e=TC(n);function n(){return wC(this,n),e.apply(this,arguments)}return EC(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,_U.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,vC.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=Ya.default.cloneElement(this.props.nextArrow,dp(dp({},o),a)):l=Ya.default.createElement("button",cp({key:"1",type:"button"},o)," ","Next"),l}}]),n}(Ya.default.PureComponent);gl.NextArrow=PU;var IC=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),k_=typeof window<"u"&&typeof document<"u"&&window.document===document,fp=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),RU=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(fp):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),bU=2;function kU(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){RU(s)}function a(){var l=Date.now();if(n){if(l-i<bU)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=l}return a}var AU=20,CU=["top","right","bottom","left","width","height","size","weight"],xU=typeof MutationObserver<"u",OU=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=kU(this.refresh.bind(this),AU)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!k_||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),xU?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!k_||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=CU.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),PC=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},yl=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||fp},RC=km(0,0,0,0);function pp(t){return parseFloat(t)||0}function l1(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+pp(s)},0)}function DU(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=pp(o)}return n}function NU(t){var e=t.getBBox();return km(0,0,e.width,e.height)}function MU(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return RC;var r=yl(t).getComputedStyle(t),i=DU(r),s=i.left+i.right,o=i.top+i.bottom,a=pp(r.width),l=pp(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=l1(r,"left","right")+s),Math.round(l+o)!==n&&(l-=l1(r,"top","bottom")+o)),!VU(t)){var u=Math.round(a+s)-e,c=Math.round(l+o)-n;Math.abs(u)!==1&&(a-=u),Math.abs(c)!==1&&(l-=c)}return km(i.left,i.top,a,l)}var LU=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof yl(t).SVGGraphicsElement}:function(t){return t instanceof yl(t).SVGElement&&typeof t.getBBox=="function"}}();function VU(t){return t===yl(t).document.documentElement}function FU(t){return k_?LU(t)?NU(t):MU(t):RC}function $U(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return PC(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function km(t,e,n,r){return{x:t,y:e,width:n,height:r}}var jU=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=km(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=FU(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),UU=function(){function t(e,n){var r=$U(n);PC(this,{target:e,contentRect:r})}return t}(),BU=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new IC,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof yl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new jU(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof yl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new UU(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),bC=typeof WeakMap<"u"?new WeakMap:new IC,kC=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=OU.getInstance(),r=new BU(e,n,this);bC.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){kC.prototype[t]=function(){var e;return(e=bC.get(this))[t].apply(e,arguments)}});var zU=function(){return typeof fp.ResizeObserver<"u"?fp.ResizeObserver:kC}();const WU=Object.freeze(Object.defineProperty({__proto__:null,default:zU},Symbol.toStringTag,{value:"Module"})),qU=Ib(WU);Object.defineProperty(Tm,"__esModule",{value:!0});Tm.InnerSlider=void 0;var dn=kd(k),HU=kd(sC),GU=kd(Fj),KU=kd(Im),Ze=U,YU=Rm,QU=bm,u1=gl,XU=kd(qU);function kd(t){return t&&t.__esModule?t:{default:t}}function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function gp(){return gp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gp.apply(this,arguments)}function JU(t,e){if(t==null)return{};var n=ZU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function c1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c1(Object(n),!0).forEach(function(r){ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function t4(t,e,n){return e&&d1(t.prototype,e),n&&d1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function n4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A_(t,e)}function A_(t,e){return A_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},A_(t,e)}function r4(t){var e=s4();return function(){var r=yp(t),i;if(e){var s=yp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return i4(this,i)}}function i4(t,e){if(e&&(mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return le(t)}function le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},yp(t)}function ue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o4=function(t){n4(n,t);var e=r4(n);function n(r){var i;e4(this,n),i=e.call(this,r),ue(le(i),"listRefHandler",function(o){return i.list=o}),ue(le(i),"trackRefHandler",function(o){return i.track=o}),ue(le(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Ze.getHeight)(o)+"px"}}),ue(le(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,Ze.getOnDemandLazySlides)(ee(ee({},i.props),i.state));o.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=ee({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new XU.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),ue(le(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),ue(le(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,Ze.getOnDemandLazySlides)(ee(ee({},i.props),i.state));a.length>0&&(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=ee(ee({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(o);u&&i.updateState(l,u,function(){i.state.currentSlide>=dn.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:dn.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),ue(le(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,GU.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),ue(le(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=ee(ee({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),ue(le(i),"updateState",function(o,a,l){var u=(0,Ze.initializedState)(o);o=ee(ee(ee({},o),u),{},{slideIndex:u.currentSlide});var c=(0,Ze.getTrackLeft)(o);o=ee(ee({},o),{},{left:c});var d=(0,Ze.getTrackCSS)(o);(a||dn.default.Children.count(i.props.children)!==dn.default.Children.count(o.children))&&(u.trackStyle=d),i.setState(u,l)}),ue(le(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,l=[],u=(0,Ze.getPreClones)(ee(ee(ee({},i.props),i.state),{},{slideCount:i.props.children.length})),c=(0,Ze.getPostClones)(ee(ee(ee({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(P){l.push(P.props.style.width),o+=P.props.style.width});for(var d=0;d<u;d++)a+=l[l.length-1-d],o+=l[l.length-1-d];for(var h=0;h<c;h++)o+=l[h];for(var f=0;f<i.state.currentSlide;f++)a+=l[f];var g={width:o+"px",left:-a+"px"};if(i.props.centerMode){var p="".concat(l[i.state.currentSlide],"px");g.left="calc(".concat(g.left," + (100% - ").concat(p,") / 2 ) ")}return{trackStyle:g}}var _=dn.default.Children.count(i.props.children),y=ee(ee(ee({},i.props),i.state),{},{slideCount:_}),m=(0,Ze.getPreClones)(y)+(0,Ze.getPostClones)(y)+_,v=100/i.props.slidesToShow*m,E=100/m,S=-E*((0,Ze.getPreClones)(y)+i.state.currentSlide)*v/100;i.props.centerMode&&(S+=(100-E*v/100)/2);var T={width:v+"%",left:S+"%"};return{slideWidth:E+"%",trackStyle:T}}),ue(le(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(u){var c=function(){return++l&&l>=a&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var d=u.onclick;u.onclick=function(){d(),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=c,u.onerror=function(){c(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),ue(le(i),"progressiveLazyLoad",function(){for(var o=[],a=ee(ee({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,Ze.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var u=i.state.currentSlide-1;u>=-(0,Ze.getPreClones)(a);u--)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}o.length>0?(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),ue(le(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,u=l.asNavFor,c=l.beforeChange,d=l.onLazyLoad,h=l.speed,f=l.afterChange,g=i.state.currentSlide,p=(0,Ze.slideHandler)(ee(ee(ee({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),_=p.state,y=p.nextState;if(_){c&&c(g,_.currentSlide);var m=_.lazyLoadedList.filter(function(v){return i.state.lazyLoadedList.indexOf(v)<0});d&&m.length>0&&d(m),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),f&&f(g),delete i.animationEndCallback),i.setState(_,function(){u&&i.asNavForIndex!==o&&(i.asNavForIndex=o,u.innerSlider.slideHandler(o)),y&&(i.animationEndCallback=setTimeout(function(){var v=y.animating,E=JU(y,["animating"]);i.setState(E,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:v})},10)),f&&f(_.currentSlide),delete i.animationEndCallback})},h))})}}),ue(le(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=ee(ee({},i.props),i.state),u=(0,Ze.changeSlide)(l,o);if(!(u!==0&&!u)&&(a===!0?i.slideHandler(u,a):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var c=i.list.querySelectorAll(".slick-current");c[0]&&c[0].focus()}}),ue(le(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),ue(le(i),"keyHandler",function(o){var a=(0,Ze.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),ue(le(i),"selectHandler",function(o){i.changeSlide(o)}),ue(le(i),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),ue(le(i),"enableBodyScroll",function(){window.ontouchmove=null}),ue(le(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,Ze.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),ue(le(i),"swipeMove",function(o){var a=(0,Ze.swipeMove)(o,ee(ee(ee({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),ue(le(i),"swipeEnd",function(o){var a=(0,Ze.swipeEnd)(o,ee(ee(ee({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),ue(le(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),ue(le(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),ue(le(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),ue(le(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),ue(le(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,Ze.canGoNext)(ee(ee({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),ue(le(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),ue(le(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),ue(le(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),ue(le(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),ue(le(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),ue(le(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),ue(le(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),ue(le(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),ue(le(i),"render",function(){var o=(0,KU.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=ee(ee({},i.props),i.state),l=(0,Ze.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;l=ee(ee({},l),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var c;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var d=(0,Ze.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),h=i.props.pauseOnDotsHover;d=ee(ee({},d),{},{clickHandler:i.changeSlide,onMouseEnter:h?i.onDotsLeave:null,onMouseOver:h?i.onDotsOver:null,onMouseLeave:h?i.onDotsLeave:null}),c=dn.default.createElement(QU.Dots,d)}var f,g,p=(0,Ze.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);p.clickHandler=i.changeSlide,i.props.arrows&&(f=dn.default.createElement(u1.PrevArrow,p),g=dn.default.createElement(u1.NextArrow,p));var _=null;i.props.vertical&&(_={height:i.state.listHeight});var y=null;i.props.vertical===!1?i.props.centerMode===!0&&(y={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(y={padding:i.props.centerPadding+" 0px"});var m=ee(ee({},_),y),v=i.props.touchMove,E={className:"slick-list",style:m,onClick:i.clickHandler,onMouseDown:v?i.swipeStart:null,onMouseMove:i.state.dragging&&v?i.swipeMove:null,onMouseUp:v?i.swipeEnd:null,onMouseLeave:i.state.dragging&&v?i.swipeEnd:null,onTouchStart:v?i.swipeStart:null,onTouchMove:i.state.dragging&&v?i.swipeMove:null,onTouchEnd:v?i.touchEnd:null,onTouchCancel:i.state.dragging&&v?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},S={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(E={className:"slick-list"},S={className:o}),dn.default.createElement("div",S,i.props.unslick?"":f,dn.default.createElement("div",gp({ref:i.listRefHandler},E),dn.default.createElement(YU.Track,gp({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":g,i.props.unslick?"":c)}),i.list=null,i.track=null,i.state=ee(ee({},HU.default),{},{currentSlide:i.props.initialSlide,slideCount:dn.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=ee(ee({},i.state),s),i}return t4(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!i.hasOwnProperty(l)){s=!0;break}if(!(mp(i[l])==="object"||typeof i[l]=="function")&&i[l]!==this.props[l]){s=!0;break}}return s||dn.default.Children.count(this.props.children)!==dn.default.Children.count(i.children)}}]),n}(dn.default.Component);Tm.InnerSlider=o4;var a4=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},l4=a4,u4=l4,c4=function(t){var e=/[height|width]$/;return e.test(t)},h1=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=u4(r),c4(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},d4=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=h1(n),r<t.length-1&&(e+=", ")}),e):h1(t)},h4=d4,AC={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(k);function n(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},i=r;t.default=i})(AC);var Ny,f1;function f4(){if(f1)return Ny;f1=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Ny=t,Ny}var My,p1;function CC(){if(p1)return My;p1=1;function t(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return My={isFunction:n,isArray:e,each:t},My}var Ly,m1;function p4(){if(m1)return Ly;m1=1;var t=f4(),e=CC().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},Ly=n,Ly}var Vy,g1;function m4(){if(g1)return Vy;g1=1;var t=p4(),e=CC(),n=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var u=this.queries,c=l&&this.browserIsIncapable;return u[o]||(u[o]=new t(o,c)),r(a)&&(a={match:a}),i(a)||(a=[a]),n(a,function(d){r(d)&&(d={match:d}),u[o].addHandler(d)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},Vy=s,Vy}var Fy,y1;function g4(){if(y1)return Fy;y1=1;var t=m4();return Fy=new t,Fy}(function(t){function e(b){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},e(b)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(k),r=Tm,i=a(h4),s=a(AC),o=U;function a(b){return b&&b.__esModule?b:{default:b}}function l(){return l=Object.assign||function(b){for(var D=1;D<arguments.length;D++){var A=arguments[D];for(var K in A)Object.prototype.hasOwnProperty.call(A,K)&&(b[K]=A[K])}return b},l.apply(this,arguments)}function u(b,D){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(b);D&&(K=K.filter(function(z){return Object.getOwnPropertyDescriptor(b,z).enumerable})),A.push.apply(A,K)}return A}function c(b){for(var D=1;D<arguments.length;D++){var A=arguments[D]!=null?arguments[D]:{};D%2?u(Object(A),!0).forEach(function(K){S(b,K,A[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):u(Object(A)).forEach(function(K){Object.defineProperty(b,K,Object.getOwnPropertyDescriptor(A,K))})}return b}function d(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")}function h(b,D){for(var A=0;A<D.length;A++){var K=D[A];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(b,K.key,K)}}function f(b,D,A){return D&&h(b.prototype,D),A&&h(b,A),Object.defineProperty(b,"prototype",{writable:!1}),b}function g(b,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(D&&D.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),D&&p(b,D)}function p(b,D){return p=Object.setPrototypeOf||function(K,z){return K.__proto__=z,K},p(b,D)}function _(b){var D=v();return function(){var K=E(b),z;if(D){var G=E(this).constructor;z=Reflect.construct(K,arguments,G)}else z=K.apply(this,arguments);return y(this,z)}}function y(b,D){if(D&&(e(D)==="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(b)}function m(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E(b){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},E(b)}function S(b,D,A){return D in b?Object.defineProperty(b,D,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[D]=A,b}var T=(0,o.canUseDOM)()&&g4(),P=function(b){g(A,b);var D=_(A);function A(K){var z;return d(this,A),z=D.call(this,K),S(m(z),"innerSliderRefHandler",function(G){return z.innerSlider=G}),S(m(z),"slickPrev",function(){return z.innerSlider.slickPrev()}),S(m(z),"slickNext",function(){return z.innerSlider.slickNext()}),S(m(z),"slickGoTo",function(G){var Je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return z.innerSlider.slickGoTo(G,Je)}),S(m(z),"slickPause",function(){return z.innerSlider.pause("paused")}),S(m(z),"slickPlay",function(){return z.innerSlider.autoPlay("play")}),z.state={breakpoint:null},z._responsiveMediaHandlers=[],z}return f(A,[{key:"media",value:function(z,G){T.register(z,G),this._responsiveMediaHandlers.push({query:z,handler:G})}},{key:"componentDidMount",value:function(){var z=this;if(this.props.responsive){var G=this.props.responsive.map(function(Ve){return Ve.breakpoint});G.sort(function(Ve,Ot){return Ve-Ot}),G.forEach(function(Ve,Ot){var Oe;Ot===0?Oe=(0,i.default)({minWidth:0,maxWidth:Ve}):Oe=(0,i.default)({minWidth:G[Ot-1]+1,maxWidth:Ve}),(0,o.canUseDOM)()&&z.media(Oe,function(){z.setState({breakpoint:Ve})})});var Je=(0,i.default)({minWidth:G.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(Je,function(){z.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(z){T.unregister(z.query,z.handler)})}},{key:"render",value:function(){var z=this,G,Je;this.state.breakpoint?(Je=this.props.responsive.filter(function(Dt){return Dt.breakpoint===z.state.breakpoint}),G=Je[0].settings==="unslick"?"unslick":c(c(c({},s.default),this.props),Je[0].settings)):G=c(c({},s.default),this.props),G.centerMode&&(G.slidesToScroll>1,G.slidesToScroll=1),G.fade&&(G.slidesToShow>1,G.slidesToScroll>1,G.slidesToShow=1,G.slidesToScroll=1);var Ve=n.default.Children.toArray(this.props.children);Ve=Ve.filter(function(Dt){return typeof Dt=="string"?!!Dt.trim():!!Dt}),G.variableWidth&&(G.rows>1||G.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),G.variableWidth=!1);for(var Ot=[],Oe=null,F=0;F<Ve.length;F+=G.rows*G.slidesPerRow){for(var J=[],te=F;te<F+G.rows*G.slidesPerRow;te+=G.slidesPerRow){for(var De=[],Re=te;Re<te+G.slidesPerRow&&(G.variableWidth&&Ve[Re].props.style&&(Oe=Ve[Re].props.style.width),!(Re>=Ve.length));Re+=1)De.push(n.default.cloneElement(Ve[Re],{key:100*F+10*te+Re,tabIndex:-1,style:{width:"".concat(100/G.slidesPerRow,"%"),display:"inline-block"}}));J.push(n.default.createElement("div",{key:10*F+te},De))}G.variableWidth?Ot.push(n.default.createElement("div",{key:F,style:{width:Oe}},J)):Ot.push(n.default.createElement("div",{key:F},J))}if(G==="unslick"){var xr="regular slider "+(this.props.className||"");return n.default.createElement("div",{className:xr},Ve)}else Ot.length<=G.slidesToShow&&(G.unslick=!0);return n.default.createElement(r.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},G),Ot)}}]),A}(n.default.Component);t.default=P})(iC);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(iC);function n(i){return i&&i.__esModule?i:{default:i}}var r=e.default;t.default=r})(rC);const y4=nm(rC);function v4(){const t={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,fade:!0,cssEase:"linear"};return w.jsxs("div",{className:"home",children:[w.jsxs("div",{className:"home_container",children:[w.jsxs(y4,{...t,children:[w.jsx("div",{children:w.jsx("img",{className:"home_image",src:"https://m.media-amazon.com/images/W/MEDIAX_792452-T2/images/I/717RUPA1bDL._SX3000_.jpg",alt:""})}),w.jsx("div",{children:w.jsx("img",{className:"home_image",src:"https://amazon-clone-by-nati.netlify.app/assets/Kitchen-f36457ef.jpg",alt:""})}),w.jsx("div",{children:w.jsx("img",{className:"home_image",src:"https://amazon-clone-by-nati.netlify.app/assets/Toys-970565c5.jpg",alt:""})})]}),w.jsxs("div",{className:"home_row",children:[w.jsx(Vn,{id:"1231",title:"TOZO T10 Bluetooth 5.3 Wireless Earbuds with Wireless Charging Case IPX8 Waterproof Stereo Headphones in Ear Built in Mic Headset Premium Sound with Deep Bass for Sport Black",price:11.96,rating:5,image:"https://m.media-amazon.com/images/I/715CLGC8OML.__AC_SX300_SY300_QL70_FMwebp_.jpg"}),w.jsx(Vn,{id:"1232",title:"SHOKZ OpenRun (AfterShokz Aeropex) - Open-Ear Bluetooth Bone Conduction Sport Headphones - Sweat Resistant Wireless Earphones for Workouts and Running - Built-in Mic, with Headband",price:11.96,rating:5,image:"https://m.media-amazon.com/images/I/51z-rf7XIjL.__AC_SX300_SY300_QL70_FMwebp_.jpg"})]}),w.jsxs("div",{className:"home_row",children:[w.jsx(Vn,{id:"1233",title:"Bose QuietComfort Earbuds II, Wireless, Bluetooth, Proprietary Active Noise Cancelling Technology In-Ear Headphones with Personalized Noise Cancellation & Sound, Triple Black",price:11.96,rating:5,image:"https://m.media-amazon.com/images/W/MEDIAX_792452-T2/images/I/51Yx+42b0PL._AC_SY300_SX300_.jpg"}),w.jsx(Vn,{id:"1234",title:"Tile Slim 1-Pack. Thin Bluetooth Tracker, Wallet Finder and Item Locator for Wallet, Luggage Tags and More; Up to 250 ft. Range. Water-Resistant. Phone Finder. iOS and Android Compatible.",price:11.96,rating:5,image:"https://m.media-amazon.com/images/W/MEDIAX_792452-T1/images/I/418frxLAtoL.__AC_SX300_SY300_QL70_FMwebp_.jpg"}),w.jsx(Vn,{id:"1235",title:"Apple AirPods (2nd Generation) Wireless Ear Buds, Bluetooth Headphones with Lightning Charging Case Included, Over 24 Hours of Battery Life, Effortless Setup for iPhone",price:11.96,rating:5,image:"https://m.media-amazon.com/images/W/MEDIAX_792452-T2/images/I/417OJaY3DAL.__AC_SY445_SX342_QL70_FMwebp_.jpg"})]}),w.jsxs("div",{className:"home_row",children:[w.jsx(Vn,{id:"1236",title:"INIU Portable Charger, Slimmest 10000mAh 5V/3A Power Bank, USB C in&out High-Speed Charging Battery Pack, External Phone Powerbank Compatible with iPhone 15 14 13 12 11 Samsung S22 S21 Google iPad etc",price:11.96,rating:5,image:"https://m.media-amazon.com/images/W/MEDIAX_792452-T2/images/I/51AOZq9HhEL.__AC_SX300_SY300_QL70_FMwebp_.jpg"}),w.jsx(Vn,{id:"1237",title:"Ailun 3 Pack Screen Protector for iPhone 15 Pro Max [6.7 inch] + 3 Pack Camera Lens Protector with Installation Frame,Sensor Protection,Dynamic Island Compatible,Case Friendly Tempered Glass Film",price:11.96,rating:5,image:"https://m.media-amazon.com/images/I/71aodrmIgCL.__AC_SX300_SY300_QL70_FMwebp_.jpg"}),w.jsx(Vn,{id:"1238",title:"Tile Mate 1-Pack. Black. Bluetooth Tracker, Keys Finder and Item Locator for Keys, Bags and More; Up to 250 ft. Range. Water-Resistant. Phone Finder. iOS and Android Compatible.",price:11.96,rating:5,image:"https://m.media-amazon.com/images/W/MEDIAX_792452-T1/images/I/4161BoDqu3L.__AC_SX300_SY300_QL70_FMwebp_.jpg"})]}),w.jsxs("div",{className:"home_row",children:[w.jsx(Vn,{id:"1239",title:"3 in 1 Charging Station for iPhone, Wireless Charger for iPhone 15 14 13 12 11 X Pro Max & Apple Watch - Charging Stand Dock for AirPods 3/2/1/Pro",price:11.96,rating:5,image:"https://m.media-amazon.com/images/W/MEDIAX_792452-T1/images/I/61Kf+coz5uL._AC_SY300_SX300_.jpg"}),w.jsx(Vn,{id:"1210",title:"Fitbit Inspire 3 Health &-Fitness-Tracker with Stress Management, Workout Intensity, Sleep Tracking, 24/7 Heart Rate and more, Midnight Zen/Black One Size (S & L Bands Included)",price:11.96,rating:5,image:"https://m.media-amazon.com/images/W/MEDIAX_792452-T2/images/I/61gFrSlmofL.__AC_SX300_SY300_QL70_FMwebp_.jpg"})]}),w.jsxs("div",{className:"home_row",children:[w.jsx(Vn,{id:"1211",title:"Cell Phone Stand with Wireless Bluetooth Speaker and Anti-Slip Base HD Surround Sound Perfect for Home and Outdoors with Bluetooth Speaker for Desk Compatible with iPhone/ipad/Samsung Galaxy",price:11.96,rating:5,image:"https://m.media-amazon.com/images/W/MEDIAX_792452-T2/images/I/71cjRhnTVtL.__AC_SX300_SY300_QL70_FMwebp_.jpg"}),w.jsx(Vn,{id:"1212",title:"Fitbit Charge 6 Fitness Tracker with Google apps, Heart Rate on Exercise Equipment, 6-Months Premium Membership Included, GPS, Health Tools and More, Obsidian/Black, One Size (S & L Bands Included)",price:11.96,rating:5,image:"https://m.media-amazon.com/images/I/61ZtqtvoD2L.__AC_SX300_SY300_QL70_FMwebp_.jpg"}),w.jsx(Vn,{id:"1213",title:"INIU Wireless Charger, 15W Fast Wireless Charging Station with Sleep-Friendly Adaptive Light Compatible with iPhone 15 14 13 12 Pro XR XS 8 Plus Samsung Galaxy S23 S22 S21 S20 Note 20 10 Google etc",price:11.96,rating:5,image:"https://m.media-amazon.com/images/W/MEDIAX_792452-T2/images/I/71Ejp4aG40L.__AC_SX300_SY300_QL70_FMwebp_.jpg"})]})]}),w.jsx("div",{className:"footer-wrapper",children:w.jsxs("div",{className:"footer-links-wrapper row",children:[w.jsxs("div",{className:"links-wrapper col-sm-12 col-md",children:[w.jsx("h3",{children:"Get to Know Us"}),w.jsxs("ul",{children:[w.jsx("li",{children:w.jsx("a",{href:"#",children:"Careers"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Amazon"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Newsletter"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"About Amazon"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Accessibility"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Sustainability"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Press Center"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Investor Relations"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Amazon Devices"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Amazon Science"})})]})]}),w.jsxs("div",{className:"links-wrapper col-sm-12 col-md",children:[w.jsx("h3",{children:"Make Money with Us"}),w.jsxs("ul",{children:[w.jsx("li",{children:w.jsx("a",{href:"#",children:"Sell on Amazon"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Sell apps on Amazon"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Supply to Amazon"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Protect & Build Your Brand"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Become an Affiliate"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Become a Delivery Driver"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Start a Package Delivery Business"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Advertise Your Products"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Self-Publish with us"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Host an Amazon Hub"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"See More Ways to Make Money"})})]})]}),w.jsxs("div",{className:"links-wrapper col-sm-12 col-md",children:[w.jsx("h3",{children:"Amazon Payment Products"}),w.jsxs("ul",{children:[w.jsx("li",{children:w.jsx("a",{href:"#",children:"Amazon Visa"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Amazon Store Card"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Amazon Secured Card"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Amazon Business Card"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Shop with Points"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Credit Card Marketplace"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Reload Your Balance"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Gift Cards"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Amazon Currency"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Converter"})})]})]}),w.jsxs("div",{className:"links-wrapper col-sm-12 col-md",children:[w.jsx("h3",{children:"Let Us Help You"}),w.jsxs("ul",{children:[w.jsx("li",{children:w.jsx("a",{href:"#",children:"Your Account"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Your Orders"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Shipping Rates & Policies"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Amazon Prime"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Returns & Replacements"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Manage Your content and Devices"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Your Recalss and Product Safety Alerts"})}),w.jsx("li",{children:w.jsx("a",{href:"#",children:"Help"})})]})]})]})})]})}var v1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},OC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new w4;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class w4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E4=function(t){const e=xC(t);return OC.encodeByteArray(e,!0)},vp=function(t){return E4(t).replace(/\./g,"")},DC=function(t){try{return OC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!S4(n)||(t[n]=_p(t[n],e[n]));return t}function S4(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=()=>T4().__FIREBASE_DEFAULTS__,P4=()=>{if(typeof process>"u"||typeof v1>"u")return;const t=v1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},R4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DC(t[1]);return e&&JSON.parse(e)},G0=()=>{try{return I4()||P4()||R4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NC=()=>{var t;return(t=G0())===null||t===void 0?void 0:t.config},b4=t=>{var e;return(e=G0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[vp(JSON.stringify(n)),vp(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function K0(){var t;const e=(t=G0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function x4(){return typeof self=="object"&&self.self===self}function MC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Y0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LC(){const t=it();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function O4(){return!K0()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vc(){try{return typeof indexedDB=="object"}catch{return!1}}function D4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="FirebaseError";class vn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=N4,Object.setPrototypeOf(this,vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo.prototype.create)}}class Xo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?M4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new vn(i,a,r)}}function M4(t,e){return t.replace(L4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const L4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function V4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function C_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(w1(s)&&w1(o)){if(!C_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function w1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ja(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Vu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VC(t,e){const n=new F4(t,e);return n.subscribe.bind(n)}class F4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$y),i.error===void 0&&(i.error=$y),i.complete===void 0&&(i.complete=$y);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $y(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t){return t&&t._delegate?t._delegate:t}class ni{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j4=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new k4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B4(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function U4(t){return t===so?void 0:t}function B4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new j4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=[];var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const FC={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},W4=ce.INFO,q4={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},H4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=q4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Am{constructor(e){this.name=e,this._logLevel=W4,this._logHandler=H4,this._userLogHandler=null,Q0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}function G4(t){Q0.forEach(e=>{e.setLogLevel(t)})}function K4(t,e){for(const n of Q0){let r=null;e&&e.level&&(r=FC[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:ce[s].toLowerCase(),message:a,args:o,type:i.name})}}}const Y4=(t,e)=>e.some(n=>t instanceof n);let E1,S1;function Q4(){return E1||(E1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X4(){return S1||(S1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $C=new WeakMap,x_=new WeakMap,jC=new WeakMap,jy=new WeakMap,X0=new WeakMap;function J4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ts(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$C.set(n,t)}).catch(()=>{}),X0.set(e,t),e}function Z4(t){if(x_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});x_.set(t,e)}let O_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return x_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eB(t){O_=t(O_)}function tB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Uy(this),e,...n);return jC.set(r,e.sort?e.sort():[e]),Ts(r)}:X4().includes(t)?function(...e){return t.apply(Uy(this),e),Ts($C.get(this))}:function(...e){return Ts(t.apply(Uy(this),e))}}function nB(t){return typeof t=="function"?tB(t):(t instanceof IDBTransaction&&Z4(t),Y4(t,Q4())?new Proxy(t,O_):t)}function Ts(t){if(t instanceof IDBRequest)return J4(t);if(jy.has(t))return jy.get(t);const e=nB(t);return e!==t&&(jy.set(t,e),X0.set(e,t)),e}const Uy=t=>X0.get(t);function rB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ts(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ts(o.result),l.oldVersion,l.newVersion,Ts(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const iB=["get","getKey","getAll","getAllKeys","count"],sB=["put","add","delete","clear"],By=new Map;function T1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(By.get(e))return By.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iB.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return By.set(e,s),s}eB(t=>({...t,get:(e,n,r)=>T1(e,n)||t.get(e,n,r),has:(e,n)=>!!T1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const D_="@firebase/app",I1="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new Am("@firebase/app"),lB="@firebase/app-compat",uB="@firebase/analytics-compat",cB="@firebase/analytics",dB="@firebase/app-check-compat",hB="@firebase/app-check",fB="@firebase/auth",pB="@firebase/auth-compat",mB="@firebase/database",gB="@firebase/database-compat",yB="@firebase/functions",vB="@firebase/functions-compat",_B="@firebase/installations",wB="@firebase/installations-compat",EB="@firebase/messaging",SB="@firebase/messaging-compat",TB="@firebase/performance",IB="@firebase/performance-compat",PB="@firebase/remote-config",RB="@firebase/remote-config-compat",bB="@firebase/storage",kB="@firebase/storage-compat",AB="@firebase/firestore",CB="@firebase/firestore-compat",xB="firebase",OB="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]",DB={[D_]:"fire-core",[lB]:"fire-core-compat",[cB]:"fire-analytics",[uB]:"fire-analytics-compat",[hB]:"fire-app-check",[dB]:"fire-app-check-compat",[fB]:"fire-auth",[pB]:"fire-auth-compat",[mB]:"fire-rtdb",[gB]:"fire-rtdb-compat",[yB]:"fire-fn",[vB]:"fire-fn-compat",[_B]:"fire-iid",[wB]:"fire-iid-compat",[EB]:"fire-fcm",[SB]:"fire-fcm-compat",[TB]:"fire-perf",[IB]:"fire-perf-compat",[PB]:"fire-rc",[RB]:"fire-rc-compat",[bB]:"fire-gcs",[kB]:"fire-gcs-compat",[AB]:"fire-fst",[CB]:"fire-fst-compat","fire-js":"fire-js",[xB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new Map,Fc=new Map;function wp(t,e){try{t.container.addComponent(e)}catch(n){Mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function UC(t,e){t.container.addOrOverwriteComponent(e)}function Cs(t){const e=t.name;if(Fc.has(e))return Mo.debug(`There were multiple attempts to register component ${e}.`),!1;Fc.set(e,t);for(const n of As.values())wp(n,t);return!0}function BC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function NB(t,e,n=ks){BC(t,e).clearInstance(n)}function MB(){Fc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ii=new Xo("app","Firebase",LB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VB=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=OB;function J0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ks,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ii.create("bad-app-name",{appName:String(i)});if(n||(n=NC()),!n)throw Ii.create("no-options");const s=As.get(i);if(s){if(C_(n,s.options)&&C_(r,s.config))return s;throw Ii.create("duplicate-app",{appName:i})}const o=new z4(i);for(const l of Fc.values())o.addComponent(l);const a=new VB(n,r,o);return As.set(i,a),a}function FB(t=ks){const e=As.get(t);if(!e&&t===ks&&NC())return J0();if(!e)throw Ii.create("no-app",{appName:t});return e}function $B(){return Array.from(As.values())}async function zC(t){const e=t.name;As.has(e)&&(As.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Jr(t,e,n){var r;let i=(r=DB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mo.warn(a.join(" "));return}Cs(new ni(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function WC(t,e){if(t!==null&&typeof t!="function")throw Ii.create("invalid-log-argument");K4(t,e)}function qC(t){G4(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB="firebase-heartbeat-database",UB=1,$c="firebase-heartbeat-store";let zy=null;function HC(){return zy||(zy=rB(jB,UB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($c)}}}).catch(t=>{throw Ii.create("idb-open",{originalErrorMessage:t.message})})),zy}async function BB(t){try{return await(await HC()).transaction($c).objectStore($c).get(GC(t))}catch(e){if(e instanceof vn)Mo.warn(e.message);else{const n=Ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mo.warn(n.message)}}}async function P1(t,e){try{const r=(await HC()).transaction($c,"readwrite");await r.objectStore($c).put(e,GC(t)),await r.done}catch(n){if(n instanceof vn)Mo.warn(n.message);else{const r=Ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mo.warn(r.message)}}}function GC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=1024,WB=30*24*60*60*1e3;class qB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=R1();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=WB}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R1(),{heartbeatsToSend:r,unsentEntries:i}=HB(this._heartbeatsCache.heartbeats),s=vp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function R1(){return new Date().toISOString().substring(0,10)}function HB(t,e=zB){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),b1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),b1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vc()?D4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return P1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return P1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function b1(t){return vp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(t){Cs(new ni("platform-logger",e=>new oB(e),"PRIVATE")),Cs(new ni("heartbeat",e=>new qB(e),"PRIVATE")),Jr(D_,I1,t),Jr(D_,I1,"esm2017"),Jr("fire-js","")}KB("");const YB=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:vn,SDK_VERSION:qs,_DEFAULT_ENTRY_NAME:ks,_addComponent:wp,_addOrOverwriteComponent:UC,_apps:As,_clearComponents:MB,_components:Fc,_getProvider:BC,_registerComponent:Cs,_removeServiceInstance:NB,deleteApp:zC,getApp:FB,getApps:$B,initializeApp:J0,onLog:WC,registerVersion:Jr,setLogLevel:qC},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,n){this._delegate=e,this.firebase=n,wp(e,new ni("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),zC(this._delegate)))}_getService(e,n=ks){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ks){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){wp(this._delegate,e)}_addOrOverwriteComponent(e){UC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},k1=new Xo("app-compat","Firebase",XB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Jr,setLogLevel:qC,onLog:WC,apps:null,SDK_VERSION:qs,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:YB}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||ks,!_1(e,u))throw k1.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=J0(u,c);if(_1(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(Cs(u)&&u.type==="PUBLIC"){const h=(f=i())=>{if(typeof f[d]!="function")throw k1.create("invalid-app-argument",{appName:c});return f[d]()};u.serviceProps!==void 0&&_p(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,c).apply(this,u.multipleInstances?f:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){const t=JB(QB);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:KC,extendNamespace:e,createSubscribe:VC,ErrorFactory:Xo,deepExtend:_p});function e(n){_p(t,n)}return t}const ZB=KC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new Am("@firebase/app-compat"),e5="@firebase/app-compat",t5="0.2.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t){Jr(e5,t5,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(x4()&&self.firebase!==void 0){A1.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&A1.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Jo=ZB;n5();var r5="firebase",i5="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jo.registerVersion(r5,i5,"app-compat");function Z0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const gu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ua={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function YC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o5=s5,a5=YC,QC=new Xo("auth","Firebase",YC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=new Am("@firebase/auth");function l5(t,...e){Ep.logLevel<=ce.WARN&&Ep.warn(`Auth (${qs}): ${t}`,...e)}function lf(t,...e){Ep.logLevel<=ce.ERROR&&Ep.error(`Auth (${qs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t,...e){throw eE(t,...e)}function Yt(t,...e){return eE(t,...e)}function XC(t,e,n){const r=Object.assign(Object.assign({},a5()),{[e]:n});return new Xo("auth","Firebase",r).create(e,{appName:t.name})}function zl(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Jt(t,"argument-error"),XC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QC.create(t,...e)}function L(t,e,...n){if(!t)throw eE(e,...n)}function Wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lf(e),new Error(e)}function Pr(t,e){t||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tE(){return C1()==="http:"||C1()==="https:"}function C1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tE()||MC()||"connection"in navigator)?navigator.onLine:!0}function c5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pr(n>e,"Short delay should be less than long delay!"),this.isMobile=C4()||Y0()}get(){return u5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t,e){Pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=new Ad(3e4,6e4);function ht(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ft(t,e,n,r,i={}){return ZC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Bl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),JC.fetch()(ex(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function ZC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},d5),e);try{const i=new p5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Fu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Fu(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw XC(t,c,u);Jt(t,c)}}catch(i){if(i instanceof vn)throw i;Jt(t,"network-request-failed",{message:String(i)})}}async function Fi(t,e,n,r,i={}){const s=await ft(t,e,n,r,i);return"mfaPendingCredential"in s&&Jt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ex(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?nE(t.config,i):`${t.config.apiScheme}://${i}`}function f5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class p5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yt(this.auth,"network-request-failed")),h5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){return t!==void 0&&t.getResponse!==void 0}function O1(t){return t!==void 0&&t.enterprise!==void 0}class m5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return f5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(t){return(await ft(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function y5(t,e){return ft(t,"GET","/v2/recaptchaConfig",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(t,e){return ft(t,"POST","/v1/accounts:delete",e)}async function _5(t,e){return ft(t,"POST","/v1/accounts:update",e)}async function w5(t,e){return ft(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E5(t,e=!1){const n=Z(t),r=await n.getIdToken(e),i=Cm(r);L(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:tc(Wy(i.auth_time)),issuedAtTime:tc(Wy(i.iat)),expirationTime:tc(Wy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Wy(t){return Number(t)*1e3}function Cm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{const i=DC(n);return i?JSON.parse(i):(lf("Failed to decode base64 JWT payload"),null)}catch(i){return lf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function S5(t){const e=Cm(t);return L(e,"internal-error"),L(typeof e.exp<"u","internal-error"),L(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vn&&T5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function T5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Oi(t,w5(n,{idToken:r}));L(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?b5(s.providerUserInfo):[],a=R5(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tx(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function P5(t){const e=Z(t);await Uc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function R5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function b5(t){return t.map(e=>{var{providerId:n}=e,r=Z0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k5(t,e){const n=await ZC(t,{},async()=>{const r=Bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ex(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",JC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function A5(t,e){return ft(t,"POST","/v2/accounts:revokeToken",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){L(e.idToken,"internal-error"),L(typeof e.idToken<"u","internal-error"),L(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return L(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await k5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Bc;return r&&(L(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(L(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(L(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bc,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t,e){L(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Po{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Z0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Oi(this,this.stsTokenManager.getToken(this.auth,e));return L(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return E5(this,e)}reload(){return P5(this)}_assign(e){this!==e&&(L(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Po(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Uc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Oi(this,v5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:E,isAnonymous:S,providerData:T,stsTokenManager:P}=n;L(v&&P,e,"internal-error");const b=Bc.fromJSON(this.name,P);L(typeof v=="string",e,"internal-error"),Gi(d,e.name),Gi(h,e.name),L(typeof E=="boolean",e,"internal-error"),L(typeof S=="boolean",e,"internal-error"),Gi(f,e.name),Gi(g,e.name),Gi(p,e.name),Gi(_,e.name),Gi(y,e.name),Gi(m,e.name);const D=new Po({uid:v,auth:e,email:h,emailVerified:E,displayName:d,isAnonymous:S,photoURL:g,phoneNumber:f,tenantId:p,stsTokenManager:b,createdAt:y,lastLoginAt:m});return T&&Array.isArray(T)&&(D.providerData=T.map(A=>Object.assign({},A))),_&&(D._redirectEventId=_),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new Bc;i.updateFromServerResponse(n);const s=new Po({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Uc(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=new Map;function zn(t){Pr(t instanceof Function,"Expected a class definition");let e=D1.get(t);return e?(Pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,D1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nx.type="NONE";const vl=nx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t,e,n){return`firebase:${t}:${e}:${n}`}class Qa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ro(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ro("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Po._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qa(zn(vl),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||zn(vl);const o=Ro(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Po._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Qa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Qa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ox(e))return"Blackberry";if(ax(e))return"Webos";if(rE(e))return"Safari";if((e.includes("chrome/")||ix(e))&&!e.includes("edge/"))return"Chrome";if(Cd(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rx(t=it()){return/firefox\//i.test(t)}function rE(t=it()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ix(t=it()){return/crios\//i.test(t)}function sx(t=it()){return/iemobile/i.test(t)}function Cd(t=it()){return/android/i.test(t)}function ox(t=it()){return/blackberry/i.test(t)}function ax(t=it()){return/webos/i.test(t)}function Wl(t=it()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C5(t=it()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function x5(t=it()){var e;return Wl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function O5(){return LC()&&document.documentMode===10}function lx(t=it()){return Wl(t)||Cd(t)||ax(t)||ox(t)||/windows phone/i.test(t)||sx(t)}function D5(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(t,e=[]){let n;switch(t){case"Browser":n=N1(it());break;case"Worker":n=`${N1(it())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M5(t,e={}){return ft(t,"GET","/v2/passwordPolicy",ht(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=6;class V5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:L5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M1(this),this.idTokenSubscription=new M1(this),this.beforeStateQueue=new N5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Qa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return L(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=c5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Z(e):null;return n&&L(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&L(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M5(this),n=new V5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await A5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zn(e)||this._popupRedirectResolver;L(n,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(L(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ux(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&l5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ut(t){return Z(t)}class M1{constructor(e){this.auth=e,this.observer=null,this.addObserver=VC(n=>this.observer=n)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function iE(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Yt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",$5().appendChild(r)})}function cx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const j5="https://www.google.com/recaptcha/enterprise.js?render=",U5="recaptcha-enterprise",B5="NO_RECAPTCHA";class z5{constructor(e){this.type=U5,this.auth=ut(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{y5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new m5(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;O1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(B5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&O1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}iE(j5+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function L1(t,e,n,r=!1){const i=new z5(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function zc(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await L1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await L1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function W5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function q5(t,e,n){const r=ut(t);L(r._canInitEmulator,r,"emulator-config-failed"),L(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=dx(e),{host:o,port:a}=H5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||G5()}function dx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function H5(t){const e=dx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:V1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:V1(o)}}}function V1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function G5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,n){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hx(t,e){return ft(t,"POST","/v1/accounts:resetPassword",ht(t,e))}async function K5(t,e){return ft(t,"POST","/v1/accounts:update",e)}async function Y5(t,e){return ft(t,"POST","/v1/accounts:signUp",e)}async function Q5(t,e){return ft(t,"POST","/v1/accounts:update",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(t,e){return Fi(t,"POST","/v1/accounts:signInWithPassword",ht(t,e))}async function xm(t,e){return ft(t,"POST","/v1/accounts:sendOobCode",ht(t,e))}async function J5(t,e){return xm(t,e)}async function Z5(t,e){return xm(t,e)}async function ez(t,e){return xm(t,e)}async function tz(t,e){return xm(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nz(t,e){return Fi(t,"POST","/v1/accounts:signInWithEmailLink",ht(t,e))}async function rz(t,e){return Fi(t,"POST","/v1/accounts:signInWithEmailLink",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends ql{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zc(e,n,"signInWithPassword",X5);case"emailLink":return nz(e,{email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zc(e,r,"signUpPassword",Y5);case"emailLink":return rz(e,{idToken:n,email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pi(t,e){return Fi(t,"POST","/v1/accounts:signInWithIdp",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz="http://localhost";class ri extends ql{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ri(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Z0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ri(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Pi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pi(e,n)}buildRequest(){const e={requestUri:iz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sz(t,e){return ft(t,"POST","/v1/accounts:sendVerificationCode",ht(t,e))}async function oz(t,e){return Fi(t,"POST","/v1/accounts:signInWithPhoneNumber",ht(t,e))}async function az(t,e){const n=await Fi(t,"POST","/v1/accounts:signInWithPhoneNumber",ht(t,e));if(n.temporaryProof)throw Fu(t,"account-exists-with-different-credential",n);return n}const lz={USER_NOT_FOUND:"user-not-found"};async function uz(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Fi(t,"POST","/v1/accounts:signInWithPhoneNumber",ht(t,n),lz)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends ql{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new bo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new bo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return oz(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return az(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return uz(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new bo({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dz(t){const e=ja(Vu(t)).link,n=e?ja(Vu(e)).deep_link_id:null,r=ja(Vu(t)).deep_link_id;return(r?ja(Vu(r)).link:null)||r||n||e||t}class Om{constructor(e){var n,r,i,s,o,a;const l=ja(Vu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=cz((i=l.mode)!==null&&i!==void 0?i:null);L(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=dz(e);try{return new Om(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.providerId=Hs.PROVIDER_ID}static credential(e,n){return Wc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Om.parseLink(n);return L(r,"argument-error"),Wc._fromEmailAndCode(e,r.code,r.tenantId)}}Hs.PROVIDER_ID="password";Hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends $i{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Xa extends Hl{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return L("providerId"in n&&"signInMethod"in n,"argument-error"),ri._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return L(e.idToken||e.accessToken,"argument-error"),ri._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Xa.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Xa.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Xa(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Hl{constructor(){super("facebook.com")}static credential(e){return ri._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ri._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Hl{constructor(){super("github.com")}static credential(e){return ri._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz="http://localhost";class _l extends ql{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Pi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new _l(r,s)}static _create(e,n){return new _l(e,n)}buildRequest(){return{requestUri:hz,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz="saml.";class Sp extends $i{constructor(e){L(e.startsWith(fz),"argument-error"),super(e)}static credentialFromResult(e){return Sp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Sp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=_l.fromJSON(e);return L(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return _l._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Hl{constructor(){super("twitter.com")}static credential(e,n){return ri._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(t,e){return Fi(t,"POST","/v1/accounts:signUp",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Po._fromIdTokenResponse(e,r,i),o=F1(r);return new dr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=F1(r);return new dr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function F1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(t){var e;const n=ut(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new dr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await fx(n,{returnSecureToken:!0}),i=await dr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends vn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tp(e,n,r,i)}}function px(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Tp._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mz(t,e){const n=Z(t);await Dm(!0,n,e);const{providerUserInfo:r}=await _5(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=mx(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function sE(t,e,n=!1){const r=await Oi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return dr._forOperation(t,"link",r)}async function Dm(t,e,n){await Uc(e);const r=mx(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";L(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Oi(t,px(r,i,e,t),n);L(s.idToken,r,"internal-error");const o=Cm(s.idToken);L(o,r,"internal-error");const{sub:a}=o;return L(t.uid===a,r,"user-mismatch"),dr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Jt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(t,e,n=!1){const r="signIn",i=await px(t,r,e),s=await dr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Nm(t,e){return yx(ut(t),e)}async function vx(t,e){const n=Z(t);return await Dm(!1,n,e.providerId),sE(n,e)}async function _x(t,e){return gx(Z(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gz(t,e){return Fi(t,"POST","/v1/accounts:signInWithCustomToken",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yz(t,e){const n=ut(t),r=await gz(n,{token:e,returnSecureToken:!0}),i=await dr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?oE._fromServerResponse(e,n):"totpInfo"in n?aE._fromServerResponse(e,n):Jt(e,"internal-error")}}class oE extends xd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new oE(n)}}class aE extends xd{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new aE(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t,e,n){var r;L(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),L(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(L(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(L(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lE(t){const e=ut(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vz(t,e,n){const r=ut(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Mm(r,i,n),await zc(r,i,"getOobCode",Z5)}async function _z(t,e,n){await hx(Z(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lE(t),r})}async function wz(t,e){await Q5(Z(t),{oobCode:e})}async function wx(t,e){const n=Z(t),r=await hx(n,{oobCode:e}),i=r.requestType;switch(L(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":L(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":L(r.mfaInfo,n,"internal-error");default:L(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=xd._fromServerResponse(ut(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Ez(t,e){const{data:n}=await wx(Z(t),e);return n.email}async function Sz(t,e,n){const r=ut(t),o=await zc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fx).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&lE(t),l}),a=await dr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Tz(t,e,n){return Nm(Z(t),Hs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lE(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iz(t,e,n){const r=ut(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){L(a.handleCodeInApp,r,"argument-error"),a&&Mm(r,o,a)}s(i,n),await zc(r,i,"getOobCode",ez)}function Pz(t,e){const n=Om.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Rz(t,e,n){const r=Z(t),i=Hs.credentialWithLink(e,n||jc());return L(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Nm(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bz(t,e){return ft(t,"POST","/v1/accounts:createAuthUri",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kz(t,e){const n=tE()?jc():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await bz(Z(t),r);return i||[]}async function Az(t,e){const n=Z(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Mm(n.auth,i,e);const{email:s}=await J5(n.auth,i);s!==t.email&&await t.reload()}async function Cz(t,e,n){const r=Z(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Mm(r.auth,s,n);const{email:o}=await tz(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xz(t,e){return ft(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Z(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Oi(r,xz(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Dz(t,e){return Ex(Z(t),e,null)}function Nz(t,e){return Ex(Z(t),null,e)}async function Ex(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Oi(t,K5(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=Cm(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Ja(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new Lz(s,i);case"github.com":return new Vz(s,i);case"google.com":return new Fz(s,i);case"twitter.com":return new $z(s,i,t.screenName||null);case"custom":case"anonymous":return new Ja(s,null);default:return new Ja(s,r,i)}}class Ja{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class Sx extends Ja{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Lz extends Ja{constructor(e,n){super(e,"facebook.com",n)}}class Vz extends Sx{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class Fz extends Ja{constructor(e,n){super(e,"google.com",n)}}class $z extends Sx{constructor(e,n,r){super(e,"twitter.com",n,r)}}function jz(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Mz(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new go("enroll",e,n)}static _fromMfaPendingCredential(e){return new go("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return go._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return go._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=ut(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>xd._fromServerResponse(r,a));L(i.mfaPendingCredential,r,"internal-error");const o=go._fromMfaPendingCredential(i.mfaPendingCredential);return new uE(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const c=await dr._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return L(n.user,r,"internal-error"),dr._forOperation(n.user,n.operationType,u);default:Jt(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function Uz(t,e){var n;const r=Z(t),i=e;return L(e.customData.operationType,r,"argument-error"),L((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),uE._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(t,e){return ft(t,"POST","/v2/accounts/mfaEnrollment:start",ht(t,e))}function zz(t,e){return ft(t,"POST","/v2/accounts/mfaEnrollment:finalize",ht(t,e))}function Wz(t,e){return ft(t,"POST","/v2/accounts/mfaEnrollment:withdraw",ht(t,e))}class cE{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>xd._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new cE(e)}async getSession(){return go._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Oi(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Oi(this.user,Wz(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const qy=new WeakMap;function qz(t){const e=Z(t);return qy.has(e)||qy.set(e,cE._fromUser(e)),qy.get(e)}const Ip="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ip,"1"),this.storage.removeItem(Ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(){const t=it();return rE(t)||Wl(t)}const Gz=1e3,Kz=10;class Ix extends Tx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Hz()&&D5(),this.fallbackToPolling=lx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);O5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Kz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Gz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ix.type="LOCAL";const dE=Ix;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px extends Tx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Px.type="SESSION";const Lo=Px;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Lm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Yz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Od("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return window}function Xz(t){wt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(){return typeof wt().WorkerGlobalScope<"u"&&typeof wt().importScripts=="function"}async function Jz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Zz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function e3(){return hE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="firebaseLocalStorageDb",t3=1,Pp="firebaseLocalStorage",bx="fbase_key";class Dd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vm(t,e){return t.transaction([Pp],e?"readwrite":"readonly").objectStore(Pp)}function n3(){const t=indexedDB.deleteDatabase(Rx);return new Dd(t).toPromise()}function N_(){const t=indexedDB.open(Rx,t3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pp,{keyPath:bx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pp)?e(r):(r.close(),await n3(),e(await N_()))})})}async function $1(t,e,n){const r=Vm(t,!0).put({[bx]:e,value:n});return new Dd(r).toPromise()}async function r3(t,e){const n=Vm(t,!1).get(e),r=await new Dd(n).toPromise();return r===void 0?null:r.value}function j1(t,e){const n=Vm(t,!0).delete(e);return new Dd(n).toPromise()}const i3=800,s3=3;class kx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await N_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>s3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lm._getInstance(e3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Jz(),!this.activeServiceWorker)return;this.sender=new Qz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Zz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await N_();return await $1(e,Ip,"1"),await j1(e,Ip),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>r3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vm(i,!1).getAll();return new Dd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kx.type="LOCAL";const qc=kx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t,e){return ft(t,"POST","/v2/accounts/mfaSignIn:start",ht(t,e))}function a3(t,e){return ft(t,"POST","/v2/accounts/mfaSignIn:finalize",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=500,u3=6e4,xh=1e12;class c3{constructor(e){this.auth=e,this.counter=xh,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new d3(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||xh;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||xh;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||xh;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class d3{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;L(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=h3(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},u3)},l3))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function h3(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=cx("rcb"),f3=new Ad(3e4,6e4),p3="https://www.google.com/recaptcha/api.js?";class m3{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=wt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return L(g3(n),e,"argument-error"),this.shouldResolveImmediately(n)&&x1(wt().grecaptcha)?Promise.resolve(wt().grecaptcha):new Promise((r,i)=>{const s=wt().setTimeout(()=>{i(Yt(e,"network-request-failed"))},f3.get());wt()[Hy]=()=>{wt().clearTimeout(s),delete wt()[Hy];const a=wt().grecaptcha;if(!a||!x1(a)){i(Yt(e,"internal-error"));return}const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${p3}?${Bl({onload:Hy,render:"explicit",hl:n})}`;iE(o).catch(()=>{clearTimeout(s),i(Yt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=wt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function g3(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class y3{async load(e){return new c3(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="recaptcha",v3={theme:"light",type:"image"};let _3=class{constructor(e,n,r=Object.assign({},v3)){this.parameters=r,this.type=Ax,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ut(e),this.isInvisible=this.parameters.size==="invisible",L(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;L(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new y3:new m3,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){L(!this.parameters.sitekey,this.auth,"argument-error"),L(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),L(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=wt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){L(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){L(tE()&&!hE(),this.auth,"internal-error"),await w3(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await g5(this.auth);L(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return L(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function w3(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=bo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function E3(t,e,n){const r=ut(t),i=await Fm(r,e,Z(n));return new fE(i,s=>Nm(r,s))}async function S3(t,e,n){const r=Z(t);await Dm(!1,r,"phone");const i=await Fm(r.auth,e,Z(n));return new fE(i,s=>vx(r,s))}async function T3(t,e,n){const r=Z(t),i=await Fm(r.auth,e,Z(n));return new fE(i,s=>_x(r,s))}async function Fm(t,e,n){var r;const i=await n.verify();try{L(typeof i=="string",t,"argument-error"),L(n.type===Ax,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return L(o.type==="enroll",t,"internal-error"),(await Bz(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{L(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return L(a,t,"missing-multi-factor-info"),(await o3(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await sz(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function I3(t,e){await sE(Z(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo=class uf{constructor(e){this.providerId=uf.PROVIDER_ID,this.auth=ut(e)}verifyPhoneNumber(e,n){return Fm(this.auth,e,Z(n))}static credential(e,n){return bo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return uf.credentialFromTaggedObject(n)}static credentialFromError(e){return uf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?bo._fromTokenResponse(n,r):null}};Vo.PROVIDER_ID="phone";Vo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t,e){return e?zn(e):(L(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE extends ql{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function P3(t){return yx(t.auth,new pE(t),t.bypassAuthState)}function R3(t){const{auth:e,user:n}=t;return L(n,e,"internal-error"),gx(n,new pE(t),t.bypassAuthState)}async function b3(t){const{auth:e,user:n}=t;return L(n,e,"internal-error"),sE(n,new pE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P3;case"linkViaPopup":case"linkViaRedirect":return b3;case"reauthViaPopup":case"reauthViaRedirect":return R3;default:Jt(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=new Ad(2e3,1e4);async function A3(t,e,n){const r=ut(t);zl(t,e,$i);const i=Zo(r,n);return new vi(r,"signInViaPopup",e,i).executeNotNull()}async function C3(t,e,n){const r=Z(t);zl(r.auth,e,$i);const i=Zo(r.auth,n);return new vi(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function x3(t,e,n){const r=Z(t);zl(r.auth,e,$i);const i=Zo(r.auth,n);return new vi(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class vi extends Cx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,vi.currentPopupAction&&vi.currentPopupAction.cancel(),vi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return L(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=Od();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k3.get())};e()}}vi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="pendingRedirect",nc=new Map;class D3 extends Cx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nc.get(this.auth._key());if(!e){try{const r=await N3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nc.set(this.auth._key(),e)}return this.bypassAuthState||nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N3(t,e){const n=Ox(e),r=xx(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function mE(t,e){return xx(t)._set(Ox(e),"true")}function M3(){nc.clear()}function gE(t,e){nc.set(t._key(),e)}function xx(t){return zn(t._redirectPersistence)}function Ox(t){return Ro(O3,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t,e,n){return V3(t,e,n)}async function V3(t,e,n){const r=ut(t);zl(t,e,$i),await r._initializationPromise;const i=Zo(r,n);return await mE(i,r),i._openRedirect(r,e,"signInViaRedirect")}function F3(t,e,n){return $3(t,e,n)}async function $3(t,e,n){const r=Z(t);zl(r.auth,e,$i),await r.auth._initializationPromise;const i=Zo(r.auth,n);await mE(i,r.auth);const s=await Dx(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function j3(t,e,n){return U3(t,e,n)}async function U3(t,e,n){const r=Z(t);zl(r.auth,e,$i),await r.auth._initializationPromise;const i=Zo(r.auth,n);await Dm(!1,r,e.providerId),await mE(i,r.auth);const s=await Dx(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function B3(t,e){return await ut(t)._initializationPromise,$m(t,e,!1)}async function $m(t,e,n=!1){const r=ut(t),i=Zo(r,e),o=await new D3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function Dx(t){const e=Od(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=10*60*1e3;class Nx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Mx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z3&&this.cachedEventUids.clear(),this.cachedEventUids.has(U1(e))}saveEventToCache(e){this.cachedEventUids.add(U1(e)),this.lastProcessedEventTime=Date.now()}}function U1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Mx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function W3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(t,e={}){return ft(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H3=/^https?/;async function G3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Lx(t);for(const n of e)try{if(K3(n))return}catch{}Jt(t,"unauthorized-domain")}function K3(t){const e=jc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!H3.test(n))return!1;if(q3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=new Ad(3e4,6e4);function B1(){const t=wt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Q3(t){return new Promise((e,n)=>{var r,i,s;function o(){B1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B1(),n(Yt(t,"network-request-failed"))},timeout:Y3.get()})}if(!((i=(r=wt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=wt().gapi)===null||s===void 0)&&s.load)o();else{const a=cx("iframefcb");return wt()[a]=()=>{gapi.load?o():n(Yt(t,"network-request-failed"))},iE(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw cf=null,e})}let cf=null;function X3(t){return cf=cf||Q3(t),cf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=new Ad(5e3,15e3),Z3="__/auth/iframe",e9="emulator/auth/iframe",t9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r9(t){const e=t.config;L(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nE(e,e9):`https://${t.config.authDomain}/${Z3}`,r={apiKey:e.apiKey,appName:t.name,v:qs},i=n9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bl(r).slice(1)}`}async function i9(t){const e=await X3(t),n=wt().gapi;return L(n,t,"internal-error"),e.open({where:document.body,url:r9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Yt(t,"network-request-failed"),a=wt().setTimeout(()=>{s(o)},J3.get());function l(){wt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o9=500,a9=600,l9="_blank",u9="http://localhost";class z1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c9(t,e,n,r=o9,i=a9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},s9),{width:r.toString(),height:i.toString(),top:s,left:o}),u=it().toLowerCase();n&&(a=ix(u)?l9:n),rx(u)&&(e=e||u9,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(x5(u)&&a!=="_self")return d9(e||"",a),new z1(null);const d=window.open(e||"",a,c);L(d,t,"popup-blocked");try{d.focus()}catch{}return new z1(d)}function d9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9="__/auth/handler",f9="emulator/auth/handler",p9=encodeURIComponent("fac");async function M_(t,e,n,r,i,s){L(t.config.authDomain,t,"auth-domain-config-required"),L(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qs,eventId:i};if(e instanceof $i){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",V4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Hl){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${p9}=${encodeURIComponent(l)}`:"";return`${m9(t)}?${Bl(a).slice(1)}${u}`}function m9({config:t}){return t.emulator?nE(t,f9):`https://${t.authDomain}/${h9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="webStorageSupport";class g9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lo,this._completeRedirectFn=$m,this._overrideRedirectResult=gE}async _openPopup(e,n,r,i){var s;Pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await M_(e,n,r,jc(),i);return c9(e,o,Od())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await M_(e,n,r,jc(),i);return Xz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Pr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await i9(e),r=new Nx(e);return n.register("authEvent",i=>(L(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gy,{type:Gy},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Gy];o!==void 0&&n(!!o),Jt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=G3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lx()||rE()||Wl()}}const y9=g9;class v9{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Wr("unexpected MultiFactorSessionType")}}}class yE extends v9{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new yE(e)}_finalizeEnroll(e,n,r){return zz(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return a3(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Vx{constructor(){}static assertion(e){return yE._fromCredential(e)}}Vx.FACTOR_ID="phone";var W1="@firebase/auth",q1="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function E9(t){Cs(new ni("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;L(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ux(t)},u=new F5(r,i,s,l);return W5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cs(new ni("auth-internal",e=>{const n=ut(e.getProvider("auth").getImmediate());return(r=>new _9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(W1,q1,w9(t)),Jr(W1,q1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=5*60;b4("authIdTokenMaxAge");E9("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=2e3;async function I9(t,e,n){var r;const{BuildInfo:i}=Fo();Pr(e.sessionId,"AuthEvent did not contain a session ID");const s=await A9(e.sessionId),o={};return Wl()?o.ibi=i.packageName:Cd()?o.apn=i.packageName:Jt(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,M_(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function P9(t){const{BuildInfo:e}=Fo(),n={};Wl()?n.iosBundleId=e.packageName:Cd()?n.androidPackageName=e.packageName:Jt(t,"operation-not-supported-in-this-environment"),await Lx(t,n)}function R9(t){const{cordova:e}=Fo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,C5()?"_blank":"_system","location=yes"),n(i)})})}async function b9(t,e,n){const{cordova:r}=Fo();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Yt(t,"redirect-cancelled-by-user"))},T9))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),Cd()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function k9(t){var e,n,r,i,s,o,a,l,u,c;const d=Fo();L(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),L(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),L(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),L(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),L(typeof((c=(u=d==null?void 0:d.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function A9(t){const e=C9(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function C9(t){if(Pr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=20;class O9 extends Nx{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function D9(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:L9(),postBody:null,tenantId:t.tenantId,error:Yt(t,"no-auth-event")}}function N9(t,e){return L_()._set(V_(t),e)}async function H1(t){const e=await L_()._get(V_(t));return e&&await L_()._remove(V_(t)),e}function M9(t,e){var n,r;const i=F9(e);if(i.includes("/__/auth/callback")){const s=df(i),o=s.firebaseError?V9(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Yt(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function L9(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<x9;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function L_(){return zn(dE)}function V_(t){return Ro("authEvent",t.config.apiKey,t.name)}function V9(t){try{return JSON.parse(t)}catch{return null}}function F9(t){const e=df(t),n=e.link?decodeURIComponent(e.link):void 0,r=df(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return df(i).link||i||r||n||t}function df(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return ja(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=500;class j9{constructor(){this._redirectPersistence=Lo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$m,this._overrideRedirectResult=gE}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new O9(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Jt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){k9(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),M3(),await this._originValidation(e);const o=D9(e,r,i);await N9(e,o);const a=await I9(e,o,n),l=await R9(a);return b9(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=P9(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Fo(),o=setTimeout(async()=>{await H1(e),n.onEvent(G1())},$9),a=async c=>{clearTimeout(o);const d=await H1(e);let h=null;d&&(c!=null&&c.url)&&(h=M9(d,c.url)),n.onEvent(h||G1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;Fo().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(u)&&a({url:c}),typeof l=="function")try{l(c)}catch(d){console.error(d)}}}}const U9=j9;function G1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Yt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t,e){ut(t)._logFramework(e)}var z9="@firebase/auth-compat",W9="0.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=1e3;function rc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function H9(){return rc()==="http:"||rc()==="https:"}function Fx(t=it()){return!!((rc()==="file:"||rc()==="ionic:"||rc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function G9(){return Y0()||K0()}function K9(){return LC()&&(document==null?void 0:document.documentMode)===11}function Y9(t=it()){return/Edge\/\d+/.test(t)}function Q9(t=it()){return K9()||Y9(t)}function $x(){try{const t=self.localStorage,e=Od();if(t)return t.setItem(e,"1"),t.removeItem(e),Q9()?Vc():!0}catch{return vE()&&Vc()}return!1}function vE(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ky(){return(H9()||MC()||Fx())&&!G9()&&$x()&&!vE()}function jx(){return Fx()&&typeof document<"u"}async function X9(){return jx()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},q9);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function J9(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n={LOCAL:"local",NONE:"none",SESSION:"session"},yu=L,Ux="persistence";function Z9(t,e){if(yu(Object.values($n).includes(e),t,"invalid-persistence-type"),Y0()){yu(e!==$n.SESSION,t,"unsupported-persistence-type");return}if(K0()){yu(e===$n.NONE,t,"unsupported-persistence-type");return}if(vE()){yu(e===$n.NONE||e===$n.LOCAL&&Vc(),t,"unsupported-persistence-type");return}yu(e===$n.NONE||$x(),t,"unsupported-persistence-type")}async function F_(t){await t._initializationPromise;const e=Bx(),n=Ro(Ux,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function eW(t,e){const n=Bx();if(!n)return[];const r=Ro(Ux,t,e);switch(n.getItem(r)){case $n.NONE:return[vl];case $n.LOCAL:return[qc,Lo];case $n.SESSION:return[Lo];default:return[]}}function Bx(){var t;try{return((t=J9())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW=L;class cs{constructor(){this.browserResolver=zn(y9),this.cordovaResolver=zn(U9),this.underlyingResolver=null,this._redirectPersistence=Lo,this._completeRedirectFn=$m,this._overrideRedirectResult=gE}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return jx()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return tW(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await X9();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t){return t.unwrap()}function nW(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(t){return Wx(t)}function iW(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new sW(t,Uz(t,e))}else if(r){const i=Wx(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function Wx(t){const{_tokenResponse:e}=t instanceof vn?t.customData:t;if(!e)return null;if(!(t instanceof vn)&&"temporaryProof"in e&&"phoneNumber"in e)return Vo.credentialFromResult(t);const n=e.providerId;if(!n||n===gu.PASSWORD)return null;let r;switch(n){case gu.GOOGLE:r=$r;break;case gu.FACEBOOK:r=Fr;break;case gu.GITHUB:r=jr;break;case gu.TWITTER:r=Ur;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?_l._create(n,a):ri._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Xa(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof vn?r.credentialFromError(t):r.credentialFromResult(t)}function Rn(t,e){return e.catch(n=>{throw n instanceof vn&&iW(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:rW(n),additionalUserInfo:jz(n),user:jm.getOrCreate(i)}})}async function $_(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Rn(t,n.confirm(r))}}class sW{constructor(e,n){this.resolver=n,this.auth=nW(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Rn(zx(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm=class $u{constructor(e){this._delegate=e,this.multiFactor=qz(e)}static getOrCreate(e){return $u.USER_MAP.has(e)||$u.USER_MAP.set(e,new $u(e)),$u.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Rn(this.auth,vx(this._delegate,e))}async linkWithPhoneNumber(e,n){return $_(this.auth,S3(this._delegate,e,n))}async linkWithPopup(e){return Rn(this.auth,x3(this._delegate,e,cs))}async linkWithRedirect(e){return await F_(ut(this.auth)),j3(this._delegate,e,cs)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Rn(this.auth,_x(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return $_(this.auth,T3(this._delegate,e,n))}reauthenticateWithPopup(e){return Rn(this.auth,C3(this._delegate,e,cs))}async reauthenticateWithRedirect(e){return await F_(ut(this.auth)),F3(this._delegate,e,cs)}sendEmailVerification(e){return Az(this._delegate,e)}async unlink(e){return await mz(this._delegate,e),this}updateEmail(e){return Dz(this._delegate,e)}updatePassword(e){return Nz(this._delegate,e)}updatePhoneNumber(e){return I3(this._delegate,e)}updateProfile(e){return Oz(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Cz(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};jm.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=L;class j_{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;vu(r,"invalid-api-key",{appName:e.name}),vu(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?cs:void 0;this._delegate=n.initialize({options:{persistence:oW(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(o5),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?jm.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){q5(this._delegate,e,n)}applyActionCode(e){return wz(this._delegate,e)}checkActionCode(e){return wx(this._delegate,e)}confirmPasswordReset(e,n){return _z(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Rn(this._delegate,Sz(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return kz(this._delegate,e)}isSignInWithEmailLink(e){return Pz(this._delegate,e)}async getRedirectResult(){vu(Ky(),this._delegate,"operation-not-supported-in-this-environment");const e=await B3(this._delegate,cs);return e?Rn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){B9(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=K1(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=K1(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return Iz(this._delegate,e,n)}sendPasswordResetEmail(e,n){return vz(this._delegate,e,n||void 0)}async setPersistence(e){Z9(this._delegate,e);let n;switch(e){case $n.SESSION:n=Lo;break;case $n.LOCAL:n=await zn(qc)._isAvailable()?qc:dE;break;case $n.NONE:n=vl;break;default:return Jt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Rn(this._delegate,pz(this._delegate))}signInWithCredential(e){return Rn(this._delegate,Nm(this._delegate,e))}signInWithCustomToken(e){return Rn(this._delegate,yz(this._delegate,e))}signInWithEmailAndPassword(e,n){return Rn(this._delegate,Tz(this._delegate,e,n))}signInWithEmailLink(e,n){return Rn(this._delegate,Rz(this._delegate,e,n))}signInWithPhoneNumber(e,n){return $_(this._delegate,E3(this._delegate,e,n))}async signInWithPopup(e){return vu(Ky(),this._delegate,"operation-not-supported-in-this-environment"),Rn(this._delegate,A3(this._delegate,e,cs))}async signInWithRedirect(e){return vu(Ky(),this._delegate,"operation-not-supported-in-this-environment"),await F_(this._delegate),L3(this._delegate,e,cs)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Ez(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}j_.Persistence=$n;function K1(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&jm.getOrCreate(o)),error:e,complete:n}}function oW(t,e){const n=eW(t,e);if(typeof self<"u"&&!n.includes(qc)&&n.push(qc),typeof window<"u")for(const r of[dE,Lo])n.includes(r)||n.push(r);return n.includes(vl)||n.push(vl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.providerId="phone",this._delegate=new Vo(zx(Jo.auth()))}static credential(e,n){return Vo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}_E.PHONE_SIGN_IN_METHOD=Vo.PHONE_SIGN_IN_METHOD;_E.PROVIDER_ID=Vo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW=L;class lW{constructor(e,n,r=Jo.app()){var i;aW((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new _3(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW="auth-compat";function cW(t){t.INTERNAL.registerComponent(new ni(uW,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new j_(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ua.EMAIL_SIGNIN,PASSWORD_RESET:ua.PASSWORD_RESET,RECOVER_EMAIL:ua.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ua.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ua.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ua.VERIFY_EMAIL}},EmailAuthProvider:Hs,FacebookAuthProvider:Fr,GithubAuthProvider:jr,GoogleAuthProvider:$r,OAuthProvider:Xa,SAMLAuthProvider:Sp,PhoneAuthProvider:_E,PhoneMultiFactorGenerator:Vx,RecaptchaVerifier:lW,TwitterAuthProvider:Ur,Auth:j_,AuthCredential:ql,Error:vn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(z9,W9)}cW(Jo);var dW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j,wE=wE||{},ne=dW||self;function Um(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Nd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function hW(t){return Object.prototype.hasOwnProperty.call(t,Yy)&&t[Yy]||(t[Yy]=++fW)}var Yy="closure_uid_"+(1e9*Math.random()>>>0),fW=0;function pW(t,e,n){return t.call.apply(t.bind,arguments)}function mW(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function sn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?sn=pW:sn=mW,sn.apply(null,arguments)}function Oh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function jt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Gs(){this.s=this.s,this.o=this.o}var gW=0;Gs.prototype.s=!1;Gs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),gW!=0)&&hW(this)};Gs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function EE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Y1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Um(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function on(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}on.prototype.h=function(){this.defaultPrevented=!0};var yW=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ne.addEventListener("test",n,e),ne.removeEventListener("test",n,e)}catch{}return t}();function Hc(t){return/^[\s\xa0]*$/.test(t)}function Bm(){var t=ne.navigator;return t&&(t=t.userAgent)?t:""}function Br(t){return Bm().indexOf(t)!=-1}function SE(t){return SE[" "](t),t}SE[" "]=function(){};function vW(t,e){var n=c6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var _W=Br("Opera"),wl=Br("Trident")||Br("MSIE"),Hx=Br("Edge"),U_=Hx||wl,Gx=Br("Gecko")&&!(Bm().toLowerCase().indexOf("webkit")!=-1&&!Br("Edge"))&&!(Br("Trident")||Br("MSIE"))&&!Br("Edge"),wW=Bm().toLowerCase().indexOf("webkit")!=-1&&!Br("Edge");function Kx(){var t=ne.document;return t?t.documentMode:void 0}var B_;e:{var Qy="",Xy=function(){var t=Bm();if(Gx)return/rv:([^\);]+)(\)|;)/.exec(t);if(Hx)return/Edge\/([\d\.]+)/.exec(t);if(wl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(wW)return/WebKit\/(\S+)/.exec(t);if(_W)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Xy&&(Qy=Xy?Xy[1]:""),wl){var Jy=Kx();if(Jy!=null&&Jy>parseFloat(Qy)){B_=String(Jy);break e}}B_=Qy}var z_;if(ne.document&&wl){var Q1=Kx();z_=Q1||parseInt(B_,10)||void 0}else z_=void 0;var EW=z_;function Gc(t,e){if(on.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Gx){e:{try{SE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:SW[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Gc.$.h.call(this)}}jt(Gc,on);var SW={2:"touch",3:"pen",4:"mouse"};Gc.prototype.h=function(){Gc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Md="closure_listenable_"+(1e6*Math.random()|0),TW=0;function IW(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++TW,this.fa=this.ia=!1}function zm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function TE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function PW(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Yx(t){const e={};for(const n in t)e[n]=t[n];return e}const X1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<X1.length;s++)n=X1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Wm(t){this.src=t,this.g={},this.h=0}Wm.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=q_(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new IW(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function W_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=qx(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(zm(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function q_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var IE="closure_lm_"+(1e6*Math.random()|0),Zy={};function Xx(t,e,n,r,i){if(r&&r.once)return Zx(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Xx(t,e[s],n,r,i);return null}return n=bE(n),t&&t[Md]?t.O(e,n,Nd(r)?!!r.capture:!!r,i):Jx(t,e,n,!1,r,i)}function Jx(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Nd(i)?!!i.capture:!!i,a=RE(t);if(a||(t[IE]=a=new Wm(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=RW(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)yW||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(tO(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function RW(){function t(n){return e.call(t.src,t.listener,n)}const e=bW;return t}function Zx(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Zx(t,e[s],n,r,i);return null}return n=bE(n),t&&t[Md]?t.P(e,n,Nd(r)?!!r.capture:!!r,i):Jx(t,e,n,!0,r,i)}function eO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)eO(t,e[s],n,r,i);else r=Nd(r)?!!r.capture:!!r,n=bE(n),t&&t[Md]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=q_(s,n,r,i),-1<n&&(zm(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=RE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=q_(e,n,r,i)),(n=-1<t?e[t]:null)&&PE(n))}function PE(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Md])W_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(tO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=RE(e))?(W_(n,t),n.h==0&&(n.src=null,e[IE]=null)):zm(t)}}}function tO(t){return t in Zy?Zy[t]:Zy[t]="on"+t}function bW(t,e){if(t.fa)t=!0;else{e=new Gc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&PE(t),t=n.call(r,e)}return t}function RE(t){return t=t[IE],t instanceof Wm?t:null}var ev="__closure_events_fn_"+(1e9*Math.random()>>>0);function bE(t){return typeof t=="function"?t:(t[ev]||(t[ev]=function(e){return t.handleEvent(e)}),t[ev])}function $t(){Gs.call(this),this.i=new Wm(this),this.S=this,this.J=null}jt($t,Gs);$t.prototype[Md]=!0;$t.prototype.removeEventListener=function(t,e,n,r){eO(this,t,e,n,r)};function Qt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new on(e,t);else if(e instanceof on)e.target=e.target||t;else{var i=e;e=new on(r,t),Qx(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Dh(o,r,!0,e)&&i}if(o=e.g=t,i=Dh(o,r,!0,e)&&i,i=Dh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Dh(o,r,!1,e)&&i}$t.prototype.N=function(){if($t.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zm(n[r]);delete t.g[e],t.h--}}this.J=null};$t.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};$t.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Dh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&W_(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var kE=ne.JSON.stringify;class kW{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function AW(){var t=AE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class CW{constructor(){this.h=this.g=null}add(e,n){const r=nO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var nO=new kW(()=>new xW,t=>t.reset());class xW{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function OW(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function DW(t){ne.setTimeout(()=>{throw t},0)}let Kc,Yc=!1,AE=new CW,rO=()=>{const t=ne.Promise.resolve(void 0);Kc=()=>{t.then(NW)}};var NW=()=>{for(var t;t=AW();){try{t.h.call(t.g)}catch(n){DW(n)}var e=nO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yc=!1};function qm(t,e){$t.call(this),this.h=t||1,this.g=e||ne,this.j=sn(this.qb,this),this.l=Date.now()}jt(qm,$t);j=qm.prototype;j.ga=!1;j.T=null;j.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qt(this,"tick"),this.ga&&(CE(this),this.start()))}};j.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function CE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}j.N=function(){qm.$.N.call(this),CE(this),delete this.g};function xE(t,e,n){if(typeof t=="function")n&&(t=sn(t,n));else if(t&&typeof t.handleEvent=="function")t=sn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ne.setTimeout(t,e||0)}function iO(t){t.g=xE(()=>{t.g=null,t.i&&(t.i=!1,iO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class MW extends Gs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:iO(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qc(t){Gs.call(this),this.h=t,this.g={}}jt(Qc,Gs);var J1=[];function sO(t,e,n,r){Array.isArray(n)||(n&&(J1[0]=n.toString()),n=J1);for(var i=0;i<n.length;i++){var s=Xx(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function oO(t){TE(t.g,function(e,n){this.g.hasOwnProperty(n)&&PE(e)},t),t.g={}}Qc.prototype.N=function(){Qc.$.N.call(this),oO(this)};Qc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Hm(){this.g=!0}Hm.prototype.Ea=function(){this.g=!1};function LW(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function VW(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ua(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+$W(t,n)+(r?" "+r:"")})}function FW(t,e){t.info(function(){return"TIMEOUT: "+e})}Hm.prototype.info=function(){};function $W(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return kE(n)}catch{return e}}var ea={},Z1=null;function Gm(){return Z1=Z1||new $t}ea.Ta="serverreachability";function aO(t){on.call(this,ea.Ta,t)}jt(aO,on);function Xc(t){const e=Gm();Qt(e,new aO(e))}ea.STAT_EVENT="statevent";function lO(t,e){on.call(this,ea.STAT_EVENT,t),this.stat=e}jt(lO,on);function gn(t){const e=Gm();Qt(e,new lO(e,t))}ea.Ua="timingevent";function uO(t,e){on.call(this,ea.Ua,t),this.size=e}jt(uO,on);function Ld(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){t()},e)}var Km={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function OE(){}OE.prototype.h=null;function eP(t){return t.h||(t.h=t.i())}function dO(){}var Vd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function DE(){on.call(this,"d")}jt(DE,on);function NE(){on.call(this,"c")}jt(NE,on);var H_;function Ym(){}jt(Ym,OE);Ym.prototype.g=function(){return new XMLHttpRequest};Ym.prototype.i=function(){return{}};H_=new Ym;function Fd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Qc(this),this.P=jW,t=U_?125:void 0,this.V=new qm(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hO}function hO(){this.i=null,this.g="",this.h=!1}var jW=45e3,fO={},G_={};j=Fd.prototype;j.setTimeout=function(t){this.P=t};function K_(t,e,n){t.L=1,t.A=Xm(Di(e)),t.u=n,t.S=!0,pO(t,null)}function pO(t,e){t.G=Date.now(),$d(t),t.B=Di(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),SO(n.i,"t",r),t.o=0,n=t.l.J,t.h=new hO,t.g=zO(t.l,n?e:null,!t.u),0<t.O&&(t.M=new MW(sn(t.Pa,t,t.g),t.O)),sO(t.U,t.g,"readystatechange",t.nb),e=t.I?Yx(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Xc(),LW(t.j,t.v,t.B,t.m,t.W,t.u)}j.nb=function(t){t=t.target;const e=this.M;e&&qr(t)==3?e.l():this.Pa(t)};j.Pa=function(t){try{if(t==this.g)e:{const c=qr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||U_||this.g&&(this.h.h||this.g.ja()||iP(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Xc(3):Xc(2)),Qm(this);var n=this.g.da();this.ca=n;t:if(mO(this)){var r=iP(this.g);t="";var i=r.length,s=qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yo(this),ic(this);var o="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,VW(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hc(a)){var u=a;break t}}u=null}if(n=u)Ua(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Y_(this,n);else{this.i=!1,this.s=3,gn(12),yo(this),ic(this);break e}}this.S?(gO(this,c,o),U_&&this.i&&c==3&&(sO(this.U,this.V,"tick",this.mb),this.V.start())):(Ua(this.j,this.m,o,null),Y_(this,o)),c==4&&yo(this),this.i&&!this.J&&(c==4?$O(this.l,this):(this.i=!1,$d(this)))}else a6(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,gn(12)):(this.s=0,gn(13)),yo(this),ic(this)}}}catch{}finally{}};function mO(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function gO(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=UW(t,n),i==G_){e==4&&(t.s=4,gn(14),r=!1),Ua(t.j,t.m,null,"[Incomplete Response]");break}else if(i==fO){t.s=4,gn(15),Ua(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ua(t.j,t.m,i,null),Y_(t,i);mO(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,gn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),jE(e),e.M=!0,gn(11))):(Ua(t.j,t.m,n,"[Invalid Chunked Response]"),yo(t),ic(t))}j.mb=function(){if(this.g){var t=qr(this.g),e=this.g.ja();this.o<e.length&&(Qm(this),gO(this,t,e),this.i&&t!=4&&$d(this))}};function UW(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?G_:(n=Number(e.substring(n,r)),isNaN(n)?fO:(r+=1,r+n>e.length?G_:(e=e.slice(r,r+n),t.o=r+n,e)))}j.cancel=function(){this.J=!0,yo(this)};function $d(t){t.Y=Date.now()+t.P,yO(t,t.P)}function yO(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ld(sn(t.lb,t),e)}function Qm(t){t.C&&(ne.clearTimeout(t.C),t.C=null)}j.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(FW(this.j,this.B),this.L!=2&&(Xc(),gn(17)),yo(this),this.s=2,ic(this)):yO(this,this.Y-t)};function ic(t){t.l.H==0||t.J||$O(t.l,t)}function yo(t){Qm(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,CE(t.V),oO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Y_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Q_(n.i,t))){if(!t.K&&Q_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)kp(n),tg(n);else break e;$E(n),gn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ld(sn(n.ib,n),6e3));if(1>=PO(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else vo(n,11)}else if((t.K||n.g==t)&&kp(n),!Hc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(ME(s,s.h),s.h=null))}if(r.F){const p=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.Da=p,$e(r.I,r.F,p))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=BO(r,r.J?r.pa:null,r.Y),o.K){RO(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Qm(a),$d(a)),r.g=o}else VO(r);0<n.j.length&&ng(n)}else u[0]!="stop"&&u[0]!="close"||vo(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?vo(n,7):FE(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Xc(4)}catch{}}function BW(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Um(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function zW(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Um(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function vO(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Um(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=zW(t),r=BW(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var _O=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WW(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ko(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ko){this.h=t.h,Rp(this,t.j),this.s=t.s,this.g=t.g,bp(this,t.m),this.l=t.l;var e=t.i,n=new Jc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),tP(this,n),this.o=t.o}else t&&(e=String(t).match(_O))?(this.h=!1,Rp(this,e[1]||"",!0),this.s=ju(e[2]||""),this.g=ju(e[3]||"",!0),bp(this,e[4]),this.l=ju(e[5]||"",!0),tP(this,e[6]||"",!0),this.o=ju(e[7]||"")):(this.h=!1,this.i=new Jc(null,this.h))}ko.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Uu(e,nP,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Uu(e,nP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Uu(n,n.charAt(0)=="/"?GW:HW,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Uu(n,YW)),t.join("")};function Di(t){return new ko(t)}function Rp(t,e,n){t.j=n?ju(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function bp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function tP(t,e,n){e instanceof Jc?(t.i=e,QW(t.i,t.h)):(n||(e=Uu(e,KW)),t.i=new Jc(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function Xm(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ju(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Uu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,qW),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qW(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var nP=/[#\/\?@]/g,HW=/[#\?:]/g,GW=/[#\?]/g,KW=/[#\?@]/g,YW=/#/g;function Jc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ks(t){t.g||(t.g=new Map,t.h=0,t.i&&WW(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}j=Jc.prototype;j.add=function(t,e){Ks(this),this.i=null,t=Gl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function wO(t,e){Ks(t),e=Gl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function EO(t,e){return Ks(t),e=Gl(t,e),t.g.has(e)}j.forEach=function(t,e){Ks(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};j.ta=function(){Ks(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};j.Z=function(t){Ks(this);let e=[];if(typeof t=="string")EO(this,t)&&(e=e.concat(this.g.get(Gl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};j.set=function(t,e){return Ks(this),this.i=null,t=Gl(this,t),EO(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};j.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function SO(t,e,n){wO(t,e),0<n.length&&(t.i=null,t.g.set(Gl(t,e),EE(n)),t.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Gl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function QW(t,e){e&&!t.j&&(Ks(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(wO(this,r),SO(this,i,n))},t)),t.j=e}var XW=class{constructor(t,e){this.g=t,this.map=e}};function TO(t){this.l=t||JW,ne.PerformanceNavigationTiming?(t=ne.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var JW=10;function IO(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function PO(t){return t.h?1:t.g?t.g.size:0}function Q_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ME(t,e){t.g?t.g.add(e):t.h=e}function RO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}TO.prototype.cancel=function(){if(this.i=bO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function bO(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return EE(t.i)}var ZW=class{stringify(t){return ne.JSON.stringify(t,void 0)}parse(t){return ne.JSON.parse(t,void 0)}};function e6(){this.g=new ZW}function t6(t,e,n){const r=n||"";try{vO(t,function(i,s){let o=i;Nd(i)&&(o=kE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function n6(t,e){const n=new Hm;if(ne.Image){const r=new Image;r.onload=Oh(Nh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Oh(Nh,n,r,"TestLoadImage: error",!1,e),r.onabort=Oh(Nh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Oh(Nh,n,r,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Nh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Jm(t){this.l=t.ec||null,this.j=t.ob||!1}jt(Jm,OE);Jm.prototype.g=function(){return new Zm(this.l,this.j)};Jm.prototype.i=function(t){return function(){return t}}({});function Zm(t,e){$t.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=LE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jt(Zm,$t);var LE=0;j=Zm.prototype;j.open=function(t,e){if(this.readyState!=LE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Zc(this)};j.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jd(this)),this.readyState=LE};j.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Zc(this)),this.g&&(this.readyState=3,Zc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kO(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function kO(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}j.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?jd(this):Zc(this),this.readyState==3&&kO(this)}};j.Za=function(t){this.g&&(this.response=this.responseText=t,jd(this))};j.Ya=function(t){this.g&&(this.response=t,jd(this))};j.ka=function(){this.g&&jd(this)};function jd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Zc(t)}j.setRequestHeader=function(t,e){this.v.append(t,e)};j.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Zc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Zm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var r6=ne.JSON.parse;function ct(t){$t.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=AO,this.L=this.M=!1}jt(ct,$t);var AO="",i6=/^https?$/i,s6=["POST","PUT"];j=ct.prototype;j.Oa=function(t){this.M=t};j.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():H_.g(),this.C=this.u?eP(this.u):eP(H_),this.g.onreadystatechange=sn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){rP(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ne.FormData&&t instanceof ne.FormData,!(0<=qx(s6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OO(this),0<this.B&&((this.L=o6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sn(this.ua,this)):this.A=xE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){rP(this,s)}};function o6(t){return wl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}j.ua=function(){typeof wE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qt(this,"timeout"),this.abort(8))};function rP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,CO(t),eg(t)}function CO(t){t.F||(t.F=!0,Qt(t,"complete"),Qt(t,"error"))}j.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qt(this,"complete"),Qt(this,"abort"),eg(this))};j.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eg(this,!0)),ct.$.N.call(this)};j.La=function(){this.s||(this.G||this.v||this.l?xO(this):this.kb())};j.kb=function(){xO(this)};function xO(t){if(t.h&&typeof wE<"u"&&(!t.C[1]||qr(t)!=4||t.da()!=2)){if(t.v&&qr(t)==4)xE(t.La,0,t);else if(Qt(t,"readystatechange"),qr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(_O)[1]||null;!i&&ne.self&&ne.self.location&&(i=ne.self.location.protocol.slice(0,-1)),r=!i6.test(i?i.toLowerCase():"")}n=r}if(n)Qt(t,"complete"),Qt(t,"success");else{t.m=6;try{var s=2<qr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",CO(t)}}finally{eg(t)}}}}function eg(t,e){if(t.g){OO(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Qt(t,"ready");try{n.onreadystatechange=r}catch{}}}function OO(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ne.clearTimeout(t.A),t.A=null)}j.isActive=function(){return!!this.g};function qr(t){return t.g?t.g.readyState:0}j.da=function(){try{return 2<qr(this)?this.g.status:-1}catch{return-1}};j.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),r6(e)}};function iP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case AO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function a6(t){const e={};t=(t.g&&2<=qr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Hc(t[r]))continue;var n=OW(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}PW(e,function(r){return r.join(", ")})}j.Ia=function(){return this.m};j.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function DO(t){let e="";return TE(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function VE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=DO(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):$e(t,e,n))}function _u(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function NO(t){this.Ga=0,this.j=[],this.l=new Hm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_u("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_u("baseRetryDelayMs",5e3,t),this.hb=_u("retryDelaySeedMs",1e4,t),this.eb=_u("forwardChannelMaxRetries",2,t),this.xa=_u("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new TO(t&&t.concurrentRequestLimit),this.Ja=new e6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}j=NO.prototype;j.ra=8;j.H=1;function FE(t){if(MO(t),t.H==3){var e=t.W++,n=Di(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),Ud(t,n),e=new Fd(t,t.l,e),e.L=2,e.A=Xm(Di(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon)try{n=ne.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ne.Image&&(new Image().src=e.A,n=!0),n||(e.g=zO(e.l,null),e.g.ha(e.A)),e.G=Date.now(),$d(e)}UO(t)}function tg(t){t.g&&(jE(t),t.g.cancel(),t.g=null)}function MO(t){tg(t),t.u&&(ne.clearTimeout(t.u),t.u=null),kp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ne.clearTimeout(t.m),t.m=null)}function ng(t){if(!IO(t.i)&&!t.m){t.m=!0;var e=t.Na;Kc||rO(),Yc||(Kc(),Yc=!0),AE.add(e,t),t.C=0}}function l6(t,e){return PO(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ld(sn(t.Na,t,e),jO(t,t.C)),t.C++,!0)}j.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Fd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Yx(s),Qx(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=LO(this,i,e),n=Di(this.I),$e(n,"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),Ud(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(DO(s)))+"&"+e:this.o&&VE(n,this.o,s)),ME(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.aa=!0,K_(i,n,null)):K_(i,n,e),this.H=2}}else this.H==3&&(t?sP(this,t):this.j.length==0||IO(this.i)||sP(this))};function sP(t,e){var n;e?n=e.m:n=t.W++;const r=Di(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),Ud(t,r),t.o&&t.s&&VE(r,t.o,t.s),n=new Fd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=LO(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ME(t.i,n),K_(n,r,e)}function Ud(t,e){t.na&&TE(t.na,function(n,r){$e(e,r,n)}),t.h&&vO({},function(n,r){$e(e,r,n)})}function LO(t,e,n){n=Math.min(t.j.length,n);var r=t.h?sn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{t6(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function VO(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Kc||rO(),Yc||(Kc(),Yc=!0),AE.add(e,t),t.A=0}}function $E(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ld(sn(t.Ma,t),jO(t,t.A)),t.A++,!0)}j.Ma=function(){if(this.u=null,FO(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ld(sn(this.jb,this),t)}};j.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gn(10),tg(this),FO(this))};function jE(t){t.B!=null&&(ne.clearTimeout(t.B),t.B=null)}function FO(t){t.g=new Fd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Di(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),Ud(t,e),t.o&&t.s&&VE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Xm(Di(e)),n.u=null,n.S=!0,pO(n,t)}j.ib=function(){this.v!=null&&(this.v=null,tg(this),$E(this),gn(19))};function kp(t){t.v!=null&&(ne.clearTimeout(t.v),t.v=null)}function $O(t,e){var n=null;if(t.g==e){kp(t),jE(t),t.g=null;var r=2}else if(Q_(t.i,e))n=e.F,RO(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Gm(),Qt(r,new uO(r,n)),ng(t)}else VO(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&l6(t,e)||r==2&&$E(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:vo(t,5);break;case 4:vo(t,10);break;case 3:vo(t,6);break;default:vo(t,2)}}}function jO(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function vo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=sn(t.pb,t);n||(n=new ko("//www.google.com/images/cleardot.gif"),ne.location&&ne.location.protocol=="http"||Rp(n,"https"),Xm(n)),n6(n.toString(),r)}else gn(2);t.H=0,t.h&&t.h.za(e),UO(t),MO(t)}j.pb=function(t){t?(this.l.info("Successfully pinged google.com"),gn(2)):(this.l.info("Failed to ping google.com"),gn(1))};function UO(t){if(t.H=0,t.ma=[],t.h){const e=bO(t.i);(e.length!=0||t.j.length!=0)&&(Y1(t.ma,e),Y1(t.ma,t.j),t.i.i.length=0,EE(t.j),t.j.length=0),t.h.ya()}}function BO(t,e,n){var r=n instanceof ko?Di(n):new ko(n);if(r.g!="")e&&(r.g=e+"."+r.g),bp(r,r.m);else{var i=ne.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ko(null);r&&Rp(s,r),e&&(s.g=e),i&&bp(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&$e(r,n,e),$e(r,"VER",t.ra),Ud(t,r),r}function zO(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ct(new Jm({ob:n})):new ct(t.va),e.Oa(t.J),e}j.isActive=function(){return!!this.h&&this.h.isActive(this)};function WO(){}j=WO.prototype;j.Ba=function(){};j.Aa=function(){};j.za=function(){};j.ya=function(){};j.isActive=function(){return!0};j.Va=function(){};function Ap(){if(wl&&!(10<=Number(EW)))throw Error("Environmental error: no available transport.")}Ap.prototype.g=function(t,e){return new Gn(t,e)};function Gn(t,e){$t.call(this),this.g=new NO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Hc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Kl(this)}jt(Gn,$t);Gn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;gn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=BO(t,null,t.Y),ng(t)};Gn.prototype.close=function(){FE(this.g)};Gn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=kE(t),t=n);e.j.push(new XW(e.fb++,t)),e.H==3&&ng(e)};Gn.prototype.N=function(){this.g.h=null,delete this.j,FE(this.g),delete this.g,Gn.$.N.call(this)};function qO(t){DE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}jt(qO,DE);function HO(){NE.call(this),this.status=1}jt(HO,NE);function Kl(t){this.g=t}jt(Kl,WO);Kl.prototype.Ba=function(){Qt(this.g,"a")};Kl.prototype.Aa=function(t){Qt(this.g,new qO(t))};Kl.prototype.za=function(t){Qt(this.g,new HO)};Kl.prototype.ya=function(){Qt(this.g,"b")};function u6(){this.blockSize=-1}function Rr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}jt(Rr,u6);Rr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function tv(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Rr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)tv(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){tv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){tv(this,r),i=0;break}}this.h=i,this.i+=e};Rr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ae(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var c6={};function UE(t){return-128<=t&&128>t?vW(t,function(e){return new Ae([e|0],0>e?-1:0)}):new Ae([t|0],0>t?-1:0)}function Hr(t){if(isNaN(t)||!isFinite(t))return Za;if(0>t)return Ht(Hr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=X_;return new Ae(e,0)}function GO(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ht(GO(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Hr(Math.pow(e,8)),r=Za,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Hr(Math.pow(e,s)),r=r.R(s).add(Hr(o))):(r=r.R(n),r=r.add(Hr(o)))}return r}var X_=4294967296,Za=UE(0),J_=UE(1),oP=UE(16777216);j=Ae.prototype;j.ea=function(){if(ir(this))return-Ht(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:X_+r)*e,e*=X_}return t};j.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(_i(this))return"0";if(ir(this))return"-"+Ht(this).toString(t);for(var e=Hr(Math.pow(t,6)),n=this,r="";;){var i=xp(n,e).g;n=Cp(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,_i(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};j.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function _i(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ir(t){return t.h==-1}j.X=function(t){return t=Cp(this,t),ir(t)?-1:_i(t)?0:1};function Ht(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ae(n,~t.h).add(J_)}j.abs=function(){return ir(this)?Ht(this):this};j.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ae(n,n[n.length-1]&-2147483648?-1:0)};function Cp(t,e){return t.add(Ht(e))}j.R=function(t){if(_i(this)||_i(t))return Za;if(ir(this))return ir(t)?Ht(this).R(Ht(t)):Ht(Ht(this).R(t));if(ir(t))return Ht(this.R(Ht(t)));if(0>this.X(oP)&&0>t.X(oP))return Hr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Mh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Mh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Mh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Mh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ae(n,0)};function Mh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function wu(t,e){this.g=t,this.h=e}function xp(t,e){if(_i(e))throw Error("division by zero");if(_i(t))return new wu(Za,Za);if(ir(t))return e=xp(Ht(t),e),new wu(Ht(e.g),Ht(e.h));if(ir(e))return e=xp(t,Ht(e)),new wu(Ht(e.g),e.h);if(30<t.g.length){if(ir(t)||ir(e))throw Error("slowDivide_ only works with positive integers.");for(var n=J_,r=e;0>=r.X(t);)n=aP(n),r=aP(r);var i=ca(n,1),s=ca(r,1);for(r=ca(r,2),n=ca(n,2);!_i(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ca(r,1),n=ca(n,1)}return e=Cp(t,i.R(e)),new wu(i,e)}for(i=Za;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Hr(n),o=s.R(e);ir(o)||0<o.X(t);)n-=r,s=Hr(n),o=s.R(e);_i(s)&&(s=J_),i=i.add(s),t=Cp(t,o)}return new wu(i,t)}j.gb=function(t){return xp(this,t).h};j.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ae(n,this.h&t.h)};j.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ae(n,this.h|t.h)};j.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ae(n,this.h^t.h)};function aP(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ae(n,t.h)}function ca(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ae(i,t.h)}Ap.prototype.createWebChannel=Ap.prototype.g;Gn.prototype.send=Gn.prototype.u;Gn.prototype.open=Gn.prototype.m;Gn.prototype.close=Gn.prototype.close;Km.NO_ERROR=0;Km.TIMEOUT=8;Km.HTTP_ERROR=6;cO.COMPLETE="complete";dO.EventType=Vd;Vd.OPEN="a";Vd.CLOSE="b";Vd.ERROR="c";Vd.MESSAGE="d";$t.prototype.listen=$t.prototype.O;ct.prototype.listenOnce=ct.prototype.P;ct.prototype.getLastError=ct.prototype.Sa;ct.prototype.getLastErrorCode=ct.prototype.Ia;ct.prototype.getStatus=ct.prototype.da;ct.prototype.getResponseJson=ct.prototype.Wa;ct.prototype.getResponseText=ct.prototype.ja;ct.prototype.send=ct.prototype.ha;ct.prototype.setWithCredentials=ct.prototype.Oa;Rr.prototype.digest=Rr.prototype.l;Rr.prototype.reset=Rr.prototype.reset;Rr.prototype.update=Rr.prototype.j;Ae.prototype.add=Ae.prototype.add;Ae.prototype.multiply=Ae.prototype.R;Ae.prototype.modulo=Ae.prototype.gb;Ae.prototype.compare=Ae.prototype.X;Ae.prototype.toNumber=Ae.prototype.ea;Ae.prototype.toString=Ae.prototype.toString;Ae.prototype.getBits=Ae.prototype.D;Ae.fromNumber=Hr;Ae.fromString=GO;var d6=function(){return new Ap},h6=function(){return Gm()},nv=Km,f6=cO,p6=ea,lP={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Lh=dO,m6=ct,g6=Rr,el=Ae,y6={};const uP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Am("@firebase/firestore");function Sa(){return xs.logLevel}function v6(t){xs.setLogLevel(t)}function O(t,...e){if(xs.logLevel<=ce.DEBUG){const n=e.map(BE);xs.debug(`Firestore (${Yl}): ${t}`,...n)}}function gt(t,...e){if(xs.logLevel<=ce.ERROR){const n=e.map(BE);xs.error(`Firestore (${Yl}): ${t}`,...n)}}function br(t,...e){if(xs.logLevel<=ce.WARN){const n=e.map(BE);xs.warn(`Firestore (${Yl}): ${t}`,...n)}}function BE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(t="Unexpected state"){const e=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: `+t;throw gt(e),new Error(e)}function Y(t,e){t||W()}function _6(t,e){t||W()}function $(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x extends vn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class E6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class S6{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ft;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ft,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ft)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Y(typeof r.accessToken=="string"),new KO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Y(e===null||typeof e=="string"),new Lt(e)}}class T6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class I6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new T6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,O("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Y(typeof n.token=="string"),this.R=n.token,new P6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=b6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function El(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function QO(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new x(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new x(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new x(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Q(e)}static min(){return new Q(new Xe(0,0))}static max(){return new Q(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,r){n===void 0?n=0:n>e.length&&W(),r===void 0?r=e.length-n:r>e.length-n&&W(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ed.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ed?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class me extends ed{construct(e,n,r){return new me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new x(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new me(n)}static emptyPath(){return new me([])}}const k6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends ed{construct(e,n,r){return new Ye(e,n,r)}static isValidIdentifier(e){return k6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ye(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new x(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new x(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new x(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new x(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ye(n)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.path=e}static fromPath(e){return new V(me.fromString(e))}static fromName(e){return new V(me.fromString(e).popFirst(5))}static empty(){return new V(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new V(new me(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Z_(t){return t.fields.find(e=>e.kind===2)}function oo(t){return t.fields.filter(e=>e.kind!==2)}Op.UNKNOWN_ID=-1;class hf{constructor(e,n){this.fieldPath=e,this.kind=n}}class td{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new td(0,Kn.min())}}function XO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new Kn(i,V.empty(),e)}function JO(t){return new Kn(t.readTime,t.key,-1)}class Kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kn(Q.min(),V.empty(),-1)}static max(){return new Kn(Q.max(),V.empty(),-1)}}function zE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=V.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==ZO)throw t;O("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):I.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):I.reject(n)}static resolve(e){return new I((n,r)=>{n(e)})}static reject(e){return new I((n,r)=>{r(e)})}static waitFor(e){return new I((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=I.resolve(!1);for(const r of e)n=n.next(i=>i?I.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new I((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new I((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ft,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new sc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=WE(r.target.error);this.V.reject(new sc(e,i))}}static open(e,n,r,i){try{return new rg(n,e.transaction(i,r))}catch(s){throw new sc(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(O("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new C6(n)}}class _r{constructor(e,n,r){this.name=e,this.version=n,this.p=r,_r.S(it())===12.2&&gt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return O("SimpleDb","Removing database:",e),ao(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Vc())return!1;if(_r.C())return!0;const e=it(),n=_r.S(e),r=0<n&&n<10,i=_r.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=y6)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(O("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new sc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new x(R.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new x(R.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new sc(e,o))},i.onupgradeneeded=s=>{O("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{O("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=rg.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),I.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(O("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class A6{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ao(this.k.delete())}}class sc extends x{constructor(e,n){super(R.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Qs(t){return t.name==="IndexedDbTransactionError"}class C6{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(O("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(O("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ao(r)}add(e){return O("SimpleDb","ADD",this.store.name,e,e),ao(this.store.add(e))}get(e){return ao(this.store.get(e)).next(n=>(n===void 0&&(n=null),O("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return O("SimpleDb","DELETE",this.store.name,e),ao(this.store.delete(e))}count(){return O("SimpleDb","COUNT",this.store.name),ao(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new I((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new I((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){O("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new I((r,i)=>{n.onerror=s=>{const o=WE(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new I((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new A6(a),u=n(a.primaryKey,a.value,l);if(u instanceof I){const c=u.catch(d=>(l.done(),I.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>I.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ao(t){return new I((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=WE(r.target.error);n(i)}})}let cP=!1;function WE(t){const e=_r.S(it());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new x("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cP||(cP=!0,setTimeout(()=>{throw r},0)),r}}return t}class x6{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){O("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{O("IndexBackiller",`Documents written: ${await this.X.te()}`)}catch(n){Qs(n)?O("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Ys(n)}await this.ee(6e4)})}}class O6{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return I.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return O("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(O("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=JO(s);zE(o,r)>0&&(r=o)}),new Kn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Cn._e=-1;function Bd(t){return t==null}function nd(t){return t===0&&1/t==-1/0}function tD(t){return typeof t=="number"&&Number.isInteger(t)&&!nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dP(e)),e=D6(t.get(n),e);return dP(e)}function D6(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function dP(t){return t+""}function Gr(t){const e=t.length;if(Y(e>=2),e===2)return Y(t.charAt(0)===""&&t.charAt(1)===""),me.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&W(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:W()}s=o+2}return new me(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t,e){return[t,_n(e)]}function nD(t,e,n){return[t,_n(e),n]}const N6={},M6=["prefixPath","collectionGroup","readTime","documentId"],L6=["prefixPath","collectionGroup","documentId"],V6=["collectionGroup","readTime","prefixPath","documentId"],F6=["canonicalId","targetId"],$6=["targetId","path"],j6=["path","targetId"],U6=["collectionId","parent"],B6=["indexId","uid"],z6=["uid","sequenceNumber"],W6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],q6=["indexId","uid","orderedDocumentKey"],H6=["userId","collectionPath","documentId"],G6=["userId","collectionPath","largestBatchId"],K6=["userId","collectionGroup","largestBatchId"],rD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Y6=[...rD,"documentOverlays"],iD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sD=iD,Q6=[...sD,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends eD{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Ut(t,e){const n=$(t);return _r.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vh(this.root,e,this.comparator,!0)}}class Vh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=s??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();const e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pP(this.data.getIterator())}getIteratorFrom(e){return new pP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ce(this.comparator);return n.data=e,n}}class pP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function da(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Ye.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Ce(Ye.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new aD("Invalid base64 string: "+s):s}}(e);return new xt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const J6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(t){if(Y(!!t),typeof t=="string"){let e=0;const n=J6.exec(t);if(Y(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ds(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qE(t){const e=t.mapValue.fields.__previous_value__;return ig(e)?qE(e):e}function rd(t){const e=Os(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ns{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ns("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ns&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},pf={nullValue:"NULL_VALUE"};function $o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ig(t)?4:lD(t)?9007199254740991:10:W()}function ii(t,e){if(t===e)return!0;const n=$o(t);if(n!==$o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rd(t).isEqual(rd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Os(i.timestampValue),a=Os(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ds(i.bytesValue).isEqual(Ds(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return lt(i.geoPointValue.latitude)===lt(s.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return lt(i.integerValue)===lt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=lt(i.doubleValue),a=lt(s.doubleValue);return o===a?nd(o)===nd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(fP(o)!==fP(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ii(o[l],a[l])))return!1;return!0}(t,e);default:return W()}}function id(t,e){return(t.values||[]).find(n=>ii(n,e))!==void 0}function Ms(t,e){if(t===e)return 0;const n=$o(t),r=$o(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=lt(s.integerValue||s.doubleValue),l=lt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return mP(t.timestampValue,e.timestampValue);case 4:return mP(rd(t),rd(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ds(s),l=Ds(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=re(a[u],l[u]);if(c!==0)return c}return re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=re(lt(s.latitude),lt(o.latitude));return a!==0?a:re(lt(s.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Ms(a[u],l[u]);if(c)return c}return re(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ds.mapValue&&o===ds.mapValue)return 0;if(s===ds.mapValue)return 1;if(o===ds.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=re(l[d],c[d]);if(h!==0)return h;const f=Ms(a[l[d]],u[c[d]]);if(f!==0)return f}return re(l.length,c.length)}(t.mapValue,e.mapValue);default:throw W()}}function mP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=Os(t),r=Os(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function Sl(t){return tw(t)}function tw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Os(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ds(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return V.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=tw(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${tw(n.fields[o])}`;return i+"}"}(t.mapValue):W()}function jo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function nw(t){return!!t&&"integerValue"in t}function sd(t){return!!t&&"arrayValue"in t}function gP(t){return!!t&&"nullValue"in t}function yP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mf(t){return!!t&&"mapValue"in t}function oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ta(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=oc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function eq(t){return"nullValue"in t?pf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?jo(Ns.empty(),V.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:W()}function tq(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?jo(Ns.empty(),V.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?ds:W()}function vP(t,e){const n=Ms(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function _P(t,e){const n=Ms(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=Ye.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=oc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());mf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ta(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gt(oc(this.value))}}function uD(t){const e=[];return ta(t.fields,(n,r)=>{const i=new Ye([n]);if(mf(r)){const s=uD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new je(e,0,Q.min(),Q.min(),Q.min(),Gt.empty(),0)}static newFoundDocument(e,n,r,i){return new je(e,1,n,Q.min(),r,i,0)}static newNoDocument(e,n){return new je(e,2,n,Q.min(),Q.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new je(e,3,n,Q.min(),Q.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){this.position=e,this.inclusive=n}}function wP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=V.comparator(V.fromName(o.referenceValue),n.key):r=Ms(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function EP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ii(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n="asc"){this.field=e,this.dir=n}}function nq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{}class de extends cD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rq(e,n,r):n==="array-contains"?new oq(e,r):n==="in"?new gD(e,r):n==="not-in"?new aq(e,r):n==="array-contains-any"?new lq(e,r):new de(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iq(e,r):new sq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ms(n,this.value)):n!==null&&$o(this.value)===$o(n)&&this.matchesComparison(Ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class be extends cD{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new be(e,n)}matches(e){return Tl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Tl(t){return t.op==="and"}function rw(t){return t.op==="or"}function HE(t){return dD(t)&&Tl(t)}function dD(t){for(const e of t.filters)if(e instanceof be)return!1;return!0}function iw(t){if(t instanceof de)return t.field.canonicalString()+t.op.toString()+Sl(t.value);if(HE(t))return t.filters.map(e=>iw(e)).join(",");{const e=t.filters.map(n=>iw(n)).join(",");return`${t.op}(${e})`}}function hD(t,e){return t instanceof de?function(r,i){return i instanceof de&&r.op===i.op&&r.field.isEqual(i.field)&&ii(r.value,i.value)}(t,e):t instanceof be?function(r,i){return i instanceof be&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&hD(o,i.filters[a]),!0):!1}(t,e):void W()}function fD(t,e){const n=t.filters.concat(e);return be.create(n,t.op)}function pD(t){return t instanceof de?function(n){return`${n.field.canonicalString()} ${n.op} ${Sl(n.value)}`}(t):t instanceof be?function(n){return n.op.toString()+" {"+n.getFilters().map(pD).join(" ,")+"}"}(t):"Filter"}class rq extends de{constructor(e,n,r){super(e,n,r),this.key=V.fromName(r.referenceValue)}matches(e){const n=V.comparator(e.key,this.key);return this.matchesComparison(n)}}class iq extends de{constructor(e,n){super(e,"in",n),this.keys=mD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sq extends de{constructor(e,n){super(e,"not-in",n),this.keys=mD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>V.fromName(r.referenceValue))}class oq extends de{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sd(n)&&id(n.arrayValue,this.value)}}class gD extends de{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&id(this.value.arrayValue,n)}}class aq extends de{constructor(e,n){super(e,"not-in",n)}matches(e){if(id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!id(this.value.arrayValue,n)}}class lq extends de{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>id(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function sw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new uq(t,e,n,r,i,s,o)}function Uo(t){const e=$(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>iw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Bd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sl(r)).join(",")),e.ce=n}return e.ce}function zd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EP(t.startAt,e.startAt)&&EP(t.endAt,e.endAt)}function Dp(t){return V.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Np(t,e){return t.filters.filter(n=>n instanceof de&&n.field.isEqual(e))}function SP(t,e,n){let r=pf,i=!0;for(const s of Np(t,e)){let o=pf,a=!0;switch(s.op){case"<":case"<=":o=eq(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=pf}vP({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];vP({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function TP(t,e,n){let r=ds,i=!0;for(const s of Np(t,e)){let o=ds,a=!0;switch(s.op){case">=":case">":o=tq(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=ds}_P({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];_P({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function yD(t,e,n,r,i,s,o,a){return new ji(t,e,n,r,i,s,o,a)}function Ql(t){return new ji(t)}function IP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GE(t){return t.collectionGroup!==null}function tl(t){const e=$(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ce(Ye.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new od(s,r))}),n.has(Ye.keyField().canonicalString())||e.le.push(new od(Ye.keyField(),r))}return e.le}function wn(t){const e=$(t);return e.he||(e.he=cq(e,tl(t))),e.he}function cq(t,e){if(t.limitType==="F")return sw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new od(i.field,s)});const n=t.endAt?new Ls(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ls(t.startAt.position,t.startAt.inclusive):null;return sw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ow(t,e){const n=t.filters.concat([e]);return new ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mp(t,e,n){return new ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wd(t,e){return zd(wn(t),wn(e))&&t.limitType===e.limitType}function vD(t){return`${Uo(wn(t))}|lt:${t.limitType}`}function Ta(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>pD(i)).join(", ")}]`),Bd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Sl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Sl(i)).join(",")),`Target(${r})`}(wn(t))}; limitType=${t.limitType})`}function qd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):V.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of tl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=wP(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,tl(r),i)||r.endAt&&!function(o,a,l){const u=wP(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,tl(r),i))}(t,e)}function _D(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wD(t){return(e,n)=>{let r=!1;for(const i of tl(t)){const s=dq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function dq(t,e,n){const r=t.field.isKeyField()?V.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ms(l,u):W()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return oD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq=new Le(V.comparator);function On(){return hq}const ED=new Le(V.comparator);function Bu(...t){let e=ED;for(const n of t)e=e.insert(n.key,n);return e}function SD(t){let e=ED;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Kr(){return ac()}function TD(){return ac()}function ac(){return new Xs(t=>t.toString(),(t,e)=>t.isEqual(e))}const fq=new Le(V.comparator),pq=new Ce(V.comparator);function se(...t){let e=pq;for(const n of t)e=e.add(n);return e}const mq=new Ce(re);function KE(){return mq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function PD(t){return{integerValue:""+t}}function RD(t,e){return tD(e)?PD(e):ID(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this._=void 0}}function gq(t,e,n){return t instanceof Il?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ig(s)&&(s=qE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Bo?kD(t,e):t instanceof zo?AD(t,e):function(i,s){const o=bD(i,s),a=PP(o)+PP(i.Ie);return nw(o)&&nw(i.Ie)?PD(a):ID(i.serializer,a)}(t,e)}function yq(t,e,n){return t instanceof Bo?kD(t,e):t instanceof zo?AD(t,e):n}function bD(t,e){return t instanceof Pl?function(r){return nw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Il extends sg{}class Bo extends sg{constructor(e){super(),this.elements=e}}function kD(t,e){const n=CD(e);for(const r of t.elements)n.some(i=>ii(i,r))||n.push(r);return{arrayValue:{values:n}}}class zo extends sg{constructor(e){super(),this.elements=e}}function AD(t,e){let n=CD(e);for(const r of t.elements)n=n.filter(i=>!ii(i,r));return{arrayValue:{values:n}}}class Pl extends sg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function PP(t){return lt(t.integerValue||t.doubleValue)}function CD(t){return sd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this.field=e,this.transform=n}}function vq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Bo&&i instanceof Bo||r instanceof zo&&i instanceof zo?El(r.elements,i.elements,ii):r instanceof Pl&&i instanceof Pl?ii(r.Ie,i.Ie):r instanceof Il&&i instanceof Il}(t.transform,e.transform)}class _q{constructor(e,n){this.version=e,this.transformResults=n}}class Qe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qe}static exists(e){return new Qe(void 0,e)}static updateTime(e){return new Qe(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class og{}function xD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jl(t.key,Qe.none()):new Xl(t.key,t.data,Qe.none());{const n=t.data,r=Gt.empty();let i=new Ce(Ye.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ui(t.key,r,new xn(i.toArray()),Qe.none())}}function wq(t,e,n){t instanceof Xl?function(i,s,o){const a=i.value.clone(),l=bP(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ui?function(i,s,o){if(!gf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=bP(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(OD(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function lc(t,e,n,r){return t instanceof Xl?function(s,o,a,l){if(!gf(s.precondition,o))return a;const u=s.value.clone(),c=kP(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ui?function(s,o,a,l){if(!gf(s.precondition,o))return a;const u=kP(s.fieldTransforms,l,o),c=o.data;return c.setAll(OD(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return gf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Eq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=bD(r.transform,i||null);s!=null&&(n===null&&(n=Gt.empty()),n.set(r.field,s))}return n||null}function RP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&El(r,i,(s,o)=>vq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xl extends og{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ui extends og{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bP(t,e,n){const r=new Map;Y(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,yq(o,a,n[i]))}return r}function kP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,gq(s,o,e))}return r}class Jl extends og{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YE extends og{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&wq(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TD();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=xD(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(n,r)=>RP(n,r))&&El(this.baseMutations,e.baseMutations,(n,r)=>RP(n,r))}}class XE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Y(e.mutations.length===r.length);let i=function(){return fq}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new XE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,fe;function DD(t){switch(t){default:return W();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function ND(t){if(t===void 0)return gt("GRPC error has no .code"),R.UNKNOWN;switch(t){case _t.OK:return R.OK;case _t.CANCELLED:return R.CANCELLED;case _t.UNKNOWN:return R.UNKNOWN;case _t.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case _t.INTERNAL:return R.INTERNAL;case _t.UNAVAILABLE:return R.UNAVAILABLE;case _t.UNAUTHENTICATED:return R.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case _t.NOT_FOUND:return R.NOT_FOUND;case _t.ALREADY_EXISTS:return R.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return R.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case _t.ABORTED:return R.ABORTED;case _t.OUT_OF_RANGE:return R.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return R.UNIMPLEMENTED;case _t.DATA_LOSS:return R.DATA_LOSS;default:return W()}}(fe=_t||(_t={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq=new el([4294967295,4294967295],0);function AP(t){const e=MD().encode(t),n=new g6;return n.update(e),new Uint8Array(n.digest())}function CP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new el([n,r],0),new el([i,s],0)]}class ZE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zu(`Invalid padding: ${n}`);if(r<0)throw new zu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=el.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(el.fromNumber(r)));return i.compare(Tq)===1&&(i=new el([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=AP(e),[r,i]=CP(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ZE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=AP(e),[r,i]=CP(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gd(Q.min(),i,new Le(re),On(),se())}}class Kd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kd(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class LD{constructor(e,n){this.targetId=e,this.fe=n}}class VD{constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xP{constructor(){this.ge=0,this.pe=DP(),this.ye=xt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=se(),n=se(),r=se();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W()}}),new Kd(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=DP()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Y(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Iq{constructor(e){this.Le=e,this.ke=new Map,this.qe=On(),this.Qe=OP(),this.Ke=new Le(re)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Dp(s))if(r===0){const o=new V(s.path);this.We(n,o,je.newNoDocument(o,Q.min()))}else Y(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ds(r).toUint8Array()}catch(l){if(l instanceof aD)return br("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ZE(o,i,s)}catch(l){return br(l instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Dp(a.target)){const l=new V(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,je.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=se();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Gd(e,n,this.Ke,this.qe,r);return this.qe=On(),this.Qe=OP(),this.Ke=new Le(re),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new xP,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ce(re),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new xP),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function OP(){return new Le(V.comparator)}function DP(){return new Le(V.comparator)}const Pq={asc:"ASCENDING",desc:"DESCENDING"},Rq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bq={and:"AND",or:"OR"};class kq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function aw(t,e){return t.useProto3Json||Bd(e)?e:{value:e}}function Rl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Aq(t,e){return Rl(t,e.toTimestamp())}function yt(t){return Y(!!t),Q.fromTimestamp(function(n){const r=Os(n);return new Xe(r.seconds,r.nanos)}(t))}function eS(t,e){return function(r){return new me(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function $D(t){const e=me.fromString(t);return Y(KD(e)),e}function ad(t,e){return eS(t.databaseId,e.path)}function Zr(t,e){const n=$D(e);if(n.get(1)!==t.databaseId.projectId)throw new x(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new x(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new V(UD(n))}function lw(t,e){return eS(t.databaseId,e)}function jD(t){const e=$D(t);return e.length===4?me.emptyPath():UD(e)}function ld(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UD(t){return Y(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function NP(t,e,n){return{name:ad(t,e),fields:n.value.mapValue.fields}}function BD(t,e,n){const r=Zr(t,e.name),i=yt(e.updateTime),s=e.createTime?yt(e.createTime):Q.min(),o=new Gt({mapValue:{fields:e.fields}}),a=je.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Cq(t,e){return"found"in e?function(r,i){Y(!!i.found),i.found.name,i.found.updateTime;const s=Zr(r,i.found.name),o=yt(i.found.updateTime),a=i.found.createTime?yt(i.found.createTime):Q.min(),l=new Gt({mapValue:{fields:i.found.fields}});return je.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){Y(!!i.missing),Y(!!i.readTime);const s=Zr(r,i.missing),o=yt(i.readTime);return je.newNoDocument(s,o)}(t,e):W()}function xq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Y(c===void 0||typeof c=="string"),xt.fromBase64String(c||"")):(Y(c===void 0||c instanceof Uint8Array),xt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?R.UNKNOWN:ND(u.code);return new x(c,u.message||"")}(o);n=new VD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zr(t,r.document.name),s=yt(r.document.updateTime),o=r.document.createTime?yt(r.document.createTime):Q.min(),a=new Gt({mapValue:{fields:r.document.fields}}),l=je.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new yf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zr(t,r.document),s=r.readTime?yt(r.readTime):Q.min(),o=je.newNoDocument(i,s),a=r.removedTargetIds||[];n=new yf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zr(t,r.document),s=r.removedTargetIds||[];n=new yf([],s,i,null)}else{if(!("filter"in e))return W();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Sq(i,s),a=r.targetId;n=new LD(a,o)}}return n}function ud(t,e){let n;if(e instanceof Xl)n={update:NP(t,e.key,e.value)};else if(e instanceof Jl)n={delete:ad(t,e.key)};else if(e instanceof Ui)n={update:NP(t,e.key,e.data),updateMask:Vq(e.fieldMask)};else{if(!(e instanceof YE))return W();n={verify:ad(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Il)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pl)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw W()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Aq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:W()}(t,e.precondition)),n}function uw(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Qe.updateTime(yt(s.updateTime)):s.exists!==void 0?Qe.exists(s.exists):Qe.none()}(e.currentDocument):Qe.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)Y(a.setToServerValue==="REQUEST_TIME"),l=new Il;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];l=new Bo(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];l=new zo(c)}else"increment"in a?l=new Pl(o,a.increment):W();const u=Ye.fromServerFormat(a.fieldPath);return new Hd(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Zr(t,e.update.name),s=new Gt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new xn(u.map(c=>Ye.fromServerFormat(c)))}(e.updateMask);return new Ui(i,s,o,n,r)}return new Xl(i,s,n,r)}if(e.delete){const i=Zr(t,e.delete);return new Jl(i,n)}if(e.verify){const i=Zr(t,e.verify);return new YE(i,n)}return W()}function Oq(t,e){return t&&t.length>0?(Y(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?yt(i.updateTime):yt(s);return o.isEqual(Q.min())&&(o=yt(s)),new _q(o,i.transformResults||[])}(n,e))):[]}function zD(t,e){return{documents:[lw(t,e.path)]}}function WD(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=lw(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=lw(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return GD(be.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Ia(d.field),direction:Nq(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=aw(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function qD(t){let e=jD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Y(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=HD(d);return h instanceof be&&HE(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new od(Pa(g.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Bd(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Ls(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new Ls(f,h)}(n.endAt)),yD(e,i,o,s,a,"F",l,u)}function Dq(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pa(n.unaryFilter.field);return de.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Pa(n.unaryFilter.field);return de.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Pa(n.unaryFilter.field);return de.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Pa(n.unaryFilter.field);return de.create(o,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(n){return de.create(Pa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return be.create(n.compositeFilter.filters.map(r=>HD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(t):W()}function Nq(t){return Pq[t]}function Mq(t){return Rq[t]}function Lq(t){return bq[t]}function Ia(t){return{fieldPath:t.canonicalString()}}function Pa(t){return Ye.fromServerFormat(t.fieldPath)}function GD(t){return t instanceof de?function(n){if(n.op==="=="){if(yP(n.value))return{unaryFilter:{field:Ia(n.field),op:"IS_NAN"}};if(gP(n.value))return{unaryFilter:{field:Ia(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yP(n.value))return{unaryFilter:{field:Ia(n.field),op:"IS_NOT_NAN"}};if(gP(n.value))return{unaryFilter:{field:Ia(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ia(n.field),op:Mq(n.op),value:n.value}}}(t):t instanceof be?function(n){const r=n.getFilters().map(i=>GD(i));return r.length===1?r[0]:{compositeFilter:{op:Lq(n.op),filters:r}}}(t):W()}function Vq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,r,i,s=Q.min(),o=Q.min(),a=xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.ut=e}}function Fq(t,e){let n;if(e.document)n=BD(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=V.fromSegments(e.noDocument.path),i=qo(e.noDocument.readTime);n=je.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return W();{const r=V.fromSegments(e.unknownDocument.path),i=qo(e.unknownDocument.version);n=je.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Xe(i[0],i[1]);return Q.fromTimestamp(s)}(e.readTime)),n}function MP(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Lp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:ad(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Rl(s,o.version.toTimestamp()),createTime:Rl(s,o.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Wo(e.version)};else{if(!e.isUnknownDocument())return W();r.unknownDocument={path:n.path.toArray(),version:Wo(e.version)}}return r}function Lp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Wo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qo(t){const e=new Xe(t.seconds,t.nanoseconds);return Q.fromTimestamp(e)}function lo(t,e){const n=(e.baseMutations||[]).map(s=>uw(t.ut,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>uw(t.ut,s)),i=Xe.fromMillis(e.localWriteTimeMs);return new QE(e.batchId,i,n,r)}function Wu(t){const e=qo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?qo(t.lastLimboFreeSnapshotVersion):Q.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return Y(s.documents.length===1),wn(Ql(jD(s.documents[0])))}(t.query):function(s){return wn(qD(s))}(t.query),new wi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,xt.fromBase64String(t.resumeToken))}function QD(t,e){const n=Wo(e.snapshotVersion),r=Wo(e.lastLimboFreeSnapshotVersion);let i;i=Dp(e.target)?zD(t.ut,e.target):WD(t.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Uo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function tS(t){const e=qD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mp(e,e.limit,"L"):e}function rv(t,e){return new JE(e.largestBatchId,uw(t.ut,e.overlayMutation))}function LP(t,e){const n=e.path.lastSegment();return[t,_n(e.path.popLast()),n]}function VP(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Wo(r.readTime),documentKey:_n(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{getBundleMetadata(e,n){return FP(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:qo(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return FP(e).put(function(i){return{bundleId:i.id,createTime:Wo(yt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return $P(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:tS(s.bundledQuery),readTime:qo(s.readTime)}}(r)})}saveNamedQuery(e,n){return $P(e).put(function(i){return{name:i.name,readTime:Wo(yt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function FP(t){return Ut(t,"bundles")}function $P(t){return Ut(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){const r=n.uid||"";return new ag(e,r)}getOverlay(e,n){return Eu(e).get(LP(this.userId,n)).next(r=>r?rv(this.serializer,r):null)}getOverlays(e,n){const r=Kr();return I.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new JE(n,o);i.push(this.lt(e,a))}),I.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(_n(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Eu(e).H("collectionPathOverlayIndex",a))}),I.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Kr(),s=_n(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Eu(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=rv(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Kr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Eu(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=rv(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}lt(e,n){return Eu(e).put(function(i,s,o){const[a,l,u]=LP(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:ud(i.ut,o.mutation)}}(this.serializer,this.userId,n))}}function Eu(t){return Ut(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(lt(e.integerValue));else if("doubleValue"in e){const r=lt(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),nd(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Ds(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?lD(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):W()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),V.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}uo.St=new uo;function jq(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function jP(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=jq(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class Uq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=jP(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=jP(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Bq{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class zq{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Su{constructor(){this.Wt=new Uq,this.Gt=new Bq(this.Wt),this.zt=new zq(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new co(this.indexId,this.documentKey,this.arrayValue,r)}}function Ki(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=UP(t.arrayValue,e.arrayValue),n!==0?n:(n=UP(t.directionalValue,e.directionalValue),n!==0?n:V.comparator(t.documentKey,e.documentKey)))}function UP(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.Jt=new Ce((n,r)=>Ye.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(Y(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=Z_(e);if(n!==void 0&&!this.tn(n))return!1;const r=oo(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Yt.length||!this.rn(this.Yt[o++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new Ce(Ye.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new hf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new hf(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new hf(r.field,r.dir==="asc"?0:1)));return new Op(Op.UNKNOWN_ID,this.collectionId,n,td.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){var e,n;if(Y(t instanceof de||t instanceof be),t instanceof de){if(t instanceof gD){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>de.create(t.field,"==",s)))||[];return be.create(i,"or")}return t}const r=t.filters.map(i=>XD(i));return be.create(r,t.op)}function Wq(t){if(t.getFilters().length===0)return[];const e=hw(XD(t));return Y(JD(e)),cw(e)||dw(e)?[e]:e.getFilters()}function cw(t){return t instanceof de}function dw(t){return t instanceof be&&HE(t)}function JD(t){return cw(t)||dw(t)||function(n){if(n instanceof be&&rw(n)){for(const r of n.getFilters())if(!cw(r)&&!dw(r))return!1;return!0}return!1}(t)}function hw(t){if(Y(t instanceof de||t instanceof be),t instanceof de)return t;if(t.filters.length===1)return hw(t.filters[0]);const e=t.filters.map(r=>hw(r));let n=be.create(e,t.op);return n=Vp(n),JD(n)?n:(Y(n instanceof be),Y(Tl(n)),Y(n.filters.length>1),n.filters.reduce((r,i)=>nS(r,i)))}function nS(t,e){let n;return Y(t instanceof de||t instanceof be),Y(e instanceof de||e instanceof be),n=t instanceof de?e instanceof de?function(i,s){return be.create([i,s],"and")}(t,e):zP(t,e):e instanceof de?zP(e,t):function(i,s){if(Y(i.filters.length>0&&s.filters.length>0),Tl(i)&&Tl(s))return fD(i,s.getFilters());const o=rw(i)?i:s,a=rw(i)?s:i,l=o.filters.map(u=>nS(u,a));return be.create(l,"or")}(t,e),Vp(n)}function zP(t,e){if(Tl(e))return fD(e,t.getFilters());{const n=e.filters.map(r=>nS(t,r));return be.create(n,"or")}}function Vp(t){if(Y(t instanceof de||t instanceof be),t instanceof de)return t;const e=t.getFilters();if(e.length===1)return Vp(e[0]);if(dD(t))return t;const n=e.map(i=>Vp(i)),r=[];return n.forEach(i=>{i instanceof de?r.push(i):i instanceof be&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:be.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(){this.on=new rS}addToCollectionParentIndex(e,n){return this.on.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}deleteAllFieldIndexes(e){return I.resolve()}createTargetIndexes(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(Kn.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(Kn.min())}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}}class rS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ce(me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ce(me.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new Uint8Array(0);class Hq{constructor(e,n){this.user=e,this.databaseId=n,this._n=new rS,this.an=new Xs(r=>Uo(r),(r,i)=>zd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const s={collectionId:r,parent:_n(i)};return WP(e).put(s)}return I.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[QO(n),""],!1,!0);return WP(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Gr(o.parent))}return r})}addFieldIndex(e,n){const r=Tu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=fa(e);return s.next(a=>{o.put(VP(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Tu(e),i=fa(e),s=ha(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Tu(e),r=ha(e),i=fa(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return I.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new BP(r).sn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=ha(e);let i=!0;const s=new Map;return I.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=se();const a=[];return I.forEach(s,(l,u)=>{O("IndexedDbIndexManager",`Using index ${function(v){return`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(E=>`${E.fieldPath}:${E.kind}`).join(",")}`}(l)} to execute ${Uo(n)}`);const c=function(v,E){const S=Z_(E);if(S===void 0)return null;for(const T of Np(v,S.fieldPath))switch(T.op){case"array-contains-any":return T.value.arrayValue.values||[];case"array-contains":return[T.value]}return null}(u,l),d=function(v,E){const S=new Map;for(const T of oo(E))for(const P of Np(v,T.fieldPath))switch(P.op){case"==":case"in":S.set(T.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return S.set(T.fieldPath.canonicalString(),P.value),Array.from(S.values())}return null}(u,l),h=function(v,E){const S=[];let T=!0;for(const P of oo(E)){const b=P.kind===0?SP(v,P.fieldPath,v.startAt):TP(v,P.fieldPath,v.startAt);S.push(b.value),T&&(T=b.inclusive)}return new Ls(S,T)}(u,l),f=function(v,E){const S=[];let T=!0;for(const P of oo(E)){const b=P.kind===0?TP(v,P.fieldPath,v.endAt):SP(v,P.fieldPath,v.endAt);S.push(b.value),T&&(T=b.inclusive)}return new Ls(S,T)}(u,l),g=this.ln(l,u,h),p=this.ln(l,u,f),_=this.hn(l,u,d),y=this.Pn(l.indexId,c,g,h.inclusive,p,f.inclusive,_);return I.forEach(y,m=>r.j(m,n.limit).next(v=>{v.forEach(E=>{const S=V.fromSegments(E.documentKey);o.has(S)||(o=o.add(S),a.push(S))})}))}).next(()=>a)}return I.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=Wq(be.create(e.filters,"and")).map(r=>sw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.In(n[d/u]):Fh,f=this.Tn(e,h,r[d%u],i),g=this.En(e,h,s[d%u],o),p=a.map(_=>this.Tn(e,h,_,!0));c.push(...this.createRange(f,g,p))}return c}Tn(e,n,r,i){const s=new co(e,V.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){const s=new co(e,V.empty(),n,r);return i?s.Ht():s}cn(e,n){const r=new BP(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.un(n);return I.forEach(i,s=>this.cn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new Ce(Ye.comparator),c=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}dn(e,n){const r=new Su;for(const i of oo(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.jt(i.kind);uo.St.ht(s,o)}return r.Ut()}In(e){const n=new Su;return uo.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new Su;return uo.St.ht(jo(this.databaseId,n),r.jt(function(s){const o=oo(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(r===null)return[];let i=[];i.push(new Su);let s=0;for(const o of oo(e)){const a=r[s++];for(const l of i)if(this.Rn(n,o.fieldPath)&&sd(a))i=this.Vn(i,o,a);else{const u=l.jt(o.kind);uo.St.ht(a,u)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Su;l.seed(a.Ut()),uo.St.ht(o,l.jt(n.kind)),s.push(l)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof de&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Tu(e),i=fa(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return I.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,d){const h=d?new td(d.sequenceNumber,new Kn(qo(d.readTime),new V(Gr(d.documentKey)),d.largestBatchId)):td.empty(),f=c.fields.map(([g,p])=>new hf(Ye.fromServerFormat(g),p));return new Op(c.indexId,c.collectionGroup,f,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:re(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Tu(e),s=fa(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>I.forEach(a,l=>s.put(VP(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return I.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?I.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),I.forEach(a,l=>this.gn(e,i,l).next(u=>{const c=this.pn(s,l);return u.isEqual(c)?I.resolve():this.yn(e,s,l,u,c)}))))})}wn(e,n,r,i){return ha(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return ha(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=ha(e);let s=new Ce(Ki);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new co(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new Ce(Ki);const i=this.dn(n,e);if(i==null)return r;const s=Z_(n);if(s!=null){const o=e.data.field(s.fieldPath);if(sd(o))for(const a of o.arrayValue.values||[])r=r.add(new co(n.indexId,e.key,this.In(a),i))}else r=r.add(new co(n.indexId,e.key,Fh,i));return r}yn(e,n,r,i,s){O("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,c,d,h){const f=l.getIterator(),g=u.getIterator();let p=da(f),_=da(g);for(;p||_;){let y=!1,m=!1;if(p&&_){const v=c(p,_);v<0?m=!0:v>0&&(y=!0)}else p!=null?m=!0:y=!0;y?(d(_),_=da(g)):m?(h(p),p=da(f)):(p=da(f),_=da(g))}}(i,s,Ki,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),I.waitFor(o)}fn(e){let n=1;return fa(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ki(o,a)).filter((o,a,l)=>!a||Ki(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Ki(o,e),l=Ki(o,n);if(a===0)i[0]=e.Ht();else if(a>0&&l<0)i.push(o),i.push(o.Ht());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Fh,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Fh,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,n){return Ki(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(qP)}getMinOffset(e,n){return I.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||W())).next(qP)}}function WP(t){return Ut(t,"collectionParents")}function ha(t){return Ut(t,"indexEntries")}function Tu(t){return Ut(t,"indexConfiguration")}function fa(t){return Ut(t,"indexState")}function qP(t){Y(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;zE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Kn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{Y(a===1)}));const u=[];for(const c of n.mutations){const d=nD(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return I.waitFor(s).next(()=>u)}function Fp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw W();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(41943040,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class lg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){Y(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new lg(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yi(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Ra(e),o=Yi(e);return o.add({}).next(a=>{Y(typeof a=="number");const l=new QE(a,n,r,i),u=function(f,g,p){const _=p.baseMutations.map(m=>ud(f.ut,m)),y=p.mutations.map(m=>ud(f.ut,m));return{userId:g,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:_,mutations:y}}(this.serializer,this.userId,l),c=[];let d=new Ce((h,f)=>re(h.canonicalString(),f.canonicalString()));for(const h of i){const f=nD(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(f,N6))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),I.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Yi(e).get(n).next(r=>r?(Y(r.userId===this.userId),lo(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?I.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Yi(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(Y(a.batchId>=r),s=lo(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Yi(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yi(e).W("userMutationsIndex",n).next(r=>r.map(i=>lo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=ff(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ra(e).Y({range:i},(o,a,l)=>{const[u,c,d]=o,h=Gr(c);if(u===this.userId&&n.path.isEqual(h))return Yi(e).get(d).next(f=>{if(!f)throw W();Y(f.userId===this.userId),s.push(lo(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ce(re);const i=[];return n.forEach(s=>{const o=ff(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Ra(e).Y({range:a},(u,c,d)=>{const[h,f,g]=u,p=Gr(f);h===this.userId&&s.path.isEqual(p)?r=r.add(g):d.done()});i.push(l)}),I.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=ff(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Ce(re);return Ra(e).Y({range:o},(l,u,c)=>{const[d,h,f]=l,g=Gr(h);d===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(f)):c.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Yi(e).get(s).next(o=>{if(o===null)throw W();Y(o.userId===this.userId),r.push(lo(this.serializer,o))}))}),I.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return ZD(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),I.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return I.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Ra(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Gr(s[1]);i.push(l)}else a.done()}).next(()=>{Y(i.length===0)})})}containsKey(e,n){return eN(e,this.userId,n)}Mn(e){return tN(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function eN(t,e,n){const r=ff(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ra(t).Y({range:s,J:!0},(a,l,u)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function Yi(t){return Ut(t,"mutations")}function Ra(t){return Ut(t,"documentMutations")}function tN(t){return Ut(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ho(0)}static Nn(){return new Ho(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Ho(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Q.fromTimestamp(new Xe(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>pa(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Y(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return pa(e).Y((o,a)=>{const l=Wu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>I.waitFor(s)).next(()=>i)}forEachTarget(e,n){return pa(e).Y((r,i)=>{const s=Wu(i);n(s)})}Bn(e){return GP(e).get("targetGlobalKey").next(n=>(Y(n!==null),n))}Ln(e,n){return GP(e).put("targetGlobalKey",n)}kn(e,n){return pa(e).put(QD(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Uo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return pa(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Wu(a);zd(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=is(e);return n.forEach(o=>{const a=_n(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),I.waitFor(i)}removeMatchingKeys(e,n,r){const i=is(e);return I.forEach(n,s=>{const o=_n(s.path);return I.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=is(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=is(e);let s=se();return i.Y({range:r,J:!0},(o,a,l)=>{const u=Gr(o[1]),c=new V(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=_n(n.path),i=IDBKeyRange.bound([r],[QO(r)],!1,!0);let s=0;return is(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}_t(e,n){return pa(e).get(n).next(r=>r?Wu(r):null)}}function pa(t){return Ut(t,"targets")}function GP(t){return Ut(t,"targetGlobal")}function is(t){return Ut(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP([t,e],[n,r]){const i=re(t,n);return i===0?re(e,r):i}class Kq{constructor(e){this.Qn=e,this.buffer=new Ce(KP),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();KP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Yq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){O("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qs(n)?O("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ys(n)}await this.Gn(3e5)})}}class Qq{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return I.resolve(Cn._e);const r=new Kq(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),I.resolve(HP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HP):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Sa()<=ce.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),I.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function Xq(t,e){return new Qq(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e,n){this.db=e,this.garbageCollector=Xq(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return $h(e,r)}removeReference(e,n,r){return $h(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return $h(e,n)}Xn(e,n){return function(i,s){let o=!1;return tN(i).Z(a=>eN(i,a,s).next(l=>(l&&(o=!0),I.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Q.min()),is(e).delete(function(d){return[0,_n(d.path)]}(o))))});i.push(l)}}).next(()=>I.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return $h(e,n)}Zn(e,n){const r=is(e);let i,s=Cn._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==Cn._e&&n(new V(Gr(i)),s),s=u,i=l):s=Cn._e}).next(()=>{s!==Cn._e&&n(new V(Gr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $h(t,e){return is(t).put(function(r,i){return{targetId:0,path:_n(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.changes=new Xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,je.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return to(e).put(r)}removeEntry(e,n,r){return to(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Lp(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=je.newInvalidDocument(n);return to(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Iu(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:je.newInvalidDocument(n)};return to(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Iu(n))},(i,s)=>{r={document:this.tr(n,s),size:Fp(s)}}).next(()=>r)}getEntries(e,n){let r=On();return this.rr(e,n,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=On(),i=new Le(V.comparator);return this.rr(e,n,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,Fp(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return I.resolve();let i=new Ce(XP);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Iu(i.first()),Iu(i.last())),o=i.getIterator();let a=o.getNext();return to(e).Y({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=V.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&XP(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.U(Iu(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Lp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return to(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let c=On();for(const d of u){const h=this.tr(V.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(qd(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=On();const o=QP(n,r),a=QP(n,Kn.max());return to(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.tr(V.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new eH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return YP(e).get("remoteDocumentGlobalKey").next(n=>(Y(!!n),n))}er(e,n){return YP(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=Fq(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Q.min())))return r}return je.newInvalidDocument(e)}}function rN(t){return new Zq(t)}class eH extends nN{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Xs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ce((s,o)=>re(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=MP(this._r.serializer,o);i=i.add(s.path.popLast());const u=Fp(l);r+=u-a.size,n.push(this._r.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=MP(this._r.serializer,o.convertToNoDocument(Q.min()));n.push(this._r.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),I.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function YP(t){return Ut(t,"remoteDocumentGlobal")}function to(t){return Ut(t,"remoteDocumentsV14")}function Iu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function QP(t,e){const n=e.documentKey.path.toArray();return[t,Lp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function XP(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=re(n[s],r[s]),i)return i;return i=re(n.length,r.length),i||(i=re(n[n.length-2],r[r.length-2]),i||re(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&lc(r.mutation,i,xn.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=Kr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Bu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Kr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=On();const o=ac(),a=function(){return ac()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ui)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),lc(c.mutation,u,c.mutation.getFieldMask(),Xe.now())):o.set(u.key,xn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new tH(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ac();let i=new Le((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||xn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||se()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=TD();c.forEach(h=>{if(!s.has(h)){const f=xD(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return V.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):I.resolve(Kr());let a=-1,l=s;return o.next(u=>I.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?I.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,se())).next(c=>({batchId:a,changes:SD(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new V(n)).next(r=>{let i=Bu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Bu();return this.indexManager.getCollectionParents(e,s).next(a=>I.forEach(a,l=>{const u=function(d,h){return new ji(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,je.newInvalidDocument(c)))});let a=Bu();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&lc(c.mutation,u,xn.empty(),Xe.now()),qd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return I.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yt(i.createTime)}}(n)),I.resolve()}getNamedQuery(e,n){return I.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:tS(i.bundledQuery),readTime:yt(i.readTime)}}(n)),I.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(){this.overlays=new Le(V.comparator),this.lr=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kr();return I.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),I.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){const i=Kr(),s=n.length+1,o=new V(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return I.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Le((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Kr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Kr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return I.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new JE(n,r));let s=this.lr.get(n);s===void 0&&(s=se(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.hr=new Ce(Nt.Pr),this.Ir=new Ce(Nt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Nt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new V(new me([])),r=new Nt(n,e),i=new Nt(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new V(new me([])),r=new Nt(n,e),i=new Nt(n,e+1);let s=se();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Nt(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return V.comparator(e.key,n.key)||re(e.gr,n.gr)}static Tr(e,n){return re(e.gr,n.gr)||V.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ce(Nt.Pr)}checkEmpty(e){return I.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new QE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,n){return I.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ce(re);return n.forEach(i=>{const s=new Nt(i,0),o=new Nt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),I.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;V.isDocumentKey(s)||(s=s.child(""));const o=new Nt(new V(s),0);let a=new Ce(re);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),I.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Y(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return I.forEach(n.mutations,i=>{const s=new Nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Nt(n,0),i=this.yr.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,I.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e){this.Cr=e,this.docs=function(){return new Le(V.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():je.newInvalidDocument(n))}getEntries(e,n){let r=On();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():je.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=On();const o=n.path,a=new V(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||zE(JO(c),r)<=0||(i.has(c.key)||qd(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(e,n,r,i){W()}vr(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oH(this)}getSize(e){return I.resolve(this.size)}}class oH extends nN{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e){this.persistence=e,this.Fr=new Xs(n=>Uo(n),zd),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Mr=0,this.Or=new iS,this.targetCount=0,this.Nr=Ho.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),I.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ho(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.kn(n),I.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),I.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Cn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new aH(this),this.indexManager=new qq,this.remoteDocumentCache=function(i){return new sH(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new YD(n),this.Kr=new nH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new iH(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);const i=new lH(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return I.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class lH extends eD{constructor(e){super(),this.currentSequenceNumber=e}}class ug{constructor(e){this.persistence=e,this.Gr=new iS,this.zr=null}static jr(e){return new ug(e)}get Hr(){if(this.zr)return this.zr;throw W()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),I.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Hr,r=>{const i=V.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,Q.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return I.or([()=>I.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e){this.serializer=e}N(e,n,r,i){const s=new rg("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hP,{unique:!0}),l.createObjectStore("documentMutations")}(e),JP(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=I.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),JP(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Q.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").W().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hP,{unique:!0});const d=u.store("mutations"),h=c.map(f=>d.put(f));return I.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:H6});u.createIndex("collectionPathOverlayIndex",G6,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",K6,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:M6});u.createIndex("documentKeyIndex",L6),u.createIndex("collectionGroupIndex",V6)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:B6}).createIndex("sequenceNumberIndex",z6,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:W6}).createIndex("documentKeyIndex",q6,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=Fp(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>I.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>I.forEach(a,l=>{Y(l.userId===s.userId);const u=lo(this.serializer,l);return ZD(e,s.userId,u).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new me(o),u=function(d){return[0,_n(d)]}(l);s.push(n.get(u).next(c=>c?I.resolve():(d=>n.put({targetId:0,path:_n(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>I.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:U6});const r=n.store("collectionParents"),i=new rS,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:_n(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new me(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],u)=>{const c=Gr(a);return s(c.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const s=Wu(i),o=QD(this.serializer,s);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new V(me.fromString(d.document.name).popFirst(5)):d.noDocument?V.fromSegments(d.noDocument.path):d.unknownDocument?V.fromSegments(d.unknownDocument.path):W()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>I.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=rN(this.serializer),s=new sN(ug.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:se();lo(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),I.forEach(a,(l,u)=>{const c=new Lt(u),d=ag.ct(this.serializer,c),h=s.getIndexManager(c),f=lg.ct(c,this.serializer,h,s.referenceDelegate);return new iN(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new ew(n,Cn._e),l).next()})})}}function JP(t){t.createObjectStore("targetDocuments",{keyPath:$6}).createIndex("documentTargetsIndex",j6,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",F6,{unique:!0}),t.createObjectStore("targetGlobal")}const iv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sS{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=u,this._i=c,this.ai=d,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=h=>Promise.resolve(),!sS.D())throw new x(R.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jq(this,i),this.Ii=n+"main",this.serializer=new YD(l),this.Ti=new _r(this.Ii,this.ai,new uH(this.serializer)),this.qr=new Gq(this.referenceDelegate,this.serializer),this.remoteDocumentCache=rN(this.serializer),this.Kr=new $q,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,c===!1&&gt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new x(R.FAILED_PRECONDITION,iv);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Cn(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(async()=>{this.started&&await this.di()}))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Qs(e))return O("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return O("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Pu(e).get("owner").next(n=>I.resolve(this.wi(n)))}Si(e){return jh(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ut(n,"clientMetadata");return r.W().next(i=>{const s=this.Ci(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return I.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ei)for(const n of e)this.Ei.removeItem(this.vi(n.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?I.resolve(!0):Pu(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new x(R.FAILED_PRECONDITION,iv);return!1}}return!(!this.networkEnabled||!this.inForeground)||jh(e).W().next(r=>this.Ci(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&O("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new ew(e,Cn._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>jh(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return lg.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Hq(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return ag.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){O("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?Q6:l===14?sD:l===13?iD:l===12?Y6:l===11?rD:void W()}(this.ai);let o;return this.Ti.runTransaction(e,i,s,a=>(o=new ew(a,this.Lr?this.Lr.next():Cn._e),n==="readwrite-primary"?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw gt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new x(R.FAILED_PRECONDITION,ZO);return r(o)}).next(l=>this.yi(o).next(()=>l)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return Pu(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new x(R.FAILED_PRECONDITION,iv)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Pu(e).put("owner",n)}static D(){return _r.D()}pi(e){const n=Pu(e);return n.get("owner").next(r=>this.wi(r)?(O("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):I.resolve())}Di(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(gt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;O4()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return O("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return gt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){gt("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Pu(t){return Ut(t,"owner")}function jh(t){return Ut(t,"clientMetadata")}function oS(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new aS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new cH;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Sa()<=ce.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",Ta(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),I.resolve()):(Sa()<=ce.DEBUG&&O("QueryEngine","Query:",Ta(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Sa()<=ce.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",Ta(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wn(n))):I.resolve())}zi(e,n){if(IP(n))return I.resolve(null);let r=wn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mp(n,null,"F"),r=wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=se(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,Mp(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return IP(n)||i.isEqual(Q.min())?I.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?I.resolve(null):(Sa()<=ce.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ta(n)),this.Xi(e,o,n,XO(i,-1)).next(a=>a))})}Yi(e,n){let r=new Ce(wD(e));return n.forEach((i,s)=>{qd(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Sa()<=ce.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",Ta(n)),this.Gi.getDocumentsMatchingQuery(e,n,Kn.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Le(re),this.ns=new Xs(s=>Uo(s),zd),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iN(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function aN(t,e,n,r){return new dH(t,e,n,r)}async function lN(t,e){const n=$(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=se();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function hH(t,e){const n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=I.resolve();return h.forEach(g=>{f=f.next(()=>c.getEntry(l,g)).next(p=>{const _=u.docVersions.get(g);Y(_!==null),p.version.compareTo(_)<0&&(d.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function uN(t){const e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function fH(t,e){const n=$(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(xt.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(p,_,y){return p.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,f,c)&&a.push(n.qr.updateTargetData(s,f))});let l=On(),u=se();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(cN(s,o,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(Q.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function cN(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=On();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Q.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):O("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function pH(t,e){const n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bl(t,e){const n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new wi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function kl(t,e,n){const r=$(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Qs(o))throw o;O("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function $p(t,e,n){const r=$(t);let i=Q.min(),s=se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=$(l),h=d.ns.get(c);return h!==void 0?I.resolve(d.ts.get(h)):d.qr.getTargetData(u,c)}(r,o,wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:Q.min(),n?s:se())).next(a=>(fN(r,_D(e),a),{documents:a,ls:s})))}function dN(t,e){const n=$(t),r=$(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function hN(t,e){const n=$(t),r=n.rs.get(e)||Q.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,XO(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(fN(n,e,i),i))}function fN(t,e,n){let r=t.rs.get(e)||Q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}async function mH(t,e,n,r){const i=$(t);let s=se(),o=On();for(const u of n){const c=e.hs(u.metadata.name);u.document&&(s=s.add(c));const d=e.Ps(u);d.setReadTime(e.Is(u.metadata.readTime)),o=o.insert(c,d)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await bl(i,function(c){return wn(Ql(me.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>cN(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.qr.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.us,c.cs)).next(()=>c.us)))}async function gH(t,e,n=se()){const r=await bl(t,wn(tS(e.bundledQuery))),i=$(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=yt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(xt.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}function ZP(t,e){return`firestore_clients_${t}_${e}`}function eR(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function sv(t,e){return`firestore_targets_${t}_${e}`}class jp{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new x(i.error.code,i.error.message))),o?new jp(e,n,i.state,s):(gt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uc{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new x(r.error.code,r.error.message))),s?new uc(e,r.state,i):(gt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Up{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=KE();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=tD(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Up(e,s):(gt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class lS{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new lS(n.clientId,n.onlineState):(gt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class fw{constructor(){this.activeTargetIds=KE()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ov{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Le(re),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=ZP(this.persistenceKey,this.Rs),this.ws=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new fw),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Rs)continue;const i=this.getItem(ZP(this.persistenceKey,r));if(i){const s=Up.Ts(r,i);s&&(this.gs=this.gs.insert(s.clientId,s))}}this.Fs();const n=this.storage.getItem(this.Cs);if(n){const r=this.Ms(n);r&&this.xs(r)}for(const r of this.ps)this.fs(r);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(sv(this.persistenceKey,e));if(r){const i=uc.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sv(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return O("SharedClientState","READ",e,n),n}setItem(e,n){O("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){O("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const n=e;if(n.storageArea===this.storage){if(O("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void gt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){const r=this.Ks(n.key);return this.$s(r,null)}{const r=this.Us(n.key,n.newValue);if(r)return this.$s(r.clientId,r)}}else if(this.bs.test(n.key)){if(n.newValue!==null){const r=this.Ws(n.key,n.newValue);if(r)return this.Gs(r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(n.key===this.Cs){if(n.newValue!==null){const r=this.Ms(n.newValue);if(r)return this.xs(r)}}else if(n.key===this.ws){const r=function(s){let o=Cn._e;if(s!=null)try{const a=JSON.parse(s);Y(typeof a=="number"),o=a}catch(a){gt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Cn._e&&this.sequenceNumberHandler(r)}else if(n.key===this.vs){const r=this.Hs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Js(i)))}}}else this.ps.push(n)})}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new jp(this.currentUser,e,n,r),s=eR(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const n=eR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){const n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,r){const i=sv(this.persistenceKey,e),s=new uc(e,n,r);this.setItem(i,s.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return Up.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return jp.Ts(new Lt(s),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return uc.Ts(i,n)}Ms(e){return lS.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);O("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=KE();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class pN{constructor(){this.eo=new fw,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new fw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh=null;function av(){return Uh===null?Uh=function(){return 268435456+Math.round(2147483648*Math.random())}():Uh++,"0x"+Uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class wH extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=av(),l=this.So(n,r);O("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(O("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw br("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=vH[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=av();return new Promise((o,a)=>{const l=new m6;l.setWithCredentials(!0),l.listenOnce(f6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nv.NO_ERROR:const c=l.getResponseJson();O(tn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case nv.TIMEOUT:O(tn,`RPC '${e}' ${s} timed out`),a(new x(R.DEADLINE_EXCEEDED,"Request time out"));break;case nv.HTTP_ERROR:const d=l.getStatus();if(O(tn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const g=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(y)>=0?y:R.UNKNOWN}(f.status);a(new x(g,f.message))}else a(new x(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new x(R.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{O(tn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);O(tn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(e,n,r){const i=av(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=d6(),a=h6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");O(tn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const g=new _H({co:_=>{f?O(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(O(tn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),O(tn,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},lo:()=>d.close()}),p=(_,y,m)=>{_.listen(y,v=>{try{m(v)}catch(E){setTimeout(()=>{throw E},0)}})};return p(d,Lh.EventType.OPEN,()=>{f||O(tn,`RPC '${e}' stream ${i} transport opened.`)}),p(d,Lh.EventType.CLOSE,()=>{f||(f=!0,O(tn,`RPC '${e}' stream ${i} transport closed`),g.Ro())}),p(d,Lh.EventType.ERROR,_=>{f||(f=!0,br(tn,`RPC '${e}' stream ${i} transport errored:`,_),g.Ro(new x(R.UNAVAILABLE,"The operation could not be completed")))}),p(d,Lh.EventType.MESSAGE,_=>{var y;if(!f){const m=_.data[0];Y(!!m);const v=m,E=v.error||((y=v[0])===null||y===void 0?void 0:y.error);if(E){O(tn,`RPC '${e}' stream ${i} received error:`,E);const S=E.status;let T=function(D){const A=_t[D];if(A!==void 0)return ND(A)}(S),P=E.message;T===void 0&&(T=R.INTERNAL,P="Unknown error status: "+S+" with message "+E.message),f=!0,g.Ro(new x(T,P)),d.close()}else O(tn,`RPC '${e}' stream ${i} received:`,m),g.Vo(m)}}),p(a,p6.STAT_EVENT,_=>{_.stat===lP.PROXY?O(tn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===lP.NOPROXY&&O(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){return typeof window<"u"?window:null}function vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t){return new kq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new uS(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(gt(n.toString()),gt("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new x(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return O("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EH extends gN{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=xq(this.serializer,e),r=function(s){if(!("targetChange"in s))return Q.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Q.min():o.readTime?yt(o.readTime):Q.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=ld(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Dp(l)?{documents:zD(s,l)}:{query:WD(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=FD(s,o.resumeToken);const u=aw(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Q.min())>0){a.readTime=Rl(s,o.snapshotVersion.toTimestamp());const u=aw(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Dq(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=ld(this.serializer),n.removeTarget=e,this.e_(n)}}class SH extends gN{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=Oq(e.writeResults,e.commitTime),r=yt(e.commitTime);return this.listener.I_(r,n)}return Y(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=ld(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ud(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new x(R.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new x(R.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new x(R.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class IH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(gt(n),this.f_=!1):O("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Js(this)&&(O("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=$(l);u.C_.add(4),await Zl(u),u.M_.set("Unknown"),u.C_.delete(4),await Qd(u)}(this))})}),this.M_=new IH(r,i)}}async function Qd(t){if(Js(t))for(const e of t.v_)await e(!0)}async function Zl(t){for(const e of t.v_)await e(!1)}function cg(t,e){const n=$(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),hS(n)?dS(n):tu(n).Ho()&&cS(n,e))}function cd(t,e){const n=$(t),r=tu(n);n.D_.delete(e),r.Ho()&&yN(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Js(n)&&n.M_.set("Unknown"))}function cS(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tu(t).u_(e)}function yN(t,e){t.x_.Oe(e),tu(t).c_(e)}function dS(t){t.x_=new Iq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),tu(t).start(),t.M_.g_()}function hS(t){return Js(t)&&!tu(t).jo()&&t.D_.size>0}function Js(t){return $(t).C_.size===0}function vN(t){t.x_=void 0}async function RH(t){t.D_.forEach((e,n)=>{cS(t,e)})}async function bH(t,e){vN(t),hS(t)?(t.M_.w_(e),dS(t)):t.M_.set("Unknown")}async function kH(t,e,n){if(t.M_.set("Online"),e instanceof VD&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){O("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bp(t,r)}else if(e instanceof yf?t.x_.$e(e):e instanceof LD?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Q.min()))try{const r=await uN(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(xt.EMPTY_BYTE_STRING,c.snapshotVersion)),yN(s,l);const d=new wi(c.target,l,u,c.sequenceNumber);cS(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){O("RemoteStore","Failed to raise snapshot:",r),await Bp(t,r)}}async function Bp(t,e,n){if(!Qs(e))throw e;t.C_.add(1),await Zl(t),t.M_.set("Offline"),n||(n=()=>uN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{O("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Qd(t)})}function _N(t,e){return e().catch(n=>Bp(t,n,e))}async function eu(t){const e=$(t),n=Vs(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;AH(e);)try{const i=await pH(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,CH(e,i)}catch(i){await Bp(e,i)}wN(e)&&EN(e)}function AH(t){return Js(t)&&t.b_.length<10}function CH(t,e){t.b_.push(e);const n=Vs(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function wN(t){return Js(t)&&!Vs(t).jo()&&t.b_.length>0}function EN(t){Vs(t).start()}async function xH(t){Vs(t).E_()}async function OH(t){const e=Vs(t);for(const n of t.b_)e.P_(n.mutations)}async function DH(t,e,n){const r=t.b_.shift(),i=XE.from(r,e,n);await _N(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await eu(t)}async function NH(t,e){e&&Vs(t).h_&&await async function(r,i){if(function(o){return DD(o)&&o!==R.ABORTED}(i.code)){const s=r.b_.shift();Vs(r).Yo(),await _N(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await eu(r)}}(t,e),wN(t)&&EN(t)}async function nR(t,e){const n=$(t);n.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");const r=Js(n);n.C_.add(3),await Zl(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Qd(n)}async function pw(t,e){const n=$(t);e?(n.C_.delete(2),await Qd(n)):e||(n.C_.add(2),await Zl(n),n.M_.set("Unknown"))}function tu(t){return t.O_||(t.O_=function(n,r,i){const s=$(n);return s.A_(),new EH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:RH.bind(null,t),Io:bH.bind(null,t),a_:kH.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),hS(t)?dS(t):t.M_.set("Unknown")):(await t.O_.stop(),vN(t))})),t.O_}function Vs(t){return t.N_||(t.N_=function(n,r,i){const s=$(n);return s.A_(),new SH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:xH.bind(null,t),Io:NH.bind(null,t),T_:OH.bind(null,t),I_:DH.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await eu(t)):(await t.N_.stop(),t.b_.length>0&&(O("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new fS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new x(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nu(t,e){if(gt("AsyncQueue",`${e}: ${t}`),Qs(t))return new x(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||V.comparator(n.key,r.key):(n,r)=>V.comparator(n.key,r.key),this.keyedMap=Bu(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new nl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.B_=new Le(V.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):W():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Al{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Al(e,n,nl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(){this.k_=void 0,this.listeners=[]}}class LH{constructor(){this.queries=new Xs(e=>vD(e),Wd),this.onlineState="Unknown",this.q_=new Set}}async function pS(t,e){const n=$(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new MH),i)try{s.k_=await n.onListen(r)}catch(o){const a=nu(o,`Initialization of query '${Ta(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&gS(n)}async function mS(t,e){const n=$(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function VH(t,e){const n=$(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&gS(n)}function FH(t,e,n){const r=$(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function gS(t){t.q_.forEach(e=>{e.next()})}class yS{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.serializer=e}hs(e){return Zr(this.serializer,e)}Ps(e){return e.metadata.exists?BD(this.serializer,e.document,!1):je.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return yt(e)}}class jH{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=SN(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=me.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new iR(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||se()).add(s);n.set(o,a)}}return n}async complete(){const e=await mH(this.localStore,new iR(this.serializer),this.documents,this.X_.id),n=this.ta(this.documents);for(const r of this.queries)await gH(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function SN(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.key=e}}class IN{constructor(e){this.key=e}}class PN{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=se(),this.mutatedKeys=se(),this._a=wD(e),this.aa=new nl(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new rR,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=qd(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),p=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?g!==p&&(r.track({type:3,doc:f}),_=!0):this.ha(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(a=!0)),_&&(f?(o=o.add(f),s=p?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,d)=>function(f,g){const p=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return p(f)-p(g)}(c.type,d.type)||this._a(c.doc,d.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new Al(this.query,e.aa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new rR,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=se(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new IN(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new TN(r))}),n}da(e){this.ia=e.ls,this.oa=se();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Al.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class UH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class BH{constructor(e){this.key=e,this.Ra=!1}}class zH{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Xs(a=>vD(a),Wd),this.fa=new Map,this.ga=new Set,this.pa=new Le(V.comparator),this.ya=new Map,this.wa=new iS,this.Sa={},this.ba=new Map,this.Da=Ho.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function WH(t,e){const n=SS(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await bl(n.localStore,wn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await vS(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&cg(n.remoteStore,o)}return i}async function vS(t,e,n,r,i){t.va=(d,h,f)=>async function(p,_,y,m){let v=_.view.ca(y);v.Zi&&(v=await $p(p.localStore,_.query,!1).then(({documents:P})=>_.view.ca(P,v)));const E=m&&m.targetChanges.get(_.targetId),S=m&&m.targetMismatches.get(_.targetId)!=null,T=_.view.applyChanges(v,p.isPrimaryClient,E,S);return mw(p,_.targetId,T.Ta),T.snapshot}(t,d,h,f);const s=await $p(t.localStore,e,!0),o=new PN(e,s.ls),a=o.ca(s.documents),l=Kd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);mw(t,n,u.Ta);const c=new UH(e,n,o);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function qH(t,e){const n=$(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Wd(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await kl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),cd(n.remoteStore,r.targetId),Cl(n,r.targetId)}).catch(Ys)):(Cl(n,r.targetId),await kl(n.localStore,r.targetId,!0))}async function HH(t,e,n){const r=TS(t);try{const i=await function(o,a){const l=$(o),u=Xe.now(),c=a.reduce((f,g)=>f.add(g.key),se());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=On(),p=se();return l.ss.getEntries(f,c).next(_=>{g=_,g.forEach((y,m)=>{m.isValidDocument()||(p=p.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(_=>{d=_;const y=[];for(const m of a){const v=Eq(m,d.get(m.key).overlayedDocument);v!=null&&y.push(new Ui(m.key,v,uD(v.value.mapValue),Qe.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,y,a)}).next(_=>{h=_;const y=_.applyToLocalDocumentSet(d,p);return l.documentOverlayCache.saveOverlays(f,_.batchId,y)})}).then(()=>({batchId:h.batchId,changes:SD(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new Le(re)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Bi(r,i.changes),await eu(r.remoteStore)}catch(i){const s=nu(i,"Failed to persist write");n.reject(s)}}async function RN(t,e){const n=$(t);try{const r=await fH(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Y(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Y(o.Ra):i.removedDocuments.size>0&&(Y(o.Ra),o.Ra=!1))}),await Bi(n,r,e)}catch(r){await Ys(r)}}function sR(t,e,n){const r=$(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=$(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.Q_(a)&&(u=!0)}),u&&gS(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GH(t,e,n){const r=$(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Le(V.comparator);o=o.insert(s,je.newNoDocument(s,Q.min()));const a=se().add(s),l=new Gd(Q.min(),new Map,new Le(re),o,a);await RN(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),ES(r)}else await kl(r.localStore,e,!1).then(()=>Cl(r,e,n)).catch(Ys)}async function KH(t,e){const n=$(t),r=e.batch.batchId;try{const i=await hH(n.localStore,e);wS(n,r,null),_S(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bi(n,i)}catch(i){await Ys(i)}}async function YH(t,e,n){const r=$(t);try{const i=await function(o,a){const l=$(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Y(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);wS(r,e,n),_S(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bi(r,i)}catch(i){await Ys(i)}}async function QH(t,e){const n=$(t);Js(n.remoteStore)||O("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=$(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=nu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function _S(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function wS(t,e,n){const r=$(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Cl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||bN(t,r)})}function bN(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(cd(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),ES(t))}function mw(t,e,n){for(const r of n)r instanceof TN?(t.wa.addReference(r.key,e),XH(t,r)):r instanceof IN?(O("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||bN(t,r.key)):W()}function XH(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(O("SyncEngine","New document in limbo: "+n),t.ga.add(r),ES(t))}function ES(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new V(me.fromString(e)),r=t.Da.next();t.ya.set(r,new BH(n)),t.pa=t.pa.insert(n,r),cg(t.remoteStore,new wi(wn(Ql(n.path)),r,"TargetPurposeLimboResolution",Cn._e))}}async function Bi(t,e,n){const r=$(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=aS.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=$(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>I.forEach(u,h=>I.forEach(h.ki,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>I.forEach(h.qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Qs(d))throw d;O("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ts.get(h),g=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(g);c.ts=c.ts.insert(h,p)}}}(r.localStore,s))}async function JH(t,e){const n=$(t);if(!n.currentUser.isEqual(e)){O("SyncEngine","User change. New user:",e.toKey());const r=await lN(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new x(R.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bi(n,r._s)}}function ZH(t,e){const n=$(t),r=n.ya.get(e);if(r&&r.Ra)return se().add(r.key);{let i=se();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}async function eG(t,e){const n=$(t),r=await $p(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&mw(n,e.targetId,i.Ta),i}async function tG(t,e){const n=$(t);return hN(n.localStore,e).then(r=>Bi(n,r))}async function nG(t,e,n,r){const i=$(t),s=await function(a,l){const u=$(a),c=$(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Cn(d,l).next(h=>h?u.localDocuments.getDocuments(d,h):I.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await eu(i.remoteStore):n==="acknowledged"||n==="rejected"?(wS(i,e,r||null),_S(i,e),function(a,l){$($(a).mutationQueue).Fn(l)}(i.localStore,e)):W(),await Bi(i,s)):O("SyncEngine","Cannot apply mutation batch with id: "+e)}async function rG(t,e){const n=$(t);if(SS(n),TS(n),e===!0&&n.Ca!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await oR(n,r.toArray());n.Ca=!0,await pw(n.remoteStore,!0);for(const s of i)cg(n.remoteStore,s)}else if(e===!1&&n.Ca!==!1){const r=[];let i=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Cl(n,o),kl(n.localStore,o,!0))),cd(n.remoteStore,o)}),await i,await oR(n,r),function(o){const a=$(o);a.ya.forEach((l,u)=>{cd(a.remoteStore,u)}),a.wa.Vr(),a.ya=new Map,a.pa=new Le(V.comparator)}(n),n.Ca=!1,await pw(n.remoteStore,!1)}}async function oR(t,e,n){const r=$(t),i=[],s=[];for(const o of e){let a;const l=r.fa.get(o);if(l&&l.length!==0){a=await bl(r.localStore,wn(l[0]));for(const u of l){const c=r.ma.get(u),d=await eG(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await dN(r.localStore,o);a=await bl(r.localStore,u),await vS(r,kN(u),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}function kN(t){return yD(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function iG(t){return function(n){return $($(n).persistence).Bi()}($(t).localStore)}async function sG(t,e,n,r){const i=$(t);if(i.Ca)return void O("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await hN(i.localStore,_D(s[0])),a=Gd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",xt.EMPTY_BYTE_STRING);await Bi(i,o,a);break}case"rejected":await kl(i.localStore,e,!0),Cl(i,e,r);break;default:W()}}async function oG(t,e,n){const r=SS(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){O("SyncEngine","Adding an already active target "+i);continue}const s=await dN(r.localStore,i),o=await bl(r.localStore,s);await vS(r,kN(s),o.targetId,!1,o.resumeToken),cg(r.remoteStore,o)}for(const i of n)r.fa.has(i)&&await kl(r.localStore,i,!1).then(()=>{cd(r.remoteStore,i),Cl(r,i)}).catch(Ys)}}function SS(t){const e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GH.bind(null,e),e.Va.a_=VH.bind(null,e.eventManager),e.Va.Fa=FH.bind(null,e.eventManager),e}function TS(t){const e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YH.bind(null,e),e}function aG(t,e,n){const r=$(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(f,g){const p=$(f),_=yt(g.createTime);return p.persistence.runTransaction("hasNewerBundle","readonly",y=>p.Kr.getBundleMetadata(y,g.id)).then(y=>!!y&&y.createTime.compareTo(_)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(SN(l));const u=new jH(l,s.localStore,o.serializer);let c=await o.Ma();for(;c;){const h=await u.ea(c);h&&a._updateProgress(h),c=await o.Ma()}const d=await u.complete();return await Bi(s,d.ra,void 0),await function(f,g){const p=$(f);return p.persistence.runTransaction("Save bundle","readwrite",_=>p.Kr.saveBundleMetadata(_,g))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.na)}catch(l){return br("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class gw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Yd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return aN(this.persistence,new oN,e.initialUser,this.serializer)}createPersistence(e){return new sN(ug.jr,this.serializer)}createSharedClientState(e){return new pN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class AN extends gw{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await TS(this.xa.syncEngine),await eu(this.xa.remoteStore),await this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return aN(this.persistence,new oN,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Yq(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new O6(n,this.persistence);return new x6(e.asyncQueue,r)}createPersistence(e){const n=oS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new sS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,mN(),vf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new pN}}class lG extends AN{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xa.syncEngine;this.sharedClientState instanceof ov&&(this.sharedClientState.syncEngine={Ys:nG.bind(null,n),Zs:sG.bind(null,n),Xs:oG.bind(null,n),Bi:iG.bind(null,n),Js:tG.bind(null,n)},await this.sharedClientState.start()),await this.persistence.mi(async r=>{await rG(this.xa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=mN();if(!ov.D(n))throw new x(R.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=oS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ov(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class IS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JH.bind(null,this.syncEngine),await pw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LH}()}createDatastore(e){const n=Yd(e.databaseInfo.databaseId),r=function(s){return new wH(s)}(e.databaseInfo);return function(s,o,a,l){return new TH(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new PH(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>sR(this.syncEngine,n,0),function(){return tR.D()?new tR:new yH}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new zH(i,s,o,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=$(n);O("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Zl(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):gt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Ft,this.buffer=new Uint8Array,this.La=function(){return new TextDecoder("utf-8")}(),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(e===null)return null;const n=this.La.decode(e),r=Number(n);isNaN(r)&&this.Qa(`length string (${n}) is not valid number`);const i=await this.Ka(r);return new $H(JSON.parse(i),e.length+r)}$a(){return this.buffer.findIndex(e=>e===123)}async qa(){for(;this.$a()<0&&!await this.Ua(););if(this.buffer.length===0)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const n=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ua(){const e=await this.Ba.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new x(R.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=$(i),a=ld(o.serializer)+"/documents",l={documents:s.map(h=>ad(o.serializer,h))},u=await o.Co("BatchGetDocuments",a,l,s.length),c=new Map;u.forEach(h=>{const f=Cq(o.serializer,h);c.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=c.get(h.toString());Y(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Jl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=V.fromPath(r);this.mutations.push(new YE(i,this.precondition(i)))}),await async function(r,i){const s=$(r),o=ld(s.serializer)+"/documents",a={writes:i.map(l=>ud(s.serializer,l))};await s.wo("Commit",o,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw W();n=Q.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new x(R.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Q.min())?Qe.exists(!1):Qe.updateTime(n):Qe.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Q.min()))throw new x(R.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qe.updateTime(n)}return Qe.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new uS(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(async()=>{const e=new cG(this.datastore),n=this.za(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ja(i)}))}).catch(r=>{this.ja(r)})})}za(e){try{const n=this.updateFunction(e);return!Bd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!DD(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=YO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{O("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(O("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nu(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _f(t,e){t.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await lN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PS(t);O("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>nR(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>nR(e.remoteStore,s)),t._onlineComponents=e}function CN(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function PS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O("FirestoreClient","Using user provided OfflineComponentProvider");try{await _f(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!CN(n))throw n;br("Error using user provided cache. Falling back to memory cache: "+n),await _f(t,new gw)}}else O("FirestoreClient","Using default OfflineComponentProvider"),await _f(t,new gw);return t._offlineComponents}async function hg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(O("FirestoreClient","Using user provided OnlineComponentProvider"),await yw(t,t._uninitializedComponentsProvider._online)):(O("FirestoreClient","Using default OnlineComponentProvider"),await yw(t,new IS))),t._onlineComponents}function xN(t){return PS(t).then(e=>e.persistence)}function RS(t){return PS(t).then(e=>e.localStore)}function ON(t){return hg(t).then(e=>e.remoteStore)}function bS(t){return hg(t).then(e=>e.syncEngine)}function fG(t){return hg(t).then(e=>e.datastore)}async function xl(t){const e=await hg(t),n=e.eventManager;return n.onListen=WH.bind(null,e.syncEngine),n.onUnlisten=qH.bind(null,e.syncEngine),n}function pG(t){return t.asyncQueue.enqueue(async()=>{const e=await xN(t),n=await ON(t);return e.setNetworkEnabled(!0),function(i){const s=$(i);return s.C_.delete(0),Qd(s)}(n)})}function mG(t){return t.asyncQueue.enqueue(async()=>{const e=await xN(t),n=await ON(t);return e.setNetworkEnabled(!1),async function(i){const s=$(i);s.C_.add(0),await Zl(s),s.M_.set("Offline")}(n)})}function gG(t,e){const n=new Ft;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,c){const d=$(u);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,c))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new x(R.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=nu(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await RS(t),e,n)),n.promise}function DN(t,e,n={}){const r=new Ft;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new dg({next:h=>{o.enqueueAndForget(()=>mS(s,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new x(R.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new x(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new yS(Ql(a.path),c,{includeMetadataChanges:!0,J_:!0});return pS(s,d)}(await xl(t),t.asyncQueue,e,n,r)),r.promise}function yG(t,e){const n=new Ft;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await $p(i,s,!0),l=new PN(s,a.ls),u=l.ca(a.documents),c=l.applyChanges(u,!1);o.resolve(c.snapshot)}catch(a){const l=nu(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await RS(t),e,n)),n.promise}function NN(t,e,n={}){const r=new Ft;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new dg({next:h=>{o.enqueueAndForget(()=>mS(s,d)),h.fromCache&&l.source==="server"?u.reject(new x(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new yS(a,c,{includeMetadataChanges:!0,J_:!0});return pS(s,d)}(await xl(t),t.asyncQueue,e,n,r)),r.promise}function vG(t,e){const n=new dg(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){$(i).q_.add(s),s.next()}(await xl(t),n)),()=>{n.Na(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){$(i).q_.delete(s)}(await xl(t),n))}}function _G(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?MD().encode(o):o,function(c,d){return new uG(c,d)}(function(c,d){if(c instanceof Uint8Array)return aR(c,d);if(c instanceof ArrayBuffer)return aR(new Uint8Array(c),d);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Yd(e));t.asyncQueue.enqueueAndForget(async()=>{aG(await bS(t),i,r)})}function wG(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=$(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(await RS(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t,e,n){if(!n)throw new x(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LN(t,e,n,r){if(e===!0&&r===!0)throw new x(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uR(t){if(!V.isDocumentKey(t))throw new x(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cR(t){if(V.isDocumentKey(t))throw new x(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function Ee(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new x(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fg(t);throw new x(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function VN(t,e){if(e<=0)throw new x(R.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new x(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new x(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new x(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new x(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new x(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new x(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new w6;switch(r.type){case"firstParty":return new I6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new x(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lR.get(n);r&&(O("ComponentProvider","Removing Datastore"),lR.delete(n),r.terminate())}(this),Promise.resolve()}}function EG(t,e,n,r={}){var i;const s=(t=Ee(t,Xd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Lt.MOCK_USER;else{a=A4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new x(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Lt(u)}t._authCredentials=new E6(new KO(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let En=class FN{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new FN(this.firestore,e,this._query)}},nt=class $N{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $N(this.firestore,e,this._key)}},Is=class jN extends En{constructor(e,n,r){super(e,n,Ql(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new V(e))}withConverter(e){return new jN(this.firestore,e,this._path)}};function UN(t,e,...n){if(t=Z(t),kS("collection","path",e),t instanceof Xd){const r=me.fromString(e,...n);return cR(r),new Is(t,null,r)}{if(!(t instanceof nt||t instanceof Is))throw new x(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return cR(r),new Is(t.firestore,null,r)}}function SG(t,e){if(t=Ee(t,Xd),kS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new x(R.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new En(t,null,function(r){return new ji(me.emptyPath(),r)}(e))}function zp(t,e,...n){if(t=Z(t),arguments.length===1&&(e=YO.newId()),kS("doc","path",e),t instanceof Xd){const r=me.fromString(e,...n);return uR(r),new nt(t,null,new V(r))}{if(!(t instanceof nt||t instanceof Is))throw new x(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return uR(r),new nt(t.firestore,t instanceof Is?t.converter:null,new V(r))}}function BN(t,e){return t=Z(t),e=Z(e),(t instanceof nt||t instanceof Is)&&(e instanceof nt||e instanceof Is)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function zN(t,e){return t=Z(t),e=Z(e),t instanceof En&&e instanceof En&&t.firestore===e.firestore&&Wd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new uS(this,"async_queue_retry"),this.iu=()=>{const n=vf();n&&O("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=vf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=vf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Ft;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Qs(e))throw e;O("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw gt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=fS.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&W()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function vw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class IG{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ft,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PG=-1;let dt=class extends Xd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new TG}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||WN(this),this._firestoreClient.terminate()}};function Bt(t){return t._firestoreClient||WN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function WN(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new Z6(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,MN(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new hG(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function RG(t,e){HN(t=Ee(t,dt));const n=Bt(t);if(n._uninitializedComponentsProvider)throw new x(R.FAILED_PRECONDITION,"SDK cache is already specified.");br("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new IS;return qN(n,i,new AN(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function bG(t){HN(t=Ee(t,dt));const e=Bt(t);if(e._uninitializedComponentsProvider)throw new x(R.FAILED_PRECONDITION,"SDK cache is already specified.");br("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new IS;return qN(e,r,new lG(r,n.cacheSizeBytes))}function qN(t,e,n){const r=new Ft;return t.asyncQueue.enqueue(async()=>{try{await _f(t,n),await yw(t,e),r.resolve()}catch(i){const s=i;if(!CN(s))throw s;br("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function kG(t){if(t._initialized&&!t._terminated)throw new x(R.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ft;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!_r.D())return Promise.resolve();const i=r+"main";await _r.delete(i)}(oS(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function AG(t){return function(n){const r=new Ft;return n.asyncQueue.enqueueAndForget(async()=>QH(await bS(n),r)),r.promise}(Bt(t=Ee(t,dt)))}function CG(t){return pG(Bt(t=Ee(t,dt)))}function xG(t){return mG(Bt(t=Ee(t,dt)))}function OG(t,e){const n=Bt(t=Ee(t,dt)),r=new IG;return _G(n,t._databaseId,e,r),r}function DG(t,e){return wG(Bt(t=Ee(t,dt)),e).then(n=>n?new En(t,null,n.query):null)}function HN(t){if(t._initialized||t._terminated)throw new x(R.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(xt.fromBase64String(e))}catch(n){throw new x(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new si(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new x(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new x(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new x(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG=/^__.*__$/;class MG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xl(e,this.data,n,this.fieldTransforms)}}class GN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}class mg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Wp(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(KN(this.Iu)&&NG.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class LG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yd(e)}pu(e,n,r,i=!1){return new mg({Iu:e,methodName:n,gu:r,path:Ye.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ra(t){const e=t._freezeSettings(),n=Yd(t._databaseId);return new LG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gg(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);OS("Data must be an object, but it was:",o,r);const a=XN(r,o);let l,u;if(s.merge)l=new xn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=_w(e,d,n);if(!o.contains(h))throw new x(R.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);ZN(c,h)||c.push(h)}l=new xn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new MG(new Gt(a),l,u)}class Jd extends na{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jd}}function YN(t,e,n){return new mg({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class AS extends na{_toFieldTransform(e){return new Hd(e.path,new Il)}isEqual(e){return e instanceof AS}}class VG extends na{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=YN(this,e,!0),r=this.yu.map(s=>ia(s,n)),i=new Bo(r);return new Hd(e.path,i)}isEqual(e){return this===e}}class FG extends na{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=YN(this,e,!0),r=this.yu.map(s=>ia(s,n)),i=new zo(r);return new Hd(e.path,i)}isEqual(e){return this===e}}class $G extends na{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new Pl(e.serializer,RD(e.serializer,this.wu));return new Hd(e.path,n)}isEqual(e){return this===e}}function CS(t,e,n,r){const i=t.pu(1,e,n);OS("Data must be an object, but it was:",i,r);const s=[],o=Gt.empty();ta(r,(l,u)=>{const c=DS(e,l,n);u=Z(u);const d=i.Ru(c);if(u instanceof Jd)s.push(c);else{const h=ia(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new xn(s);return new GN(o,a,i.fieldTransforms)}function xS(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[_w(e,r,n)],l=[i];if(s.length%2!=0)throw new x(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(_w(e,s[h])),l.push(s[h+1]);const u=[],c=Gt.empty();for(let h=a.length-1;h>=0;--h)if(!ZN(u,a[h])){const f=a[h];let g=l[h];g=Z(g);const p=o.Ru(f);if(g instanceof Jd)u.push(f);else{const _=ia(g,p);_!=null&&(u.push(f),c.set(f,_))}}const d=new xn(u);return new GN(c,d,o.fieldTransforms)}function QN(t,e,n,r=!1){return ia(n,t.pu(r?4:3,e))}function ia(t,e){if(JN(t=Z(t)))return OS("Unsupported field value:",e,t),XN(t,e);if(t instanceof na)return function(r,i){if(!KN(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ia(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Z(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Xe.fromDate(r);return{timestampValue:Rl(i.serializer,s)}}if(r instanceof Xe){const s=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rl(i.serializer,s)}}if(r instanceof pg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof si)return{bytesValue:FD(i.serializer,r._byteString)};if(r instanceof nt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:eS(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${fg(r)}`)}(t,e)}function XN(t,e){const n={};return oD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(t,(r,i)=>{const s=ia(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function JN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof pg||t instanceof si||t instanceof nt||t instanceof na)}function OS(t,e,n){if(!JN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=fg(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function _w(t,e,n){if((e=Z(e))instanceof Fs)return e._internalPath;if(typeof e=="string")return DS(t,e);throw Wp("Field path arguments must be of type string or ",t,!1,void 0,n)}const jG=new RegExp("[~\\*/\\[\\]]");function DS(t,e,n){if(e.search(jG)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fs(...e.split("."))._internalPath}catch{throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new x(R.INVALID_ARGUMENT,a+t+l)}function ZN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UG extends dd{data(){return super.data()}}function yg(t,e){return typeof e=="string"?DS(t,e):e instanceof Fs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new x(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NS{}class Zd extends NS{}function Qi(t,e,...n){let r=[];e instanceof NS&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof MS).length,a=s.filter(l=>l instanceof vg).length;if(o>1||o>0&&a>0)throw new x(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class vg extends Zd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vg(e,n,r)}_apply(e){const n=this._parse(e);return nM(e._query,n),new En(e.firestore,e.converter,ow(e._query,n))}_parse(e){const n=ra(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new x(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){fR(d,c);const f=[];for(const g of d)f.push(hR(l,s,g));h={arrayValue:{values:f}}}else h=hR(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||fR(d,c),h=QN(a,o,d,c==="in"||c==="not-in");return de.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function BG(t,e,n){const r=e,i=yg("where",t);return vg._create(i,r,n)}class MS extends NS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new MS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:be.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)nM(o,l),o=ow(o,l)}(e._query,n),new En(e.firestore,e.converter,ow(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class LS extends Zd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new LS(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new x(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new x(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new od(s,o)}(e._query,this._field,this._direction);return new En(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ji(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function zG(t,e="asc"){const n=e,r=yg("orderBy",t);return LS._create(r,n)}class _g extends Zd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new _g(e,n,r)}_apply(e){return new En(e.firestore,e.converter,Mp(e._query,this._limit,this._limitType))}}function WG(t){return VN("limit",t),_g._create("limit",t,"F")}function qG(t){return VN("limitToLast",t),_g._create("limitToLast",t,"L")}class wg extends Zd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new wg(e,n,r)}_apply(e){const n=tM(e,this.type,this._docOrFields,this._inclusive);return new En(e.firestore,e.converter,function(i,s){return new ji(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function HG(...t){return wg._create("startAt",t,!0)}function GG(...t){return wg._create("startAfter",t,!1)}class Eg extends Zd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Eg(e,n,r)}_apply(e){const n=tM(e,this.type,this._docOrFields,this._inclusive);return new En(e.firestore,e.converter,function(i,s){return new ji(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function KG(...t){return Eg._create("endBefore",t,!1)}function YG(...t){return Eg._create("endAt",t,!0)}function tM(t,e,n,r){if(n[0]=Z(n[0]),n[0]instanceof dd)return function(s,o,a,l,u){if(!l)throw new x(R.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of tl(s))if(d.field.isKeyField())c.push(jo(o,l.key));else{const h=l.data.field(d.field);if(ig(h))throw new x(R.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=d.field.canonicalString();throw new x(R.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}c.push(h)}return new Ls(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ra(t.firestore);return function(o,a,l,u,c,d){const h=o.explicitOrderBy;if(c.length>h.length)throw new x(R.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let g=0;g<c.length;g++){const p=c[g];if(h[g].field.isKeyField()){if(typeof p!="string")throw new x(R.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof p}`);if(!GE(o)&&p.indexOf("/")!==-1)throw new x(R.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${p}' contains a slash.`);const _=o.path.child(me.fromString(p));if(!V.isDocumentKey(_))throw new x(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const y=new V(_);f.push(jo(a,y))}else{const _=QN(l,u,p);f.push(_)}}return new Ls(f,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function hR(t,e,n){if(typeof(n=Z(n))=="string"){if(n==="")throw new x(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GE(e)&&n.indexOf("/")!==-1)throw new x(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(me.fromString(n));if(!V.isDocumentKey(r))throw new x(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jo(t,new V(r))}if(n instanceof nt)return jo(t,n._key);throw new x(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fg(n)}.`)}function fR(t,e){if(!Array.isArray(t)||t.length===0)throw new x(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nM(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new x(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new x(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class VS{convertValue(e,n="none"){switch($o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ta(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new pg(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rd(e));default:return null}}convertTimestamp(e){const n=Os(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=me.fromString(e);Y(KD(r));const i=new Ns(r.get(1),r.get(3)),s=new V(r.popFirst(5));return i.isEqual(n)||gt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class QG extends VS{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Ni=class extends dd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},cc=class extends Ni{data(e={}){return super.data(e)}},$s=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _o(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cc(this._firestore,this._userDataWriter,r.key,r,new _o(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new x(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new cc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _o(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new cc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _o(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:XG(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function XG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}function rM(t,e){return t instanceof Ni&&e instanceof Ni?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof $s&&e instanceof $s&&t._firestore===e._firestore&&zN(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(t){t=Ee(t,nt);const e=Ee(t.firestore,dt);return DN(Bt(e),t._key).then(n=>FS(e,t,n))}class sa extends VS{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}}function ZG(t){t=Ee(t,nt);const e=Ee(t.firestore,dt),n=Bt(e),r=new sa(e);return gG(n,t._key).then(i=>new Ni(e,r,t._key,i,new _o(i!==null&&i.hasLocalMutations,!0),t.converter))}function e8(t){t=Ee(t,nt);const e=Ee(t.firestore,dt);return DN(Bt(e),t._key,{source:"server"}).then(n=>FS(e,t,n))}function t8(t){t=Ee(t,En);const e=Ee(t.firestore,dt),n=Bt(e),r=new sa(e);return eM(t._query),NN(n,t._query).then(i=>new $s(e,r,t,i))}function n8(t){t=Ee(t,En);const e=Ee(t.firestore,dt),n=Bt(e),r=new sa(e);return yG(n,t._query).then(i=>new $s(e,r,t,i))}function r8(t){t=Ee(t,En);const e=Ee(t.firestore,dt),n=Bt(e),r=new sa(e);return NN(n,t._query,{source:"server"}).then(i=>new $s(e,r,t,i))}function pR(t,e,n){t=Ee(t,nt);const r=Ee(t.firestore,dt),i=Sg(t.converter,e,n);return eh(r,[gg(ra(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Qe.none())])}function mR(t,e,n,...r){t=Ee(t,nt);const i=Ee(t.firestore,dt),s=ra(i);let o;return o=typeof(e=Z(e))=="string"||e instanceof Fs?xS(s,"updateDoc",t._key,e,n,r):CS(s,"updateDoc",t._key,e),eh(i,[o.toMutation(t._key,Qe.exists(!0))])}function i8(t){return eh(Ee(t.firestore,dt),[new Jl(t._key,Qe.none())])}function s8(t,e){const n=Ee(t.firestore,dt),r=zp(t),i=Sg(t.converter,e);return eh(n,[gg(ra(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qe.exists(!1))]).then(()=>r)}function iM(t,...e){var n,r,i;t=Z(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||vw(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(vw(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof nt)u=Ee(t.firestore,dt),c=Ql(t._key.path),l={next:d=>{e[o]&&e[o](FS(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Ee(t,En);u=Ee(d.firestore,dt),c=d._query;const h=new sa(u);l={next:f=>{e[o]&&e[o](new $s(u,h,d,f))},error:e[o+1],complete:e[o+2]},eM(t._query)}return function(h,f,g,p){const _=new dg(p),y=new yS(f,_,g);return h.asyncQueue.enqueueAndForget(async()=>pS(await xl(h),y)),()=>{_.Na(),h.asyncQueue.enqueueAndForget(async()=>mS(await xl(h),y))}}(Bt(u),c,a,l)}function o8(t,e){return vG(Bt(t=Ee(t,dt)),vw(e)?e:{next:e})}function eh(t,e){return function(r,i){const s=new Ft;return r.asyncQueue.enqueueAndForget(async()=>HH(await bS(r),i,s)),s.promise}(Bt(t),e)}function FS(t,e,n){const r=n.docs.get(e._key),i=new sa(t);return new Ni(t,i,e._key,r,new _o(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l8=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ra(e)}set(e,n,r){this._verifyNotCommitted();const i=ss(e,this._firestore),s=Sg(i.converter,n,r),o=gg(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Qe.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=ss(e,this._firestore);let o;return o=typeof(n=Z(n))=="string"||n instanceof Fs?xS(this._dataReader,"WriteBatch.update",s._key,n,r,i):CS(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Qe.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ss(e,this._firestore);return this._mutations=this._mutations.concat(new Jl(n._key,Qe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new x(R.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ss(t,e){if((t=Z(t)).firestore!==e)throw new x(R.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u8=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=ra(n)}get(n){const r=ss(n,this._firestore),i=new QG(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return W();const o=s[0];if(o.isFoundDocument())return new dd(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new dd(this._firestore,i,r._key,null,r.converter);throw W()})}set(n,r,i){const s=ss(n,this._firestore),o=Sg(s.converter,r,i),a=gg(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=ss(n,this._firestore);let a;return a=typeof(r=Z(r))=="string"||r instanceof Fs?xS(this._dataReader,"Transaction.update",o._key,r,i,s):CS(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=ss(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ss(e,this._firestore),r=new sa(this._firestore);return super.get(e).then(i=>new Ni(this._firestore,r,n._key,i._document,new _o(!1,!1),n.converter))}};function c8(t,e,n){t=Ee(t,dt);const r=Object.assign(Object.assign({},a8),n);return function(s){if(s.maxAttempts<1)throw new x(R.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Ft;return s.asyncQueue.enqueueAndForget(async()=>{const u=await fG(s);new dG(s.asyncQueue,u,a,o,l).run()}),l.promise}(Bt(t),i=>e(new u8(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(){return new Jd("deleteField")}function h8(){return new AS("serverTimestamp")}function f8(...t){return new VG("arrayUnion",t)}function p8(...t){return new FG("arrayRemove",t)}function m8(t){return new $G("increment",t)}(function(e,n=!0){(function(i){Yl=i})(qs),Cs(new ni("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new dt(new S6(r.getProvider("auth-internal")),new R6(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new x(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ns(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Jr(uP,"4.4.0",e),Jr(uP,"4.4.0","esm2017")})();const g8="@firebase/firestore-compat",y8="0.3.23";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new x("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(){if(typeof Uint8Array>"u")throw new x("unimplemented","Uint8Arrays are not available in this environment.")}function yR(){if(!X6())throw new x("unimplemented","Blobs are unavailable in Firestore in this environment.")}let sM=class ww{constructor(e){this._delegate=e}static fromBase64String(e){return yR(),new ww(si.fromBase64String(e))}static fromUint8Array(e){return gR(),new ww(si.fromUint8Array(e))}toBase64(){return yR(),this._delegate.toBase64()}toUint8Array(){return gR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t){return v8(t,["next","error","complete"])}function v8(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{enableIndexedDbPersistence(e,n){return RG(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return bG(e._delegate)}clearIndexedDbPersistence(e){return kG(e._delegate)}}class oM{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ns||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&br("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){EG(this._delegate,e,n,r)}enableNetwork(){return CG(this._delegate)}disableNetwork(){return xG(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,LN("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return AG(this._delegate)}onSnapshotsInSync(e){return o8(this._delegate,e)}get app(){if(!this._appCompat)throw new x("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ol(this,UN(this._delegate,e))}catch(n){throw mn(n,"collection()","Firestore.collection()")}}doc(e){try{return new or(this,zp(this._delegate,e))}catch(n){throw mn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new pn(this,SG(this._delegate,e))}catch(n){throw mn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return c8(this._delegate,n=>e(new aM(this,n)))}batch(){return Bt(this._delegate),new lM(new l8(this._delegate,e=>eh(this._delegate,e)))}loadBundle(e){return OG(this._delegate,e)}namedQuery(e){return DG(this._delegate,e).then(n=>n?new pn(this,n):null)}}class Tg extends VS{constructor(e){super(),this.firestore=e}convertBytes(e){return new sM(new si(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return or.forKey(n,this.firestore,null)}}function w8(t){v6(t)}class aM{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Tg(e)}get(e){const n=wo(e);return this._delegate.get(n).then(r=>new hd(this._firestore,new Ni(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=wo(e);return r?($S("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=wo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=wo(e);return this._delegate.delete(n),this}}class lM{constructor(e){this._delegate=e}set(e,n,r){const i=wo(e);return r?($S("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=wo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=wo(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Go{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new cc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fd(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Go.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Go(e,new Tg(e),n),i.set(n,s)),s}}Go.INSTANCES=new WeakMap;class or{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Tg(e)}static forPath(e,n,r){if(e.length%2!==0)throw new x("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new or(n,new nt(n._delegate,r,new V(e)))}static forKey(e,n,r){return new or(n,new nt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ol(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ol(this.firestore,UN(this._delegate,e))}catch(n){throw mn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Z(e),e instanceof nt?BN(this._delegate,e):!1}set(e,n){n=$S("DocumentReference.set",n);try{return n?pR(this._delegate,e,n):pR(this._delegate,e)}catch(r){throw mn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?mR(this._delegate,e):mR(this._delegate,e,n,...r)}catch(i){throw mn(i,"updateDoc()","DocumentReference.update()")}}delete(){return i8(this._delegate)}onSnapshot(...e){const n=uM(e),r=cM(e,i=>new hd(this.firestore,new Ni(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return iM(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=ZG(this._delegate):(e==null?void 0:e.source)==="server"?n=e8(this._delegate):n=JG(this._delegate),n.then(r=>new hd(this.firestore,new Ni(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new or(this.firestore,e?this._delegate.withConverter(Go.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function mn(t,e,n){return t.message=t.message.replace(e,n),t}function uM(t){for(const e of t)if(typeof e=="object"&&!Ew(e))return e;return{}}function cM(t,e){var n,r;let i;return Ew(t[0])?i=t[0]:Ew(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class hd{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new or(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return rM(this._delegate,e._delegate)}}class fd extends hd{data(e){const n=this._delegate.data(e);return this._delegate._converter||_6(n!==void 0),n}}class pn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Tg(e)}where(e,n,r){try{return new pn(this.firestore,Qi(this._delegate,BG(e,n,r)))}catch(i){throw mn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new pn(this.firestore,Qi(this._delegate,zG(e,n)))}catch(r){throw mn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new pn(this.firestore,Qi(this._delegate,WG(e)))}catch(n){throw mn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new pn(this.firestore,Qi(this._delegate,qG(e)))}catch(n){throw mn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new pn(this.firestore,Qi(this._delegate,HG(...e)))}catch(n){throw mn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new pn(this.firestore,Qi(this._delegate,GG(...e)))}catch(n){throw mn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new pn(this.firestore,Qi(this._delegate,KG(...e)))}catch(n){throw mn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new pn(this.firestore,Qi(this._delegate,YG(...e)))}catch(n){throw mn(n,"endAt()","Query.endAt()")}}isEqual(e){return zN(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=n8(this._delegate):(e==null?void 0:e.source)==="server"?n=r8(this._delegate):n=t8(this._delegate),n.then(r=>new Sw(this.firestore,new $s(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=uM(e),r=cM(e,i=>new Sw(this.firestore,new $s(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return iM(this._delegate,n,r)}withConverter(e){return new pn(this.firestore,e?this._delegate.withConverter(Go.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class E8{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new fd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Sw{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new pn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new fd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new E8(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new fd(this._firestore,r))})}isEqual(e){return rM(this._delegate,e._delegate)}}class Ol extends pn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new or(this.firestore,e):null}doc(e){try{return e===void 0?new or(this.firestore,zp(this._delegate)):new or(this.firestore,zp(this._delegate,e))}catch(n){throw mn(n,"doc()","CollectionReference.doc()")}}add(e){return s8(this._delegate,e).then(n=>new or(this.firestore,n))}isEqual(e){return BN(this._delegate,e._delegate)}withConverter(e){return new Ol(this.firestore,e?this._delegate.withConverter(Go.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function wo(t){return Ee(t,nt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(...e){this._delegate=new Fs(...e)}static documentId(){return new jS(Ye.keyField().canonicalString())}isEqual(e){return e=Z(e),e instanceof Fs?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._delegate=e}static serverTimestamp(){const e=h8();return e._methodName="FieldValue.serverTimestamp",new ho(e)}static delete(){const e=d8();return e._methodName="FieldValue.delete",new ho(e)}static arrayUnion(...e){const n=f8(...e);return n._methodName="FieldValue.arrayUnion",new ho(n)}static arrayRemove(...e){const n=p8(...e);return n._methodName="FieldValue.arrayRemove",new ho(n)}static increment(e){const n=m8(e);return n._methodName="FieldValue.increment",new ho(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8={Firestore:oM,GeoPoint:pg,Timestamp:Xe,Blob:sM,Transaction:aM,WriteBatch:lM,DocumentReference:or,DocumentSnapshot:hd,Query:pn,QueryDocumentSnapshot:fd,QuerySnapshot:Sw,CollectionReference:Ol,FieldPath:jS,FieldValue:ho,setLogLevel:w8,CACHE_SIZE_UNLIMITED:PG};function T8(t,e){t.INTERNAL.registerComponent(new ni("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},S8)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(t){T8(t,(e,n)=>new oM(e,n,new _8)),t.registerVersion(g8,y8)}I8(Jo);const P8={apiKey:"AIzaSyCmU1rcHXATKeQln3zVlDWLdq6sBfpwiPc",authDomain:"etu-1a2a5.firebaseapp.com",projectId:"etu-1a2a5",storageBucket:"etu-1a2a5.appspot.com",messagingSenderId:"90497304930",appId:"1:90497304930:web:0190666596e506ea57043b"},R8=Jo.initializeApp(P8),dM=R8.firestore(),dc=Jo.auth();function b8(){const[t,e]=k.useState(""),[n,r]=k.useState(""),i=Em(),s=async a=>{a.preventDefault();try{await dc.signInWithEmailAndPassword(t,n)&&i("/")}catch(l){console.error(l)}},o=async a=>{a.preventDefault(),console.log(dc);try{await dc.createUserWithEmailAndPassword(t,n)&&i("/")}catch(l){console.error(l)}};return w.jsxs("div",{className:"login",children:[w.jsx("img",{className:"login_logo",src:"https://fontmeme.com/images/Amazon-Logo.jpg",alt:""}),w.jsxs("div",{className:"login_container",children:[w.jsx("h1",{children:"Sign-in"}),w.jsxs("form",{action:"",children:[w.jsx("h3",{children:"E-mail"}),w.jsx("input",{type:"text",value:t,onChange:a=>e(a.target.value)}),w.jsx("h3",{children:"Password"}),w.jsx("input",{type:"text",value:n,onChange:a=>r(a.target.value)}),w.jsx("button",{type:"submit",onClick:s,className:"login_signInButton",children:"Sign In"})]}),w.jsx("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE conditions of use sale. please use our privacy Notice, our cookies Notice and our Interest-Based Ads Notice."}),w.jsx("button",{onClick:o,className:"login_registerButton",children:"Create your Amazon Account"})]})]})}var hM="https://js.stripe.com/v3",k8=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,vR="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",A8=function(){for(var e=document.querySelectorAll('script[src^="'.concat(hM,'"]')),n=0;n<e.length;n++){var r=e[n];if(k8.test(r.src))return r}return null},_R=function(e){var n=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(hM).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},C8=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"2.2.2",startTime:n})},Ru=null,Bh=null,zh=null,x8=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},O8=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},D8=function(e){return Ru!==null?Ru:(Ru=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(vR),window.Stripe){n(window.Stripe);return}try{var i=A8();if(i&&e)console.warn(vR);else if(!i)i=_R(e);else if(i&&zh!==null&&Bh!==null){var s;i.removeEventListener("load",zh),i.removeEventListener("error",Bh),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=_R(e)}zh=O8(n,r),Bh=x8(r),i.addEventListener("load",zh),i.addEventListener("error",Bh)}catch(o){r(o);return}}),Ru.catch(function(n){return Ru=null,Promise.reject(n)}))},N8=function(e,n,r){if(e===null)return null;var i=e.apply(void 0,n);return C8(i,r),i},fM=Promise.resolve().then(function(){return D8(null)}),pM=!1;fM.catch(function(t){pM||console.warn(t)});var M8=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];pM=!0;var i=Date.now();return fM.then(function(s){return N8(s,n,i)})},Ne={},oa={},mM={exports:{}},L8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",V8=L8,F8=V8;function gM(){}function yM(){}yM.resetWarningCache=gM;var $8=function(){function t(r,i,s,o,a,l){if(l!==F8){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:yM,resetWarningCache:gM};return n.PropTypes=n,n};mM.exports=$8();var Ig=mM.exports;Object.defineProperty(oa,"__esModule",{value:!0});oa.providerContextTypes=void 0;var j8=k,wR=vM(j8),U8=Ig,rl=vM(U8);function vM(t){return t&&t.__esModule?t:{default:t}}function B8(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function z8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W8(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function q8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var H8=oa.providerContextTypes={tag:rl.default.string.isRequired,stripe:rl.default.object,addStripeLoadListener:rl.default.func},G8=function(e,n){window.Stripe.__cachedInstances=window.Stripe.__cachedInstances||{};var r="key="+e+" options="+JSON.stringify(n),i=window.Stripe.__cachedInstances[r]||window.Stripe(e,n);return window.Stripe.__cachedInstances[r]=i,i},ER=function(e){if(e&&e.elements&&e.createSource&&e.createToken&&e.createPaymentMethod&&e.handleCardPayment)return e;throw new Error("Please pass a valid Stripe object to StripeProvider. You can obtain a Stripe object by calling 'Stripe(...)' with your publishable key.")},Pg=function(t){q8(e,t);function e(n){z8(this,e);var r=W8(this,t.call(this,n));if(r.props.apiKey&&r.props.stripe)throw new Error("Please pass either 'apiKey' or 'stripe' to StripeProvider, not both.");if(r.props.apiKey)if(window.Stripe){var i=r.props,s=i.apiKey;i.children;var o=B8(i,["apiKey","children"]),a=G8(s,o);r._meta={tag:"sync",stripe:a},r._register()}else throw new Error("Please load Stripe.js (https://js.stripe.com/v3/) on this page to use react-stripe-elements. If Stripe.js isn't available yet (it's loading asynchronously, or you're using server-side rendering), see https://github.com/stripe/react-stripe-elements#advanced-integrations");else if(r.props.stripe){var l=ER(r.props.stripe);r._meta={tag:"sync",stripe:l},r._register()}else if(r.props.stripe===null)r._meta={tag:"async",stripe:null};else throw new Error("Please pass either 'apiKey' or 'stripe' to StripeProvider. If you're using 'stripe' but don't have a Stripe instance yet, pass 'null' explicitly.");return r._didWarn=!1,r._didWakeUpListeners=!1,r._listeners=[],r}return e.prototype.getChildContext=function(){var r=this;return this._meta.tag==="sync"?{tag:"sync",stripe:this._meta.stripe}:{tag:"async",addStripeLoadListener:function(s){r._meta.stripe?s(r._meta.stripe):r._listeners.push(s)}}},e.prototype.componentDidUpdate=function(r){var i=this.props.apiKey&&r.apiKey&&this.props.apiKey!==r.apiKey,s=this.props.stripe&&r.stripe&&this.props.stripe!==r.stripe;if(!this._didWarn&&(i||s)&&window.console&&window.console.error){this._didWarn=!0,console.error("StripeProvider does not support changing the apiKey parameter.");return}if(!this._didWakeUpListeners&&this.props.stripe){this._didWakeUpListeners=!0;var o=ER(this.props.stripe);this._meta.stripe=o,this._register(),this._listeners.forEach(function(a){a(o)})}},e.prototype._register=function(){var r=this._meta.stripe;!r||!r._registerWrapper||r._registerWrapper({name:"react-stripe-elements",version:"6.1.2"})},e.prototype.render=function(){return wR.default.Children.only(this.props.children)},e}(wR.default.Component);Pg.propTypes={apiKey:rl.default.string,stripe:rl.default.object,children:rl.default.node};Pg.childContextTypes=H8;Pg.defaultProps={apiKey:void 0,stripe:void 0,children:null};oa.default=Pg;var US={},oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.elementContextTypes=oi.injectContextTypes=void 0;var _M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K8=k,SR=wM(K8),Y8=Ig,hc=wM(Y8),Q8=oa;function wM(t){return t&&t.__esModule?t:{default:t}}function TR(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function X8(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}function J8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z8(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function eK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var tK=oi.injectContextTypes={getRegisteredElements:hc.default.func.isRequired,elements:hc.default.object},nK=oi.elementContextTypes={addElementsLoadListener:hc.default.func.isRequired,registerElement:hc.default.func.isRequired,unregisterElement:hc.default.func.isRequired},Rg=function(t){eK(e,t);function e(n,r){J8(this,e);var i=Z8(this,t.call(this,n,r));i._elements=null,i.handleRegisterElement=function(a,l,u,c){i.setState(function(d){return{registeredElements:[].concat(X8(d.registeredElements),[_M({element:a},l?{impliedTokenType:l}:{},u?{impliedSourceType:u}:{},c?{impliedPaymentMethodType:c}:{})])}})},i.handleUnregisterElement=function(a){i.setState(function(l){return{registeredElements:l.registeredElements.filter(function(u){var c=u.element;return c!==a})}})};var s=i.props;s.children;var o=TR(s,["children"]);return i.context.tag==="sync"&&(i._elements=i.context.stripe.elements(o)),i.state={registeredElements:[]},i}return e.prototype.getChildContext=function(){var r=this;return{addElementsLoadListener:function(s){if(r.context.tag==="sync"){if(!r._elements)throw new Error("Expected elements to be instantiated but it was not.");s(r._elements)}else r.context.addStripeLoadListener(function(o){if(r._elements)s(r._elements);else{var a=r.props;a.children;var l=TR(a,["children"]);r._elements=o.elements(l),s(r._elements)}})},registerElement:this.handleRegisterElement,unregisterElement:this.handleUnregisterElement,getRegisteredElements:function(){return r.state.registeredElements},elements:this._elements}},e.prototype.render=function(){return SR.default.Children.only(this.props.children)},e}(SR.default.Component);Rg.childContextTypes=_M({},tK,nK);Rg.contextTypes=Q8.providerContextTypes;Rg.defaultProps={children:null};oi.default=Rg;Object.defineProperty(US,"__esModule",{value:!0});var lv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rK=k,IR=oK(rK),iK=oi,sK=oa;function oK(t){return t&&t.__esModule?t:{default:t}}function aK(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function lK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uK(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dK=function(e){var n,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.withRef,o=s===void 0?!1:s;return r=n=function(a){cK(l,a);function l(u,c){if(lK(this,l),!c||!c.getRegisteredElements)throw new Error(`It looks like you are trying to inject Stripe context outside of an Elements context.
Please be sure the component that calls createSource or createToken is within an <Elements> component.`);var d=uK(this,a.call(this,u,c));return d.parseElementOrData=function(h){return h&&(typeof h>"u"?"undefined":Zn(h))==="object"&&h._frame&&Zn(h._frame)==="object"&&h._frame.id&&typeof h._frame.id=="string"&&typeof h._componentName=="string"?{type:"element",element:h}:{type:"data",data:h}},d.findElement=function(h,f){var g=d.context.getRegisteredElements(),p=g.filter(function(y){return y[h]}),_=f==="auto"?p:p.filter(function(y){return y[h]===f});if(_.length===1)return _[0].element;if(_.length>1)throw new Error(`You did not specify the type of Source, Token, or PaymentMethod to create.
        We could not infer which Element you want to use for this operation.`);return null},d.requireElement=function(h,f){var g=d.findElement(h,f);if(g)return g;throw new Error(`You did not specify the type of Source, Token, or PaymentMethod to create.
        We could not infer which Element you want to use for this operation.`)},d.wrappedCreateToken=function(h){return function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(f&&(typeof f>"u"?"undefined":Zn(f))==="object"){var p=f,_=p.type,y=aK(p,["type"]),m=typeof _=="string"?_:"auto",v=d.requireElement("impliedTokenType",m);return h.createToken(v,y)}else if(typeof f=="string"){var E=f;return h.createToken(E,g)}else throw new Error("Invalid options passed to createToken. Expected an object, got "+(typeof f>"u"?"undefined":Zn(f))+".")}},d.wrappedCreateSource=function(h){return function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(f&&(typeof f>"u"?"undefined":Zn(f))==="object"){if(typeof f.type!="string")throw new Error("Invalid Source type passed to createSource. Expected string, got "+Zn(f.type)+".");var g=d.findElement("impliedSourceType",f.type);return g?h.createSource(g,f):h.createSource(f)}else throw new Error("Invalid options passed to createSource. Expected an object, got "+(typeof f>"u"?"undefined":Zn(f))+".")}},d.wrappedCreatePaymentMethod=function(h){return function(f,g,p){if(f&&(typeof f>"u"?"undefined":Zn(f))==="object")return h.createPaymentMethod(f);if(!f||typeof f!="string")throw new Error("Invalid PaymentMethod type passed to createPaymentMethod. Expected a string, got "+(typeof f>"u"?"undefined":Zn(f))+".");var _=d.parseElementOrData(g);if(_.type==="element"){var y=_.element;return p?h.createPaymentMethod(f,y,p):h.createPaymentMethod(f,y)}var m=_.data,v=d.findElement("impliedPaymentMethodType",f);if(v)return m?h.createPaymentMethod(f,v,m):h.createPaymentMethod(f,v);if(m&&(typeof m>"u"?"undefined":Zn(m))==="object")return h.createPaymentMethod(f,m);throw m?new Error("Invalid data passed to createPaymentMethod. Expected an object, got "+(typeof m>"u"?"undefined":Zn(m))+"."):new Error("Could not find an Element that can be used to create a PaymentMethod of type: "+f+".")}},d.wrappedHandleCardX=function(h,f){return function(g,p,_){if(!g||typeof g!="string")throw new Error("Invalid PaymentIntent client secret passed to handleCardPayment. Expected string, got "+(typeof g>"u"?"undefined":Zn(g))+".");var y=d.parseElementOrData(p);if(y.type==="element"){var m=y.element;return _?h[f](g,m,_):h[f](g,m)}var v=y.data,E=d.findElement("impliedPaymentMethodType","card");return E?v?h[f](g,E,v):h[f](g,E):v?h[f](g,v):h[f](g)}},d.context.tag==="sync"?d.state={stripe:d.stripeProps(d.context.stripe)}:d.state={stripe:null},d}return l.prototype.componentDidMount=function(){var c=this;this.context.tag==="async"&&this.context.addStripeLoadListener(function(d){c.setState({stripe:c.stripeProps(d)})})},l.prototype.getWrappedInstance=function(){if(!o)throw new Error("To access the wrapped instance, the `{withRef: true}` option must be set when calling `injectStripe()`");return this.wrappedInstance},l.prototype.stripeProps=function(c){return lv({},c,{createToken:this.wrappedCreateToken(c),createSource:this.wrappedCreateSource(c),createPaymentMethod:this.wrappedCreatePaymentMethod(c),handleCardPayment:this.wrappedHandleCardX(c,"handleCardPayment"),handleCardSetup:this.wrappedHandleCardX(c,"handleCardSetup")})},l.prototype.render=function(){var c=this;return IR.default.createElement(e,lv({},this.props,{stripe:this.state.stripe,elements:this.context.elements,ref:o?function(d){c.wrappedInstance=d}:null}))},l}(IR.default.Component),n.contextTypes=lv({},sK.providerContextTypes,iK.injectContextTypes),n.displayName="InjectStripe("+(e.displayName||e.name||"Component")+")",r};US.default=dK;var BS={},zS={};Object.defineProperty(zS,"__esModule",{value:!0});var PR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RR="[object Object]",hK=function t(e,n){if((typeof e>"u"?"undefined":PR(e))!=="object"||(typeof n>"u"?"undefined":PR(n))!=="object"||e===null||n===null)return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===RR,o=Object.prototype.toString.call(n)===RR;if(s!==o||!s&&!r)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var u={},c=0;c<a.length;c+=1)u[a[c]]=!0;for(var d=0;d<l.length;d+=1)u[l[d]]=!0;var h=Object.keys(u);if(h.length!==a.length)return!1;var f=e,g=n,p=function(y){return t(f[y],g[y])};return h.every(p)};zS.default=hK;Object.defineProperty(BS,"__esModule",{value:!0});var fK=k,bR=WS(fK),pK=Ig,ma=WS(pK),mK=zS,gK=WS(mK),yK=oi;function WS(t){return t&&t.__esModule?t:{default:t}}function vK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _K(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function EK(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Wh=function(){},kR=function(e){e.id,e.className,e.onChange,e.onFocus,e.onBlur,e.onReady;var n=EK(e,["id","className","onChange","onFocus","onBlur","onReady"]);return n},SK=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},TK=function(e){var n,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=n=function(s){wK(o,s);function o(a,l){vK(this,o);var u=_K(this,s.call(this,a,l));u.handleRef=function(d){u._ref=d},u._element=null;var c=kR(u.props);return u._options=c,u}return o.prototype.componentDidMount=function(){var l=this;this.context.addElementsLoadListener(function(u){if(l._ref){var c=u.create(e,l._options);l._element=c,l._setupEventListeners(c),c.mount(l._ref),l.context.registerElement(c,i.impliedTokenType,i.impliedSourceType,i.impliedPaymentMethodType)}})},o.prototype.componentDidUpdate=function(){var l=kR(this.props);Object.keys(l).length!==0&&!(0,gK.default)(l,this._options)&&(this._options=l,this._element&&this._element.update(l))},o.prototype.componentWillUnmount=function(){if(this._element){var l=this._element;l.destroy(),this.context.unregisterElement(l)}},o.prototype._setupEventListeners=function(l){var u=this;l.on("ready",function(){u.props.onReady(u._element)}),l.on("change",function(c){u.props.onChange(c)}),l.on("blur",function(){var c;return(c=u.props).onBlur.apply(c,arguments)}),l.on("focus",function(){var c;return(c=u.props).onFocus.apply(c,arguments)})},o.prototype.render=function(){return bR.default.createElement("div",{id:this.props.id,className:this.props.className,ref:this.handleRef})},o}(bR.default.Component),n.propTypes={id:ma.default.string,className:ma.default.string,onChange:ma.default.func,onBlur:ma.default.func,onFocus:ma.default.func,onReady:ma.default.func},n.defaultProps={id:void 0,className:void 0,onChange:Wh,onBlur:Wh,onFocus:Wh,onReady:Wh},n.contextTypes=yK.elementContextTypes,n.displayName=SK(e)+"Element",r};BS.default=TK;var qS={},HS={};Object.defineProperty(HS,"__esModule",{value:!0});var IK=function(e,n){var r=Object.keys(e),i=Object.keys(n);return r.length===i.length&&r.every(function(s){return n.hasOwnProperty(s)&&n[s]===e[s]})};HS.default=IK;Object.defineProperty(qS,"__esModule",{value:!0});var PK=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RK=k,AR=GS(RK),bK=Ig,Dr=GS(bK),kK=HS,AK=GS(kK),CK=oi;function GS(t){return t&&t.__esModule?t:{default:t}}function xK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OK(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function DK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function NK(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var qh=function(){},CR=function(e){e.id,e.className,e.onBlur,e.onClick,e.onFocus,e.onReady,e.paymentRequest;var n=NK(e,["id","className","onBlur","onClick","onFocus","onReady","paymentRequest"]);return n},bg=function(t){DK(e,t);function e(n,r){xK(this,e);var i=OK(this,t.call(this,n,r));i.handleRef=function(o){i._ref=o};var s=CR(n);return i._options=s,i}return e.prototype.componentDidMount=function(){var r=this;this.context.addElementsLoadListener(function(i){r._element=i.create("paymentRequestButton",PK({paymentRequest:r.props.paymentRequest},r._options)),r._element.on("ready",function(){r.props.onReady(r._element)}),r._element.on("focus",function(){var s;return(s=r.props).onFocus.apply(s,arguments)}),r._element.on("click",function(){var s;return(s=r.props).onClick.apply(s,arguments)}),r._element.on("blur",function(){var s;return(s=r.props).onBlur.apply(s,arguments)}),r._element.mount(r._ref)})},e.prototype.componentDidUpdate=function(r){this.props.paymentRequest!==r.paymentRequest&&console.warn("Unsupported prop change: paymentRequest is not a customizable property.");var i=CR(this.props);Object.keys(i).length!==0&&!(0,AK.default)(i,this._options)&&(this._options=i,this._element.update(i))},e.prototype.componentWillUnmount=function(){this._element.destroy()},e.prototype.render=function(){return AR.default.createElement("div",{id:this.props.id,className:this.props.className,ref:this.handleRef})},e}(AR.default.Component);bg.propTypes={id:Dr.default.string,className:Dr.default.string,onBlur:Dr.default.func,onClick:Dr.default.func,onFocus:Dr.default.func,onReady:Dr.default.func,paymentRequest:Dr.default.shape({canMakePayment:Dr.default.func.isRequired,on:Dr.default.func.isRequired,show:Dr.default.func.isRequired}).isRequired};bg.defaultProps={id:void 0,className:void 0,onBlur:qh,onClick:qh,onFocus:qh,onReady:qh};bg.contextTypes=CK.elementContextTypes;qS.default=bg;Object.defineProperty(Ne,"__esModule",{value:!0});Ne.AuBankAccountElement=Ne.FpxBankElement=Ne.IdealBankElement=Ne.IbanElement=Ne.PaymentRequestButtonElement=Ne.CardCVCElement=Ne.CardCvcElement=Ne.CardExpiryElement=Ne.CardNumberElement=Ne.CardElement=Ne.Elements=Ne.injectStripe=Ne.StripeProvider=void 0;var MK=oa,LK=th(MK),VK=US,FK=th(VK),$K=oi,jK=th($K),UK=BS,Zs=th(UK),BK=qS,zK=th(BK);function th(t){return t&&t.__esModule?t:{default:t}}var WK=(0,Zs.default)("card",{impliedTokenType:"card",impliedSourceType:"card",impliedPaymentMethodType:"card"}),qK=(0,Zs.default)("cardNumber",{impliedTokenType:"card",impliedSourceType:"card",impliedPaymentMethodType:"card"}),HK=(0,Zs.default)("cardExpiry"),EM=(0,Zs.default)("cardCvc"),GK=EM,KK=(0,Zs.default)("iban",{impliedTokenType:"bank_account",impliedSourceType:"sepa_debit"}),YK=(0,Zs.default)("idealBank",{impliedSourceType:"ideal"}),QK=(0,Zs.default)("fpxBank"),XK=(0,Zs.default)("auBankAccount");Ne.StripeProvider=LK.default;Ne.injectStripe=FK.default;Ne.Elements=jK.default;Ne.CardElement=WK;Ne.CardNumberElement=qK;Ne.CardExpiryElement=HK;Ne.CardCvcElement=EM;Ne.CardCVCElement=GK;Ne.PaymentRequestButtonElement=zK.default;Ne.IbanElement=KK;Ne.IdealBankElement=YK;Ne.FpxBankElement=QK;Ne.AuBankAccountElement=XK;function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){SM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wf(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wf=function(e){return typeof e}:wf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function SM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ef(t,e){return JK(t)||ZK(t,e)||e7(t,e)||t7()}function JK(t){if(Array.isArray(t))return t}function ZK(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function e7(t,e){if(t){if(typeof t=="string")return DR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DR(t,e)}}function DR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Tw=function(e){var n=_e.useRef(e);return _e.useEffect(function(){n.current=e},[e]),n.current},Dl=function(e){return e!==null&&wf(e)==="object"},n7=function(e){return Dl(e)&&typeof e.then=="function"},r7=function(e){return Dl(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},NR="[object Object]",i7=function t(e,n){if(!Dl(e)||!Dl(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===NR,o=Object.prototype.toString.call(n)===NR;if(s!==o)return!1;if(!s&&!r)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var u={},c=0;c<a.length;c+=1)u[a[c]]=!0;for(var d=0;d<l.length;d+=1)u[l[d]]=!0;var h=Object.keys(u);if(h.length!==a.length)return!1;var f=e,g=n,p=function(y){return t(f[y],g[y])};return h.every(p)},TM=function(e,n,r){return Dl(e)?Object.keys(e).reduce(function(i,s){var o=!Dl(n)||!i7(e[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?OR(OR({},i||{}),{},SM({},s,e[s])):i},null):null},IM="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",MR=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IM;if(e===null||r7(e))return e;throw new Error(n)},s7=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IM;if(n7(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return MR(i,n)})};var r=MR(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},o7=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.4.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.4.0",url:"https://stripe.com/docs/stripe-js/react"}))},PM=_e.createContext(null);PM.displayName="CustomCheckoutSdkContext";var a7=function(e,n){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CustomCheckoutProvider> provider."));return e},l7=_e.createContext(null);l7.displayName="CustomCheckoutContext";ie.any,ie.shape({clientSecret:ie.string.isRequired,elementsOptions:ie.object}).isRequired;var Iw=function(e){var n=_e.useContext(PM),r=_e.useContext(kg);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?a7(n,e):RM(r,e)},kg=_e.createContext(null);kg.displayName="ElementsContext";var RM=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},KS=_e.createContext(null);KS.displayName="CartElementContext";var u7=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},bM=function(e){var n=e.stripe,r=e.options,i=e.children,s=_e.useMemo(function(){return s7(n)},[n]),o=_e.useState(null),a=Ef(o,2),l=a[0],u=a[1],c=_e.useState(null),d=Ef(c,2),h=d[0],f=d[1],g=_e.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),p=Ef(g,2),_=p[0],y=p[1];_e.useEffect(function(){var E=!0,S=function(P){y(function(b){return b.stripe?b:{stripe:P,elements:P.elements(r)}})};return s.tag==="async"&&!_.stripe?s.stripePromise.then(function(T){T&&E&&S(T)}):s.tag==="sync"&&!_.stripe&&S(s.stripe),function(){E=!1}},[s,_,r]);var m=Tw(n);_e.useEffect(function(){m!==null&&m!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,n]);var v=Tw(r);return _e.useEffect(function(){if(_.elements){var E=TM(r,v,["clientSecret","fonts"]);E&&_.elements.update(E)}},[r,v,_.elements]),_e.useEffect(function(){o7(_.stripe)},[_.stripe]),_e.createElement(kg.Provider,{value:_},_e.createElement(KS.Provider,{value:{cart:l,setCart:u,cartState:h,setCartState:f}},i))};bM.propTypes={stripe:ie.any,options:ie.object};var c7=function(e){var n=_e.useContext(kg);return RM(n,e)},d7={cart:null,cartState:null,setCart:function(){},setCartState:function(){}},LR=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=_e.useContext(KS);return n?d7:u7(r,e)},h7=function(){var e=c7("calls useElements()"),n=e.elements;return n},f7=function(){var e=Iw("calls useStripe()"),n=e.stripe;return n};ie.func.isRequired;var hn=function(e,n,r){var i=!!r,s=_e.useRef(r);_e.useEffect(function(){s.current=r},[r]),_e.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[i,n,e,s])},p7=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Pt=function(e,n){var r="".concat(p7(e),"Element"),i=function(l){var u=l.id,c=l.className,d=l.options,h=d===void 0?{}:d,f=l.onBlur,g=l.onFocus,p=l.onReady,_=l.onChange,y=l.onEscape,m=l.onClick,v=l.onLoadError,E=l.onLoaderStart,S=l.onNetworksChange,T=l.onCheckout,P=l.onLineItemClick,b=l.onConfirm,D=l.onCancel,A=l.onShippingAddressChange,K=l.onShippingRateChange,z=Iw("mounts <".concat(r,">")),G="elements"in z?z.elements:null,Je="customCheckoutSdk"in z?z.customCheckoutSdk:null,Ve=_e.useState(null),Ot=Ef(Ve,2),Oe=Ot[0],F=Ot[1],J=_e.useRef(null),te=_e.useRef(null),De=LR("mounts <".concat(r,">"),"customCheckoutSdk"in z),Re=De.setCart,xr=De.setCartState;hn(Oe,"blur",f),hn(Oe,"focus",g),hn(Oe,"escape",y),hn(Oe,"click",m),hn(Oe,"loaderror",v),hn(Oe,"loaderstart",E),hn(Oe,"networkschange",S),hn(Oe,"lineitemclick",P),hn(Oe,"confirm",b),hn(Oe,"cancel",D),hn(Oe,"shippingaddresschange",A),hn(Oe,"shippingratechange",K);var Dt;e==="cart"?Dt=function(NT){xr(NT),p&&p(NT)}:p&&(e==="expressCheckout"?Dt=p:Dt=function(){p(Oe)}),hn(Oe,"ready",Dt);var au=e==="cart"?function(bt){xr(bt),_&&_(bt)}:_;hn(Oe,"change",au);var di=e==="cart"?function(bt){xr(bt),T&&T(bt)}:T;hn(Oe,"checkout",di),_e.useLayoutEffect(function(){if(J.current===null&&te.current!==null&&(G||Je)){var bt=null;Je?bt=Je.createElement(e,h):G&&(bt=G.create(e,h)),e==="cart"&&Re&&Re(bt),J.current=bt,F(bt),bt&&bt.mount(te.current)}},[G,Je,h,Re]);var eo=Tw(h);return _e.useEffect(function(){if(J.current){var bt=TM(h,eo,["paymentRequest"]);bt&&J.current.update(bt)}},[h,eo]),_e.useLayoutEffect(function(){return function(){if(J.current&&typeof J.current.destroy=="function")try{J.current.destroy(),J.current=null}catch{}}},[]),_e.createElement("div",{id:u,className:c,ref:te})},s=function(l){var u=Iw("mounts <".concat(r,">"));LR("mounts <".concat(r,">"),"customCheckoutSdk"in u);var c=l.id,d=l.className;return _e.createElement("div",{id:c,className:d})},o=n?s:i;return o.propTypes={id:ie.string,className:ie.string,onChange:ie.func,onBlur:ie.func,onFocus:ie.func,onReady:ie.func,onEscape:ie.func,onClick:ie.func,onLoadError:ie.func,onLoaderStart:ie.func,onNetworksChange:ie.func,onCheckout:ie.func,onLineItemClick:ie.func,onConfirm:ie.func,onCancel:ie.func,onShippingAddressChange:ie.func,onShippingRateChange:ie.func,options:ie.object},o.displayName=r,o.__elementType=e,o},Rt=typeof window>"u",m7=_e.createContext(null);m7.displayName="EmbeddedCheckoutProviderContext";Pt("auBankAccount",Rt);var VR=Pt("card",Rt);Pt("cardNumber",Rt);Pt("cardExpiry",Rt);Pt("cardCvc",Rt);Pt("fpxBank",Rt);Pt("iban",Rt);Pt("idealBank",Rt);Pt("p24Bank",Rt);Pt("epsBank",Rt);Pt("payment",Rt);Pt("expressCheckout",Rt);Pt("paymentRequestButton",Rt);Pt("linkAuthentication",Rt);Pt("address",Rt);Pt("shippingAddress",Rt);Pt("cart",Rt);Pt("paymentMethodMessaging",Rt);Pt("affirmMessage",Rt);Pt("afterpayClearpayMessage",Rt);function kM(t,e){return function(){return t.apply(e,arguments)}}const{toString:g7}=Object.prototype,{getPrototypeOf:YS}=Object,Ag=(t=>e=>{const n=g7.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),li=t=>(t=t.toLowerCase(),e=>Ag(e)===t),Cg=t=>e=>typeof e===t,{isArray:ru}=Array,pd=Cg("undefined");function y7(t){return t!==null&&!pd(t)&&t.constructor!==null&&!pd(t.constructor)&&lr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const AM=li("ArrayBuffer");function v7(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&AM(t.buffer),e}const _7=Cg("string"),lr=Cg("function"),CM=Cg("number"),xg=t=>t!==null&&typeof t=="object",w7=t=>t===!0||t===!1,Sf=t=>{if(Ag(t)!=="object")return!1;const e=YS(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},E7=li("Date"),S7=li("File"),T7=li("Blob"),I7=li("FileList"),P7=t=>xg(t)&&lr(t.pipe),R7=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||lr(t.append)&&((e=Ag(t))==="formdata"||e==="object"&&lr(t.toString)&&t.toString()==="[object FormData]"))},b7=li("URLSearchParams"),k7=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ru(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function xM(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const OM=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,DM=t=>!pd(t)&&t!==OM;function Pw(){const{caseless:t}=DM(this)&&this||{},e={},n=(r,i)=>{const s=t&&xM(e,i)||i;Sf(e[s])&&Sf(r)?e[s]=Pw(e[s],r):Sf(r)?e[s]=Pw({},r):ru(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&nh(arguments[r],n);return e}const A7=(t,e,n,{allOwnKeys:r}={})=>(nh(e,(i,s)=>{n&&lr(i)?t[s]=kM(i,n):t[s]=i},{allOwnKeys:r}),t),C7=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),x7=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},O7=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&YS(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},D7=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},N7=t=>{if(!t)return null;if(ru(t))return t;let e=t.length;if(!CM(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},M7=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&YS(Uint8Array)),L7=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},V7=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},F7=li("HTMLFormElement"),$7=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),FR=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),j7=li("RegExp"),NM=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};nh(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},U7=t=>{NM(t,(e,n)=>{if(lr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(lr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},B7=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ru(t)?r(t):r(String(t).split(e)),n},z7=()=>{},W7=(t,e)=>(t=+t,Number.isFinite(t)?t:e),uv="abcdefghijklmnopqrstuvwxyz",$R="0123456789",MM={DIGIT:$R,ALPHA:uv,ALPHA_DIGIT:uv+uv.toUpperCase()+$R},q7=(t=16,e=MM.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function H7(t){return!!(t&&lr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const G7=t=>{const e=new Array(10),n=(r,i)=>{if(xg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=ru(r)?[]:{};return nh(r,(o,a)=>{const l=n(o,i+1);!pd(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},K7=li("AsyncFunction"),Y7=t=>t&&(xg(t)||lr(t))&&lr(t.then)&&lr(t.catch),C={isArray:ru,isArrayBuffer:AM,isBuffer:y7,isFormData:R7,isArrayBufferView:v7,isString:_7,isNumber:CM,isBoolean:w7,isObject:xg,isPlainObject:Sf,isUndefined:pd,isDate:E7,isFile:S7,isBlob:T7,isRegExp:j7,isFunction:lr,isStream:P7,isURLSearchParams:b7,isTypedArray:M7,isFileList:I7,forEach:nh,merge:Pw,extend:A7,trim:k7,stripBOM:C7,inherits:x7,toFlatObject:O7,kindOf:Ag,kindOfTest:li,endsWith:D7,toArray:N7,forEachEntry:L7,matchAll:V7,isHTMLForm:F7,hasOwnProperty:FR,hasOwnProp:FR,reduceDescriptors:NM,freezeMethods:U7,toObjectSet:B7,toCamelCase:$7,noop:z7,toFiniteNumber:W7,findKey:xM,global:OM,isContextDefined:DM,ALPHABET:MM,generateString:q7,isSpecCompliantForm:H7,toJSONObject:G7,isAsyncFn:K7,isThenable:Y7};function pe(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}C.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const LM=pe.prototype,VM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{VM[t]={value:t}});Object.defineProperties(pe,VM);Object.defineProperty(LM,"isAxiosError",{value:!0});pe.from=(t,e,n,r,i,s)=>{const o=Object.create(LM);return C.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),pe.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const Q7=null;function Rw(t){return C.isPlainObject(t)||C.isArray(t)}function FM(t){return C.endsWith(t,"[]")?t.slice(0,-2):t}function jR(t,e,n){return t?t.concat(e).map(function(i,s){return i=FM(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function X7(t){return C.isArray(t)&&!t.some(Rw)}const J7=C.toFlatObject(C,{},null,function(e){return/^is[A-Z]/.test(e)});function Og(t,e,n){if(!C.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=C.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,_){return!C.isUndefined(_[p])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(e);if(!C.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(C.isDate(g))return g.toISOString();if(!l&&C.isBlob(g))throw new pe("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(g)||C.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,p,_){let y=g;if(g&&!_&&typeof g=="object"){if(C.endsWith(p,"{}"))p=r?p:p.slice(0,-2),g=JSON.stringify(g);else if(C.isArray(g)&&X7(g)||(C.isFileList(g)||C.endsWith(p,"[]"))&&(y=C.toArray(g)))return p=FM(p),y.forEach(function(v,E){!(C.isUndefined(v)||v===null)&&e.append(o===!0?jR([p],E,s):o===null?p:p+"[]",u(v))}),!1}return Rw(g)?!0:(e.append(jR(_,p,s),u(g)),!1)}const d=[],h=Object.assign(J7,{defaultVisitor:c,convertValue:u,isVisitable:Rw});function f(g,p){if(!C.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(g),C.forEach(g,function(y,m){(!(C.isUndefined(y)||y===null)&&i.call(e,y,C.isString(m)?m.trim():m,p,h))===!0&&f(y,p?p.concat(m):[m])}),d.pop()}}if(!C.isObject(t))throw new TypeError("data must be an object");return f(t),e}function UR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function QS(t,e){this._pairs=[],t&&Og(t,this,e)}const $M=QS.prototype;$M.append=function(e,n){this._pairs.push([e,n])};$M.toString=function(e){const n=e?function(r){return e.call(this,r,UR)}:UR;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Z7(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jM(t,e,n){if(!e)return t;const r=n&&n.encode||Z7,i=n&&n.serialize;let s;if(i?s=i(e,n):s=C.isURLSearchParams(e)?e.toString():new QS(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class eY{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){C.forEach(this.handlers,function(r){r!==null&&e(r)})}}const BR=eY,UM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tY=typeof URLSearchParams<"u"?URLSearchParams:QS,nY=typeof FormData<"u"?FormData:null,rY=typeof Blob<"u"?Blob:null,iY={isBrowser:!0,classes:{URLSearchParams:tY,FormData:nY,Blob:rY},protocols:["http","https","file","blob","url","data"]},BM=typeof window<"u"&&typeof document<"u",sY=(t=>BM&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),oY=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",aY=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:BM,hasStandardBrowserEnv:sY,hasStandardBrowserWebWorkerEnv:oY},Symbol.toStringTag,{value:"Module"})),Yr={...aY,...iY};function lY(t,e){return Og(t,new Yr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Yr.isNode&&C.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function uY(t){return C.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function cY(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function zM(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&C.isArray(i)?i.length:o,l?(C.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!C.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&C.isArray(i[o])&&(i[o]=cY(i[o])),!a)}if(C.isFormData(t)&&C.isFunction(t.entries)){const n={};return C.forEachEntry(t,(r,i)=>{e(uY(r),i,n,0)}),n}return null}function dY(t,e,n){if(C.isString(t))try{return(e||JSON.parse)(t),C.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const XS={transitional:UM,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=C.isObject(e);if(s&&C.isHTMLForm(e)&&(e=new FormData(e)),C.isFormData(e))return i&&i?JSON.stringify(zM(e)):e;if(C.isArrayBuffer(e)||C.isBuffer(e)||C.isStream(e)||C.isFile(e)||C.isBlob(e))return e;if(C.isArrayBufferView(e))return e.buffer;if(C.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return lY(e,this.formSerializer).toString();if((a=C.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Og(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),dY(e)):e}],transformResponse:[function(e){const n=this.transitional||XS.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&C.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?pe.from(a,pe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yr.classes.FormData,Blob:Yr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],t=>{XS.headers[t]={}});const JS=XS,hY=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fY=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&hY[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},zR=Symbol("internals");function bu(t){return t&&String(t).trim().toLowerCase()}function Tf(t){return t===!1||t==null?t:C.isArray(t)?t.map(Tf):String(t)}function pY(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const mY=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function cv(t,e,n,r,i){if(C.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!C.isString(e)){if(C.isString(r))return e.indexOf(r)!==-1;if(C.isRegExp(r))return r.test(e)}}function gY(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function yY(t,e){const n=C.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Dg{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=bu(l);if(!c)throw new Error("header name must be a non-empty string");const d=C.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Tf(a))}const o=(a,l)=>C.forEach(a,(u,c)=>s(u,c,l));return C.isPlainObject(e)||e instanceof this.constructor?o(e,n):C.isString(e)&&(e=e.trim())&&!mY(e)?o(fY(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=bu(e),e){const r=C.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return pY(i);if(C.isFunction(n))return n.call(this,i,r);if(C.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=bu(e),e){const r=C.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||cv(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=bu(o),o){const a=C.findKey(r,o);a&&(!n||cv(r,r[a],a,n))&&(delete r[a],i=!0)}}return C.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||cv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return C.forEach(this,(i,s)=>{const o=C.findKey(r,s);if(o){n[o]=Tf(i),delete n[s];return}const a=e?gY(s):String(s).trim();a!==s&&delete n[s],n[a]=Tf(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return C.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&C.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[zR]=this[zR]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=bu(o);r[a]||(yY(i,o),r[a]=!0)}return C.isArray(e)?e.forEach(s):s(e),this}}Dg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(Dg.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});C.freezeMethods(Dg);const Ri=Dg;function dv(t,e){const n=this||JS,r=e||n,i=Ri.from(r.headers);let s=r.data;return C.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function WM(t){return!!(t&&t.__CANCEL__)}function rh(t,e,n){pe.call(this,t??"canceled",pe.ERR_CANCELED,e,n),this.name="CanceledError"}C.inherits(rh,pe,{__CANCEL__:!0});function vY(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new pe("Request failed with status code "+n.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const _Y=Yr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];C.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),C.isString(r)&&o.push("path="+r),C.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function wY(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function EY(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function qM(t,e){return t&&!wY(e)?EY(t,e):e}const SY=Yr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=C.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function TY(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function IY(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const f=c&&u-c;return f?Math.round(h*1e3/f):void 0}}function WR(t,e){let n=0;const r=IY(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const PY=typeof XMLHttpRequest<"u",RY=PY&&function(t){return new Promise(function(n,r){let i=t.data;const s=Ri.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function u(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let c;if(C.isFormData(i)){if(Yr.hasStandardBrowserEnv||Yr.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((c=s.getContentType())!==!1){const[p,..._]=c?c.split(";").map(y=>y.trim()).filter(Boolean):[];s.setContentType([p||"multipart/form-data",..._].join("; "))}}let d=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(p+":"+_))}const h=qM(t.baseURL,t.url);d.open(t.method.toUpperCase(),jM(h,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function f(){if(!d)return;const p=Ri.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),y={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:p,config:t,request:d};vY(function(v){n(v),u()},function(v){r(v),u()},y),d=null}if("onloadend"in d?d.onloadend=f:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(f)},d.onabort=function(){d&&(r(new pe("Request aborted",pe.ECONNABORTED,t,d)),d=null)},d.onerror=function(){r(new pe("Network Error",pe.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let _=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const y=t.transitional||UM;t.timeoutErrorMessage&&(_=t.timeoutErrorMessage),r(new pe(_,y.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,t,d)),d=null},Yr.hasStandardBrowserEnv&&(a&&C.isFunction(a)&&(a=a(t)),a||a!==!1&&SY(h))){const p=t.xsrfHeaderName&&t.xsrfCookieName&&_Y.read(t.xsrfCookieName);p&&s.set(t.xsrfHeaderName,p)}i===void 0&&s.setContentType(null),"setRequestHeader"in d&&C.forEach(s.toJSON(),function(_,y){d.setRequestHeader(y,_)}),C.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),o&&o!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",WR(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",WR(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=p=>{d&&(r(!p||p.type?new rh(null,t,d):p),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const g=TY(h);if(g&&Yr.protocols.indexOf(g)===-1){r(new pe("Unsupported protocol "+g+":",pe.ERR_BAD_REQUEST,t));return}d.send(i||null)})},bw={http:Q7,xhr:RY};C.forEach(bw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const qR=t=>`- ${t}`,bY=t=>C.isFunction(t)||t===null||t===!1,HM={getAdapter:t=>{t=C.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!bY(n)&&(r=bw[(o=String(n)).toLowerCase()],r===void 0))throw new pe(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(qR).join(`
`):" "+qR(s[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:bw};function hv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new rh(null,t)}function HR(t){return hv(t),t.headers=Ri.from(t.headers),t.data=dv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),HM.getAdapter(t.adapter||JS.adapter)(t).then(function(r){return hv(t),r.data=dv.call(t,t.transformResponse,r),r.headers=Ri.from(r.headers),r},function(r){return WM(r)||(hv(t),r&&r.response&&(r.response.data=dv.call(t,t.transformResponse,r.response),r.response.headers=Ri.from(r.response.headers))),Promise.reject(r)})}const GR=t=>t instanceof Ri?t.toJSON():t;function Nl(t,e){e=e||{};const n={};function r(u,c,d){return C.isPlainObject(u)&&C.isPlainObject(c)?C.merge.call({caseless:d},u,c):C.isPlainObject(c)?C.merge({},c):C.isArray(c)?c.slice():c}function i(u,c,d){if(C.isUndefined(c)){if(!C.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!C.isUndefined(c))return r(void 0,c)}function o(u,c){if(C.isUndefined(c)){if(!C.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(GR(u),GR(c),!0)};return C.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=l[c]||i,h=d(t[c],e[c],c);C.isUndefined(h)&&d!==a||(n[c]=h)}),n}const GM="1.6.2",ZS={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ZS[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const KR={};ZS.transitional=function(e,n,r){function i(s,o){return"[Axios v"+GM+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new pe(i(o," has been removed"+(n?" in "+n:"")),pe.ERR_DEPRECATED);return n&&!KR[o]&&(KR[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function kY(t,e,n){if(typeof t!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new pe("option "+s+" must be "+l,pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new pe("Unknown option "+s,pe.ERR_BAD_OPTION)}}const kw={assertOptions:kY,validators:ZS},Xi=kw.validators;class qp{constructor(e){this.defaults=e,this.interceptors={request:new BR,response:new BR}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Nl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&kw.assertOptions(r,{silentJSONParsing:Xi.transitional(Xi.boolean),forcedJSONParsing:Xi.transitional(Xi.boolean),clarifyTimeoutError:Xi.transitional(Xi.boolean)},!1),i!=null&&(C.isFunction(i)?n.paramsSerializer={serialize:i}:kw.assertOptions(i,{encode:Xi.function,serialize:Xi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&C.merge(s.common,s[n.method]);s&&C.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=Ri.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let c,d=0,h;if(!l){const g=[HR.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),h=g.length,c=Promise.resolve(n);d<h;)c=c.then(g[d++],g[d++]);return c}h=a.length;let f=n;for(d=0;d<h;){const g=a[d++],p=a[d++];try{f=g(f)}catch(_){p.call(this,_);break}}try{c=HR.call(this,f)}catch(g){return Promise.reject(g)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=Nl(this.defaults,e);const n=qM(e.baseURL,e.url);return jM(n,e.params,e.paramsSerializer)}}C.forEach(["delete","get","head","options"],function(e){qp.prototype[e]=function(n,r){return this.request(Nl(r||{},{method:e,url:n,data:(r||{}).data}))}});C.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Nl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}qp.prototype[e]=n(),qp.prototype[e+"Form"]=n(!0)});const If=qp;class eT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new rh(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new eT(function(i){e=i}),cancel:e}}}const AY=eT;function CY(t){return function(n){return t.apply(null,n)}}function xY(t){return C.isObject(t)&&t.isAxiosError===!0}const Aw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Aw).forEach(([t,e])=>{Aw[e]=t});const OY=Aw;function KM(t){const e=new If(t),n=kM(If.prototype.request,e);return C.extend(n,If.prototype,e,{allOwnKeys:!0}),C.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return KM(Nl(t,i))},n}const It=KM(JS);It.Axios=If;It.CanceledError=rh;It.CancelToken=AY;It.isCancel=WM;It.VERSION=GM;It.toFormData=Og;It.AxiosError=pe;It.Cancel=It.CanceledError;It.all=function(e){return Promise.all(e)};It.spread=CY;It.isAxiosError=xY;It.mergeConfig=Nl;It.AxiosHeaders=Ri;It.formToJSON=t=>zM(C.isHTMLForm(t)?new FormData(t):t);It.getAdapter=HM.getAdapter;It.HttpStatusCode=OY;It.default=It;const DY=It,NY=DY.create({baseURL:"https://nice-plum-fly-robe.cyclic.app"});function MY(){const[{basket:t,user:e},n]=Ws(),r=Em(),i=v=>v==null?void 0:v.reduce((E,S)=>S.price+E,0),s=f7(),o=h7(),[a,l]=k.useState(null),[u,c]=k.useState(!0),[d,h]=k.useState(!1),[f,g]=k.useState(""),[p,_]=k.useState(!0);k.useEffect(()=>{(async()=>{const E=await NY({method:"post",url:`/payments/create?total=${i(t)*100}`});_(E.data.clientSecret)})()},[t]),console.log("THE SECRET IS >>>",p);const y=async v=>{v.preventDefault(),g(!0),await s.confirmCardPayment(p,{payment_method:{card:o.getElement(VR)}}).then(({paymentIntent:E})=>{dM.collection("users").doc(e==null?void 0:e.uid).collection("orders").doc(E.id).set({basket:t,amount:E.amount,created:E.created}),h(!0),l(null),g(!1),n({type:"EMPTY_BASKET"}),r("/orders")}).catch(E=>{console.log(E)})},m=v=>{c(v.empty),l(v.error?v.error.message:"")};return w.jsx("div",{className:"payment",children:w.jsxs("div",{className:"payment_container",children:[w.jsxs("h1",{children:["Checkout (",w.jsxs(Lu,{to:"/checkout",children:[t==null?void 0:t.length," items"]}),")"]}),w.jsxs("div",{className:"payment_section",children:[w.jsx("div",{className:"payment_title",children:w.jsx("h1",{children:"Delivery Address"})}),w.jsxs("div",{className:"payment_address",children:[w.jsx("p",{children:e==null?void 0:e.email}),w.jsx("p",{children:"123 React Line"}),w.jsx("p",{children:"chicago, IL"})]})]}),w.jsxs("div",{className:"payment_section",children:[w.jsx("div",{className:"payment_title",children:w.jsx("h1",{children:"Review items and delivery"})}),w.jsx("div",{className:"payment_items",children:t.map(v=>w.jsx(Sm,{id:v.id,title:v.title,image:v.image,price:v.price,rating:v.rating},v.id))})]}),w.jsxs("div",{className:"payment_section",children:[w.jsx("div",{className:"payment_title",children:w.jsx("h1",{children:"Payment Method"})}),w.jsx("div",{className:"payment_details",children:w.jsxs("form",{onSubmit:y,children:[w.jsx(VR,{onChange:m}),w.jsxs("div",{className:"payment_priceContainer",children:[w.jsx($0,{renderText:v=>w.jsxs("h1",{children:["Order Total: ",v]}),decimalScale:2,value:i(t),displayType:"text",thousandSeparator:!0,prefix:"$"}),w.jsx("button",{disabled:f||u||d,children:w.jsx("span",{children:f?w.jsx("p",{children:"Processing"}):"Buy NOw"})})]}),a&&w.jsx("div",{children:a})]})})]})]})})}var tT={},YM={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(YM);var QM=YM.exports,fv={};function ge(){return ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ge.apply(this,arguments)}function os(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function XM(t){if(!os(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=XM(t[n])}),e}function Tr(t,e,n={clone:!0}){const r=n.clone?ge({},t):t;return os(t)&&os(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(os(e[i])&&i in t&&os(t[i])?r[i]=Tr(t[i],e[i],n):n.clone?r[i]=os(e[i])?XM(e[i]):e[i]:r[i]=e[i])}),r}function Ml(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function ei(t){if(typeof t!="string")throw new Error(Ml(7));return t.charAt(0).toUpperCase()+t.slice(1)}function LY(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function VY(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function FY(t,e){return()=>null}function $Y(t,e){var n,r;return k.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function JM(t){return t&&t.ownerDocument||document}function jY(t){return JM(t).defaultView||window}function UY(t,e){return()=>null}function ZM(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const BY=typeof window<"u"?k.useLayoutEffect:k.useEffect,eL=BY;let YR=0;function zY(t){const[e,n]=k.useState(t),r=t||e;return k.useEffect(()=>{e==null&&(YR+=1,n(`mui-${YR}`))},[e]),r}const QR=Nf.useId;function WY(t){if(QR!==void 0){const e=QR();return t??e}return zY(t)}function qY(t,e,n,r,i){return null}function HY({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=k.useRef(t!==void 0),[s,o]=k.useState(e),a=i?t:s,l=k.useCallback(u=>{i||o(u)},[]);return[a,l]}function GY(t){const e=k.useRef(t);return eL(()=>{e.current=t}),k.useRef((...n)=>(0,e.current)(...n)).current}function KY(...t){return k.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{ZM(n,e)})},t)}let Ng=!0,Cw=!1,XR;const YY={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function QY(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&YY[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function XY(t){t.metaKey||t.altKey||t.ctrlKey||(Ng=!0)}function pv(){Ng=!1}function JY(){this.visibilityState==="hidden"&&Cw&&(Ng=!0)}function ZY(t){t.addEventListener("keydown",XY,!0),t.addEventListener("mousedown",pv,!0),t.addEventListener("pointerdown",pv,!0),t.addEventListener("touchstart",pv,!0),t.addEventListener("visibilitychange",JY,!0)}function eQ(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Ng||QY(e)}function tQ(){const t=k.useCallback(i=>{i!=null&&ZY(i.ownerDocument)},[]),e=k.useRef(!1);function n(){return e.current?(Cw=!0,window.clearTimeout(XR),XR=window.setTimeout(()=>{Cw=!1},100),e.current=!1,!0):!1}function r(i){return eQ(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function tL(t,e){const n=ge({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=ge({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=ge({},s),Object.keys(i).forEach(o=>{n[r][o]=tL(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function nQ(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const JR=t=>t,rQ=()=>{let t=JR;return{configure(e){t=e},generate(e){return t(e)},reset(){t=JR}}},iQ=rQ(),nL=iQ,sQ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function rL(t,e,n="Mui"){const r=sQ[e];return r?`${n}-${r}`:`${nL.generate(t)}-${e}`}function oQ(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=rL(t,i,n)}),r}function zi(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=iL(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function aQ(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=iL(t))&&(r&&(r+=" "),r+=e);return r}function sL(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var lQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,uQ=sL(function(t){return lQ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function cQ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function dQ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var hQ=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dQ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=cQ(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),nn="-ms-",Hp="-moz-",Ie="-webkit-",oL="comm",nT="rule",rT="decl",fQ="@import",aL="@keyframes",pQ="@layer",mQ=Math.abs,Mg=String.fromCharCode,gQ=Object.assign;function yQ(t,e){return qt(t,0)^45?(((e<<2^qt(t,0))<<2^qt(t,1))<<2^qt(t,2))<<2^qt(t,3):0}function lL(t){return t.trim()}function vQ(t,e){return(t=e.exec(t))?t[0]:t}function Pe(t,e,n){return t.replace(e,n)}function xw(t,e){return t.indexOf(e)}function qt(t,e){return t.charCodeAt(e)|0}function md(t,e,n){return t.slice(e,n)}function Mr(t){return t.length}function iT(t){return t.length}function Hh(t,e){return e.push(t),t}function _Q(t,e){return t.map(e).join("")}var Lg=1,Ll=1,uL=0,Ln=0,Et=0,iu="";function Vg(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Lg,column:Ll,length:o,return:""}}function ku(t,e){return gQ(Vg("",null,null,"",null,null,0),t,{length:-t.length},e)}function wQ(){return Et}function EQ(){return Et=Ln>0?qt(iu,--Ln):0,Ll--,Et===10&&(Ll=1,Lg--),Et}function qn(){return Et=Ln<uL?qt(iu,Ln++):0,Ll++,Et===10&&(Ll=1,Lg++),Et}function ti(){return qt(iu,Ln)}function Pf(){return Ln}function ih(t,e){return md(iu,t,e)}function gd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cL(t){return Lg=Ll=1,uL=Mr(iu=t),Ln=0,[]}function dL(t){return iu="",t}function Rf(t){return lL(ih(Ln-1,Ow(t===91?t+2:t===40?t+1:t)))}function SQ(t){for(;(Et=ti())&&Et<33;)qn();return gd(t)>2||gd(Et)>3?"":" "}function TQ(t,e){for(;--e&&qn()&&!(Et<48||Et>102||Et>57&&Et<65||Et>70&&Et<97););return ih(t,Pf()+(e<6&&ti()==32&&qn()==32))}function Ow(t){for(;qn();)switch(Et){case t:return Ln;case 34:case 39:t!==34&&t!==39&&Ow(Et);break;case 40:t===41&&Ow(t);break;case 92:qn();break}return Ln}function IQ(t,e){for(;qn()&&t+Et!==57;)if(t+Et===84&&ti()===47)break;return"/*"+ih(e,Ln-1)+"*"+Mg(t===47?t:qn())}function PQ(t){for(;!gd(ti());)qn();return ih(t,Ln)}function RQ(t){return dL(bf("",null,null,null,[""],t=cL(t),0,[0],t))}function bf(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,g=0,p=1,_=1,y=1,m=0,v="",E=i,S=s,T=r,P=v;_;)switch(g=m,m=qn()){case 40:if(g!=108&&qt(P,d-1)==58){xw(P+=Pe(Rf(m),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:P+=Rf(m);break;case 9:case 10:case 13:case 32:P+=SQ(g);break;case 92:P+=TQ(Pf()-1,7);continue;case 47:switch(ti()){case 42:case 47:Hh(bQ(IQ(qn(),Pf()),e,n),l);break;default:P+="/"}break;case 123*p:a[u++]=Mr(P)*y;case 125*p:case 59:case 0:switch(m){case 0:case 125:_=0;case 59+c:y==-1&&(P=Pe(P,/\f/g,"")),f>0&&Mr(P)-d&&Hh(f>32?eb(P+";",r,n,d-1):eb(Pe(P," ","")+";",r,n,d-2),l);break;case 59:P+=";";default:if(Hh(T=ZR(P,e,n,u,c,i,a,v,E=[],S=[],d),s),m===123)if(c===0)bf(P,e,T,T,E,s,d,a,S);else switch(h===99&&qt(P,3)===110?100:h){case 100:case 108:case 109:case 115:bf(t,T,T,r&&Hh(ZR(t,T,T,0,0,i,a,v,i,E=[],d),S),i,S,d,a,r?E:S);break;default:bf(P,T,T,T,[""],S,0,a,S)}}u=c=f=0,p=y=1,v=P="",d=o;break;case 58:d=1+Mr(P),f=g;default:if(p<1){if(m==123)--p;else if(m==125&&p++==0&&EQ()==125)continue}switch(P+=Mg(m),m*p){case 38:y=c>0?1:(P+="\f",-1);break;case 44:a[u++]=(Mr(P)-1)*y,y=1;break;case 64:ti()===45&&(P+=Rf(qn())),h=ti(),c=d=Mr(v=P+=PQ(Pf())),m++;break;case 45:g===45&&Mr(P)==2&&(p=0)}}return s}function ZR(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=iT(h),g=0,p=0,_=0;g<r;++g)for(var y=0,m=md(t,d+1,d=mQ(p=o[g])),v=t;y<f;++y)(v=lL(p>0?h[y]+" "+m:Pe(m,/&\f/g,h[y])))&&(l[_++]=v);return Vg(t,e,n,i===0?nT:a,l,u,c)}function bQ(t,e,n){return Vg(t,e,n,oL,Mg(wQ()),md(t,2,-2),0)}function eb(t,e,n,r){return Vg(t,e,n,rT,md(t,0,r),md(t,r+1,-1),r)}function il(t,e){for(var n="",r=iT(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function kQ(t,e,n,r){switch(t.type){case pQ:if(t.children.length)break;case fQ:case rT:return t.return=t.return||t.value;case oL:return"";case aL:return t.return=t.value+"{"+il(t.children,r)+"}";case nT:t.value=t.props.join(",")}return Mr(n=il(t.children,r))?t.return=t.value+"{"+n+"}":""}function AQ(t){var e=iT(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function CQ(t){return function(e){e.root||(e=e.return)&&t(e)}}var xQ=function(e,n,r){for(var i=0,s=0;i=s,s=ti(),i===38&&s===12&&(n[r]=1),!gd(s);)qn();return ih(e,Ln)},OQ=function(e,n){var r=-1,i=44;do switch(gd(i)){case 0:i===38&&ti()===12&&(n[r]=1),e[r]+=xQ(Ln-1,n,r);break;case 2:e[r]+=Rf(i);break;case 4:if(i===44){e[++r]=ti()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Mg(i)}while(i=qn());return e},DQ=function(e,n){return dL(OQ(cL(e),n))},tb=new WeakMap,NQ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!tb.get(r))&&!i){tb.set(e,!0);for(var s=[],o=DQ(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},MQ=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function hL(t,e){switch(yQ(t,e)){case 5103:return Ie+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ie+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ie+t+Hp+t+nn+t+t;case 6828:case 4268:return Ie+t+nn+t+t;case 6165:return Ie+t+nn+"flex-"+t+t;case 5187:return Ie+t+Pe(t,/(\w+).+(:[^]+)/,Ie+"box-$1$2"+nn+"flex-$1$2")+t;case 5443:return Ie+t+nn+"flex-item-"+Pe(t,/flex-|-self/,"")+t;case 4675:return Ie+t+nn+"flex-line-pack"+Pe(t,/align-content|flex-|-self/,"")+t;case 5548:return Ie+t+nn+Pe(t,"shrink","negative")+t;case 5292:return Ie+t+nn+Pe(t,"basis","preferred-size")+t;case 6060:return Ie+"box-"+Pe(t,"-grow","")+Ie+t+nn+Pe(t,"grow","positive")+t;case 4554:return Ie+Pe(t,/([^-])(transform)/g,"$1"+Ie+"$2")+t;case 6187:return Pe(Pe(Pe(t,/(zoom-|grab)/,Ie+"$1"),/(image-set)/,Ie+"$1"),t,"")+t;case 5495:case 3959:return Pe(t,/(image-set\([^]*)/,Ie+"$1$`$1");case 4968:return Pe(Pe(t,/(.+:)(flex-)?(.*)/,Ie+"box-pack:$3"+nn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ie+t+t;case 4095:case 3583:case 4068:case 2532:return Pe(t,/(.+)-inline(.+)/,Ie+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mr(t)-1-e>6)switch(qt(t,e+1)){case 109:if(qt(t,e+4)!==45)break;case 102:return Pe(t,/(.+:)(.+)-([^]+)/,"$1"+Ie+"$2-$3$1"+Hp+(qt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~xw(t,"stretch")?hL(Pe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(qt(t,e+1)!==115)break;case 6444:switch(qt(t,Mr(t)-3-(~xw(t,"!important")&&10))){case 107:return Pe(t,":",":"+Ie)+t;case 101:return Pe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ie+(qt(t,14)===45?"inline-":"")+"box$3$1"+Ie+"$2$3$1"+nn+"$2box$3")+t}break;case 5936:switch(qt(t,e+11)){case 114:return Ie+t+nn+Pe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ie+t+nn+Pe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ie+t+nn+Pe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ie+t+nn+t+t}return t}var LQ=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case rT:e.return=hL(e.value,e.length);break;case aL:return il([ku(e,{value:Pe(e.value,"@","@"+Ie)})],i);case nT:if(e.length)return _Q(e.props,function(s){switch(vQ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return il([ku(e,{props:[Pe(s,/:(read-\w+)/,":"+Hp+"$1")]})],i);case"::placeholder":return il([ku(e,{props:[Pe(s,/:(plac\w+)/,":"+Ie+"input-$1")]}),ku(e,{props:[Pe(s,/:(plac\w+)/,":"+Hp+"$1")]}),ku(e,{props:[Pe(s,/:(plac\w+)/,nn+"input-$1")]})],i)}return""})}},VQ=[LQ],FQ=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(p){var _=p.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var i=e.stylisPlugins||VQ,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(p){for(var _=p.getAttribute("data-emotion").split(" "),y=1;y<_.length;y++)s[_[y]]=!0;a.push(p)});var l,u=[NQ,MQ];{var c,d=[kQ,CQ(function(p){c.insert(p)})],h=AQ(u.concat(i,d)),f=function(_){return il(RQ(_),h)};l=function(_,y,m,v){c=m,f(_?_+"{"+y.styles+"}":y.styles),v&&(g.inserted[y.name]=!0)}}var g={key:n,sheet:new hQ({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},$Q=!0;function jQ(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var fL=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||$Q===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},UQ=function(e,n,r){fL(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function BQ(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var zQ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},WQ=/[A-Z]|^ms/g,qQ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,pL=function(e){return e.charCodeAt(1)===45},nb=function(e){return e!=null&&typeof e!="boolean"},mv=sL(function(t){return pL(t)?t:t.replace(WQ,"-$&").toLowerCase()}),rb=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(qQ,function(r,i,s){return Lr={name:i,styles:s,next:Lr},i})}return zQ[e]!==1&&!pL(e)&&typeof n=="number"&&n!==0?n+"px":n};function yd(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Lr={name:n.name,styles:n.styles,next:Lr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Lr={name:r.name,styles:r.styles,next:Lr},r=r.next;var i=n.styles+";";return i}return HQ(t,e,n)}case"function":{if(t!==void 0){var s=Lr,o=n(t);return Lr=s,yd(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function HQ(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=yd(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":nb(o)&&(r+=mv(s)+":"+rb(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)nb(o[a])&&(r+=mv(s)+":"+rb(s,o[a])+";");else{var l=yd(t,e,o);switch(s){case"animation":case"animationName":{r+=mv(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var ib=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Lr,GQ=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Lr=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=yd(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=yd(r,n,e[a]),i&&(s+=o[a]);ib.lastIndex=0;for(var l="",u;(u=ib.exec(s))!==null;)l+="-"+u[1];var c=BQ(s)+l;return{name:c,styles:s,next:Lr}},KQ=function(e){return e()},YQ=Nf.useInsertionEffect?Nf.useInsertionEffect:!1,QQ=YQ||KQ,mL=k.createContext(typeof HTMLElement<"u"?FQ({key:"css"}):null);mL.Provider;var XQ=function(e){return k.forwardRef(function(n,r){var i=k.useContext(mL);return e(n,i,r)})},gL=k.createContext({}),JQ=uQ,ZQ=function(e){return e!=="theme"},sb=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?JQ:ZQ},ob=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},eX=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return fL(n,r,i),QQ(function(){return UQ(n,r,i)}),null},tX=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=ob(e,n,r),l=a||sb(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var g=XQ(function(p,_,y){var m=u&&p.as||i,v="",E=[],S=p;if(p.theme==null){S={};for(var T in p)S[T]=p[T];S.theme=k.useContext(gL)}typeof p.className=="string"?v=jQ(_.registered,E,p.className):p.className!=null&&(v=p.className+" ");var P=GQ(d.concat(E),_.registered,S);v+=_.key+"-"+P.name,o!==void 0&&(v+=" "+o);var b=u&&a===void 0?sb(m):l,D={};for(var A in p)u&&A==="as"||b(A)&&(D[A]=p[A]);return D.className=v,D.ref=y,k.createElement(k.Fragment,null,k.createElement(eX,{cache:_,serialized:P,isStringTag:typeof m=="string"}),k.createElement(m,D))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(p,_){return t(p,ge({},n,_,{shouldForwardProp:ob(g,_,!0)})).apply(void 0,d)},g}},nX=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Dw=tX.bind();nX.forEach(function(t){Dw[t]=Dw(t)});function rX(t,e){return Dw(t,e)}const iX=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},sX=["values","unit","step"],oX=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>ge({},n,{[r.key]:r.val}),{})};function aX(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=zi(t,sX),s=oX(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const g=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(g!==-1&&typeof e[o[g]]=="number"?e[o[g]]:f)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return ge({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const lX={borderRadius:4},uX=lX;function fc(t,e){return e?Tr(t,e,{clone:!1}):t}const sT={xs:0,sm:600,md:900,lg:1200,xl:1536},ab={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${sT[t]}px)`};function Mi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||ab;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||ab;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||sT).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function cX(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function dX(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Fg(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Gp(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Fg(t,n)||r,e&&(i=e(i,r,t)),i}function vt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Fg(l,r)||{};return Mi(o,a,d=>{let h=Gp(u,i,d);return d===h&&typeof d=="string"&&(h=Gp(u,i,`${e}${d==="default"?"":ei(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function hX(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const fX={m:"margin",p:"padding"},pX={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},lb={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},mX=hX(t=>{if(t.length>2)if(lb[t])t=lb[t];else return[t];const[e,n]=t.split(""),r=fX[e],i=pX[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),oT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],aT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...oT,...aT];function sh(t,e,n,r){var i;const s=(i=Fg(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function yL(t){return sh(t,"spacing",8)}function oh(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function gX(t,e){return n=>t.reduce((r,i)=>(r[i]=oh(e,n),r),{})}function yX(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=mX(n),s=gX(i,r),o=t[n];return Mi(t,o,s)}function vL(t,e){const n=yL(t.theme);return Object.keys(t).map(r=>yX(t,e,r,n)).reduce(fc,{})}function st(t){return vL(t,oT)}st.propTypes={};st.filterProps=oT;function ot(t){return vL(t,aT)}ot.propTypes={};ot.filterProps=aT;function vX(t=8){if(t.mui)return t;const e=yL({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function $g(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?fc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function nr(t){return typeof t!="number"?t:`${t}px solid`}function hr(t,e){return vt({prop:t,themeKey:"borders",transform:e})}const _X=hr("border",nr),wX=hr("borderTop",nr),EX=hr("borderRight",nr),SX=hr("borderBottom",nr),TX=hr("borderLeft",nr),IX=hr("borderColor"),PX=hr("borderTopColor"),RX=hr("borderRightColor"),bX=hr("borderBottomColor"),kX=hr("borderLeftColor"),AX=hr("outline",nr),CX=hr("outlineColor"),jg=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=sh(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:oh(e,r)});return Mi(t,t.borderRadius,n)}return null};jg.propTypes={};jg.filterProps=["borderRadius"];$g(_X,wX,EX,SX,TX,IX,PX,RX,bX,kX,jg,AX,CX);const Ug=t=>{if(t.gap!==void 0&&t.gap!==null){const e=sh(t.theme,"spacing",8),n=r=>({gap:oh(e,r)});return Mi(t,t.gap,n)}return null};Ug.propTypes={};Ug.filterProps=["gap"];const Bg=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=sh(t.theme,"spacing",8),n=r=>({columnGap:oh(e,r)});return Mi(t,t.columnGap,n)}return null};Bg.propTypes={};Bg.filterProps=["columnGap"];const zg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=sh(t.theme,"spacing",8),n=r=>({rowGap:oh(e,r)});return Mi(t,t.rowGap,n)}return null};zg.propTypes={};zg.filterProps=["rowGap"];const xX=vt({prop:"gridColumn"}),OX=vt({prop:"gridRow"}),DX=vt({prop:"gridAutoFlow"}),NX=vt({prop:"gridAutoColumns"}),MX=vt({prop:"gridAutoRows"}),LX=vt({prop:"gridTemplateColumns"}),VX=vt({prop:"gridTemplateRows"}),FX=vt({prop:"gridTemplateAreas"}),$X=vt({prop:"gridArea"});$g(Ug,Bg,zg,xX,OX,DX,NX,MX,LX,VX,FX,$X);function sl(t,e){return e==="grey"?e:t}const jX=vt({prop:"color",themeKey:"palette",transform:sl}),UX=vt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:sl}),BX=vt({prop:"backgroundColor",themeKey:"palette",transform:sl});$g(jX,UX,BX);function Un(t){return t<=1&&t!==0?`${t*100}%`:t}const zX=vt({prop:"width",transform:Un}),lT=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||sT[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Un(n)}};return Mi(t,t.maxWidth,e)}return null};lT.filterProps=["maxWidth"];const WX=vt({prop:"minWidth",transform:Un}),qX=vt({prop:"height",transform:Un}),HX=vt({prop:"maxHeight",transform:Un}),GX=vt({prop:"minHeight",transform:Un});vt({prop:"size",cssProperty:"width",transform:Un});vt({prop:"size",cssProperty:"height",transform:Un});const KX=vt({prop:"boxSizing"});$g(zX,lT,WX,qX,HX,GX,KX);const YX={border:{themeKey:"borders",transform:nr},borderTop:{themeKey:"borders",transform:nr},borderRight:{themeKey:"borders",transform:nr},borderBottom:{themeKey:"borders",transform:nr},borderLeft:{themeKey:"borders",transform:nr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:nr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:jg},color:{themeKey:"palette",transform:sl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:sl},backgroundColor:{themeKey:"palette",transform:sl},p:{style:ot},pt:{style:ot},pr:{style:ot},pb:{style:ot},pl:{style:ot},px:{style:ot},py:{style:ot},padding:{style:ot},paddingTop:{style:ot},paddingRight:{style:ot},paddingBottom:{style:ot},paddingLeft:{style:ot},paddingX:{style:ot},paddingY:{style:ot},paddingInline:{style:ot},paddingInlineStart:{style:ot},paddingInlineEnd:{style:ot},paddingBlock:{style:ot},paddingBlockStart:{style:ot},paddingBlockEnd:{style:ot},m:{style:st},mt:{style:st},mr:{style:st},mb:{style:st},ml:{style:st},mx:{style:st},my:{style:st},margin:{style:st},marginTop:{style:st},marginRight:{style:st},marginBottom:{style:st},marginLeft:{style:st},marginX:{style:st},marginY:{style:st},marginInline:{style:st},marginInlineStart:{style:st},marginInlineEnd:{style:st},marginBlock:{style:st},marginBlockStart:{style:st},marginBlockEnd:{style:st},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ug},rowGap:{style:zg},columnGap:{style:Bg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Un},maxWidth:{style:lT},minWidth:{transform:Un},height:{transform:Un},maxHeight:{transform:Un},minHeight:{transform:Un},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},uT=YX;function QX(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function XX(t,e){return typeof t=="function"?t(e):t}function JX(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=Fg(i,u)||{};return d?d(o):Mi(o,r,g=>{let p=Gp(h,c,g);return g===p&&typeof g=="string"&&(p=Gp(h,c,`${n}${g==="default"?"":ei(g)}`,g)),l===!1?p:{[l]:p}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:uT;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=cX(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const g=XX(u[f],s);if(g!=null)if(typeof g=="object")if(o[f])h=fc(h,t(f,g,s,o));else{const p=Mi({theme:s},g,_=>({[f]:_}));QX(p,g)?h[f]=e({sx:g,theme:s}):h=fc(h,p)}else h=fc(h,t(f,g,s,o))}),dX(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const _L=JX();_L.filterProps=["sx"];const cT=_L,ZX=["breakpoints","palette","spacing","shape"];function dT(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=zi(t,ZX),a=aX(n),l=vX(i);let u=Tr({breakpoints:a,direction:"ltr",components:{},palette:ge({mode:"light"},r),spacing:l,shape:ge({},uX,s)},o);return u=e.reduce((c,d)=>Tr(c,d),u),u.unstable_sxConfig=ge({},uT,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return cT({sx:d,theme:this})},u}function eJ(t){return Object.keys(t).length===0}function tJ(t=null){const e=k.useContext(gL);return!e||eJ(e)?t:e}const nJ=dT();function rJ(t=nJ){return tJ(t)}const iJ=["variant"];function ub(t){return t.length===0}function wL(t){const{variant:e}=t,n=zi(t,iJ);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=ub(r)?t[i]:ei(t[i]):r+=`${ub(r)?i:ei(i)}${ei(t[i].toString())}`}),r}const sJ=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function oJ(t){return Object.keys(t).length===0}function aJ(t){return typeof t=="string"&&t.charCodeAt(0)>96}const lJ=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,Kp=t=>{const e={};return t&&t.forEach(n=>{const r=wL(n.props);e[r]=n.style}),e},uJ=(t,e)=>{let n=[];return e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants),Kp(n)},Yp=(t,e,n)=>{const{ownerState:r={}}=t,i=[];return n&&n.forEach(s=>{let o=!0;Object.keys(s.props).forEach(a=>{r[a]!==s.props[a]&&t[a]!==s.props[a]&&(o=!1)}),o&&i.push(e[wL(s.props)])}),i},cJ=(t,e,n,r)=>{var i;const s=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return Yp(t,e,s)};function kf(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const dJ=dT(),hJ=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Af({defaultTheme:t,theme:e,themeId:n}){return oJ(e)?t:e[n]||e}function fJ(t){return t?(e,n)=>n[t]:null}const cb=({styledArg:t,props:e,defaultTheme:n,themeId:r})=>{const i=t(ge({},e,{theme:Af(ge({},e,{defaultTheme:n,themeId:r}))}));let s;if(i&&i.variants&&(s=i.variants,delete i.variants),s){const o=Yp(e,Kp(s),s);return[i,...o]}return i};function pJ(t={}){const{themeId:e,defaultTheme:n=dJ,rootShouldForwardProp:r=kf,slotShouldForwardProp:i=kf}=t,s=o=>cT(ge({},o,{theme:Af(ge({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{iX(o,E=>E.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=fJ(hJ(u))}=a,f=zi(a,sJ),g=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,p=d||!1;let _,y=kf;u==="Root"||u==="root"?y=r:u?y=i:aJ(o)&&(y=void 0);const m=rX(o,ge({shouldForwardProp:y,label:_},f)),v=(E,...S)=>{const T=S?S.map(A=>{if(typeof A=="function"&&A.__emotion_real!==A)return K=>cb({styledArg:A,props:K,defaultTheme:n,themeId:e});if(os(A)){let K=A,z;return A&&A.variants&&(z=A.variants,delete K.variants,K=G=>{let Je=A;return Yp(G,Kp(z),z).forEach(Ot=>{Je=Tr(Je,Ot)}),Je}),K}return A}):[];let P=E;if(os(E)){let A;E&&E.variants&&(A=E.variants,delete P.variants,P=K=>{let z=E;return Yp(K,Kp(A),A).forEach(Je=>{z=Tr(z,Je)}),z})}else typeof E=="function"&&E.__emotion_real!==E&&(P=A=>cb({styledArg:E,props:A,defaultTheme:n,themeId:e}));l&&h&&T.push(A=>{const K=Af(ge({},A,{defaultTheme:n,themeId:e})),z=lJ(l,K);if(z){const G={};return Object.entries(z).forEach(([Je,Ve])=>{G[Je]=typeof Ve=="function"?Ve(ge({},A,{theme:K})):Ve}),h(A,G)}return null}),l&&!g&&T.push(A=>{const K=Af(ge({},A,{defaultTheme:n,themeId:e}));return cJ(A,uJ(l,K),K,l)}),p||T.push(s);const b=T.length-S.length;if(Array.isArray(E)&&b>0){const A=new Array(b).fill("");P=[...E,...A],P.raw=[...E.raw,...A]}const D=m(P,...T);return o.muiName&&(D.muiName=o.muiName),D};return m.withConfig&&(v.withConfig=m.withConfig),v}}function mJ(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:tL(e.components[n].defaultProps,r)}function gJ({props:t,name:e,defaultTheme:n,themeId:r}){let i=rJ(n);return r&&(i=i[r]||i),mJ({theme:i,name:e,props:t})}function EL(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function yJ(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Vl(t){if(t.type)return t;if(t.charAt(0)==="#")return Vl(yJ(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Ml(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Ml(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function hT(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function vJ(t){t=Vl(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),hT({type:a,values:l})}function db(t){t=Vl(t);let e=t.type==="hsl"||t.type==="hsla"?Vl(vJ(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function _J(t,e){const n=db(t),r=db(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function wJ(t,e){if(t=Vl(t),e=EL(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return hT(t)}function EJ(t,e){if(t=Vl(t),e=EL(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return hT(t)}function SJ(t,e){return ge({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const TJ={black:"#000",white:"#fff"},vd=TJ,IJ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},PJ=IJ,RJ={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ga=RJ,bJ={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ya=bJ,kJ={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Au=kJ,AJ={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},va=AJ,CJ={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},_a=CJ,xJ={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},wa=xJ,OJ=["mode","contrastThreshold","tonalOffset"],hb={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:vd.white,default:vd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},gv={text:{primary:vd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:vd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function fb(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=EJ(t.main,i):e==="dark"&&(t.dark=wJ(t.main,s)))}function DJ(t="light"){return t==="dark"?{main:va[200],light:va[50],dark:va[400]}:{main:va[700],light:va[400],dark:va[800]}}function NJ(t="light"){return t==="dark"?{main:ga[200],light:ga[50],dark:ga[400]}:{main:ga[500],light:ga[300],dark:ga[700]}}function MJ(t="light"){return t==="dark"?{main:ya[500],light:ya[300],dark:ya[700]}:{main:ya[700],light:ya[400],dark:ya[800]}}function LJ(t="light"){return t==="dark"?{main:_a[400],light:_a[300],dark:_a[700]}:{main:_a[700],light:_a[500],dark:_a[900]}}function VJ(t="light"){return t==="dark"?{main:wa[400],light:wa[300],dark:wa[700]}:{main:wa[800],light:wa[500],dark:wa[900]}}function FJ(t="light"){return t==="dark"?{main:Au[400],light:Au[300],dark:Au[700]}:{main:"#ed6c02",light:Au[500],dark:Au[900]}}function $J(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=zi(t,OJ),s=t.primary||DJ(e),o=t.secondary||NJ(e),a=t.error||MJ(e),l=t.info||LJ(e),u=t.success||VJ(e),c=t.warning||FJ(e);function d(p){return _J(p,gv.text.primary)>=n?gv.text.primary:hb.text.primary}const h=({color:p,name:_,mainShade:y=500,lightShade:m=300,darkShade:v=700})=>{if(p=ge({},p),!p.main&&p[y]&&(p.main=p[y]),!p.hasOwnProperty("main"))throw new Error(Ml(11,_?` (${_})`:"",y));if(typeof p.main!="string")throw new Error(Ml(12,_?` (${_})`:"",JSON.stringify(p.main)));return fb(p,"light",m,r),fb(p,"dark",v,r),p.contrastText||(p.contrastText=d(p.main)),p},f={dark:gv,light:hb};return Tr(ge({common:ge({},vd),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:PJ,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const jJ=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function UJ(t){return Math.round(t*1e5)/1e5}const pb={textTransform:"uppercase"},mb='"Roboto", "Helvetica", "Arial", sans-serif';function BJ(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=mb,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=zi(n,jJ),f=i/14,g=d||(y=>`${y/u*f}rem`),p=(y,m,v,E,S)=>ge({fontFamily:r,fontWeight:y,fontSize:g(m),lineHeight:v},r===mb?{letterSpacing:`${UJ(E/m)}em`}:{},S,c),_={h1:p(s,96,1.167,-1.5),h2:p(s,60,1.2,-.5),h3:p(o,48,1.167,0),h4:p(o,34,1.235,.25),h5:p(o,24,1.334,0),h6:p(a,20,1.6,.15),subtitle1:p(o,16,1.75,.15),subtitle2:p(a,14,1.57,.1),body1:p(o,16,1.5,.15),body2:p(o,14,1.43,.15),button:p(a,14,1.75,.4,pb),caption:p(o,12,1.66,.4),overline:p(o,12,2.66,1,pb),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Tr(ge({htmlFontSize:u,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),h,{clone:!1})}const zJ=.2,WJ=.14,qJ=.12;function We(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${zJ})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${WJ})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${qJ})`].join(",")}const HJ=["none",We(0,2,1,-1,0,1,1,0,0,1,3,0),We(0,3,1,-2,0,2,2,0,0,1,5,0),We(0,3,3,-2,0,3,4,0,0,1,8,0),We(0,2,4,-1,0,4,5,0,0,1,10,0),We(0,3,5,-1,0,5,8,0,0,1,14,0),We(0,3,5,-1,0,6,10,0,0,1,18,0),We(0,4,5,-2,0,7,10,1,0,2,16,1),We(0,5,5,-3,0,8,10,1,0,3,14,2),We(0,5,6,-3,0,9,12,1,0,3,16,2),We(0,6,6,-3,0,10,14,1,0,4,18,3),We(0,6,7,-4,0,11,15,1,0,4,20,3),We(0,7,8,-4,0,12,17,2,0,5,22,4),We(0,7,8,-4,0,13,19,2,0,5,24,4),We(0,7,9,-4,0,14,21,2,0,5,26,4),We(0,8,9,-5,0,15,22,2,0,6,28,5),We(0,8,10,-5,0,16,24,2,0,6,30,5),We(0,8,11,-5,0,17,26,2,0,6,32,5),We(0,9,11,-5,0,18,28,2,0,7,34,6),We(0,9,12,-6,0,19,29,2,0,7,36,6),We(0,10,13,-6,0,20,31,3,0,8,38,7),We(0,10,13,-6,0,21,33,3,0,8,40,7),We(0,10,14,-6,0,22,35,3,0,8,42,7),We(0,11,14,-7,0,23,36,3,0,9,44,8),We(0,11,15,-7,0,24,38,3,0,9,46,8)],GJ=HJ,KJ=["duration","easing","delay"],YJ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},QJ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function gb(t){return`${Math.round(t)}ms`}function XJ(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function JJ(t){const e=ge({},YJ,t.easing),n=ge({},QJ,t.duration);return ge({getAutoHeightDuration:XJ,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return zi(s,KJ),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:gb(o)} ${a} ${typeof l=="string"?l:gb(l)}`).join(",")}},t,{easing:e,duration:n})}const ZJ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},eZ=ZJ,tZ=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function nZ(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=zi(t,tZ);if(t.vars)throw new Error(Ml(18));const a=$J(r),l=dT(t);let u=Tr(l,{mixins:SJ(l.breakpoints,n),palette:a,shadows:GJ.slice(),typography:BJ(a,s),transitions:JJ(i),zIndex:ge({},eZ)});return u=Tr(u,o),u=e.reduce((c,d)=>Tr(c,d),u),u.unstable_sxConfig=ge({},uT,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return cT({sx:d,theme:this})},u}const rZ=nZ(),SL=rZ,TL="$$material";function iZ({props:t,name:e}){return gJ({props:t,name:e,defaultTheme:SL,themeId:TL})}const sZ=t=>kf(t)&&t!=="classes",oZ=pJ({themeId:TL,defaultTheme:SL,rootShouldForwardProp:sZ}),aZ=oZ;function lZ(t){return rL("MuiSvgIcon",t)}oQ("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const uZ=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],cZ=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${ei(e)}`,`fontSize${ei(n)}`]};return nQ(i,lZ,r)},dZ=aZ("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${ei(n.color)}`],e[`fontSize${ei(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,f,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),IL=k.forwardRef(function(e,n){const r=iZ({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=zi(r,uZ),g=k.isValidElement(i)&&i.type==="svg",p=ge({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:g}),_={};c||(_.viewBox=h);const y=cZ(p);return w.jsxs(dZ,ge({as:a,className:aQ(y.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},_,f,g&&i.props,{ownerState:p,children:[g?i.props.children:i,d?w.jsx("title",{children:d}):null]}))});IL.muiName="SvgIcon";const yb=IL;function hZ(t,e){function n(r,i){return w.jsx(yb,ge({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=yb.muiName,k.memo(k.forwardRef(n))}const fZ={configure:t=>{nL.configure(t)}},pZ=Object.freeze(Object.defineProperty({__proto__:null,capitalize:ei,createChainedFunction:LY,createSvgIcon:hZ,debounce:VY,deprecatedPropType:FY,isMuiElement:$Y,ownerDocument:JM,ownerWindow:jY,requirePropFactory:UY,setRef:ZM,unstable_ClassNameGenerator:fZ,unstable_useEnhancedEffect:eL,unstable_useId:WY,unsupportedProp:qY,useControlled:HY,useEventCallback:GY,useForkRef:KY,useIsFocusVisible:tQ},Symbol.toStringTag,{value:"Module"})),mZ=Ib(pZ);var vb;function PL(){return vb||(vb=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=mZ}(fv)),fv}var gZ=QM;Object.defineProperty(tT,"__esModule",{value:!0});var RL=tT.default=void 0,yZ=gZ(PL()),vZ=w,_Z=(0,yZ.default)((0,vZ.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");RL=tT.default=_Z;var fT={},wZ=QM;Object.defineProperty(fT,"__esModule",{value:!0});var bL=fT.default=void 0,EZ=wZ(PL()),SZ=w,TZ=(0,EZ.default)((0,SZ.jsx)("path",{d:"m17.21 9-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"ShoppingBasket");bL=fT.default=TZ;//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var kL;function B(){return kL.apply(null,arguments)}function IZ(t){kL=t}function kr(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Ao(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Se(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pT(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Se(t,e))return!1;return!0}function Pn(t){return t===void 0}function Li(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function ah(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function AL(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function hs(t,e){for(var n in e)Se(e,n)&&(t[n]=e[n]);return Se(e,"toString")&&(t.toString=e.toString),Se(e,"valueOf")&&(t.valueOf=e.valueOf),t}function ui(t,e,n,r){return ZL(t,e,n,r,!0).utc()}function PZ(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function oe(t){return t._pf==null&&(t._pf=PZ()),t._pf}var Nw;Array.prototype.some?Nw=Array.prototype.some:Nw=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function mT(t){if(t._isValid==null){var e=oe(t),n=Nw.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function Wg(t){var e=ui(NaN);return t!=null?hs(oe(e),t):oe(e).userInvalidated=!0,e}var _b=B.momentProperties=[],yv=!1;function gT(t,e){var n,r,i,s=_b.length;if(Pn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Pn(e._i)||(t._i=e._i),Pn(e._f)||(t._f=e._f),Pn(e._l)||(t._l=e._l),Pn(e._strict)||(t._strict=e._strict),Pn(e._tzm)||(t._tzm=e._tzm),Pn(e._isUTC)||(t._isUTC=e._isUTC),Pn(e._offset)||(t._offset=e._offset),Pn(e._pf)||(t._pf=oe(e)),Pn(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=_b[n],i=e[r],Pn(i)||(t[r]=i);return t}function lh(t){gT(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),yv===!1&&(yv=!0,B.updateOffset(this),yv=!1)}function Ar(t){return t instanceof lh||t!=null&&t._isAMomentObject!=null}function CL(t){B.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function fr(t,e){var n=!0;return hs(function(){if(B.deprecationHandler!=null&&B.deprecationHandler(null,t),n){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])Se(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}CL(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var wb={};function xL(t,e){B.deprecationHandler!=null&&B.deprecationHandler(t,e),wb[t]||(CL(e),wb[t]=!0)}B.suppressDeprecationWarnings=!1;B.deprecationHandler=null;function ci(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function RZ(t){var e,n;for(n in t)Se(t,n)&&(e=t[n],ci(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Mw(t,e){var n=hs({},t),r;for(r in e)Se(e,r)&&(Ao(t[r])&&Ao(e[r])?(n[r]={},hs(n[r],t[r]),hs(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Se(t,r)&&!Se(e,r)&&Ao(t[r])&&(n[r]=hs({},n[r]));return n}function yT(t){t!=null&&this.set(t)}var Lw;Object.keys?Lw=Object.keys:Lw=function(t){var e,n=[];for(e in t)Se(t,e)&&n.push(e);return n};var bZ={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function kZ(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return ci(r)?r.call(e,n):r}function ai(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var vT=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Gh=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,vv={},ol={};function X(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(ol[t]=i),e&&(ol[e[0]]=function(){return ai(i.apply(this,arguments),e[1],e[2])}),n&&(ol[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function AZ(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function CZ(t){var e=t.match(vT),n,r;for(n=0,r=e.length;n<r;n++)ol[e[n]]?e[n]=ol[e[n]]:e[n]=AZ(e[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=ci(e[o])?e[o].call(i,t):e[o];return s}}function Cf(t,e){return t.isValid()?(e=OL(e,t.localeData()),vv[e]=vv[e]||CZ(e),vv[e](t)):t.localeData().invalidDate()}function OL(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Gh.lastIndex=0;n>=0&&Gh.test(t);)t=t.replace(Gh,r),Gh.lastIndex=0,n-=1;return t}var xZ={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function OZ(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(vT).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var DZ="Invalid date";function NZ(){return this._invalidDate}var MZ="%d",LZ=/\d{1,2}/;function VZ(t){return this._ordinal.replace("%d",t)}var FZ={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $Z(t,e,n,r){var i=this._relativeTime[n];return ci(i)?i(t,e,n,r):i.replace(/%d/i,t)}function jZ(t,e){var n=this._relativeTime[t>0?"future":"past"];return ci(n)?n(e):n.replace(/%s/i,e)}var pc={};function un(t,e){var n=t.toLowerCase();pc[n]=pc[n+"s"]=pc[e]=t}function pr(t){return typeof t=="string"?pc[t]||pc[t.toLowerCase()]:void 0}function _T(t){var e={},n,r;for(r in t)Se(t,r)&&(n=pr(r),n&&(e[n]=t[r]));return e}var DL={};function cn(t,e){DL[t]=e}function UZ(t){var e=[],n;for(n in t)Se(t,n)&&e.push({unit:n,priority:DL[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function qg(t){return t%4===0&&t%100!==0||t%400===0}function rr(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ae(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=rr(e)),n}function su(t,e){return function(n){return n!=null?(NL(this,t,n),B.updateOffset(this,e),this):Qp(this,t)}}function Qp(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function NL(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&qg(t.year())&&t.month()===1&&t.date()===29?(n=ae(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Xg(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function BZ(t){return t=pr(t),ci(this[t])?this[t]():this}function zZ(t,e){if(typeof t=="object"){t=_T(t);var n=UZ(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=pr(t),ci(this[t]))return this[t](e);return this}var ML=/\d/,Jn=/\d\d/,LL=/\d{3}/,wT=/\d{4}/,Hg=/[+-]?\d{6}/,ze=/\d\d?/,VL=/\d\d\d\d?/,FL=/\d\d\d\d\d\d?/,Gg=/\d{1,3}/,ET=/\d{1,4}/,Kg=/[+-]?\d{1,6}/,ou=/\d+/,Yg=/[+-]?\d+/,WZ=/Z|[+-]\d\d:?\d\d/gi,Qg=/Z|[+-]\d\d(?::?\d\d)?/gi,qZ=/[+-]?\d+(\.\d{1,3})?/,uh=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Xp;Xp={};function q(t,e,n){Xp[t]=ci(e)?e:function(r,i){return r&&n?n:e}}function HZ(t,e){return Se(Xp,t)?Xp[t](e._strict,e._locale):new RegExp(GZ(t))}function GZ(t){return jn(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function jn(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Vw={};function xe(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),Li(e)&&(r=function(s,o){o[e]=ae(s)}),i=t.length,n=0;n<i;n++)Vw[t[n]]=r}function ch(t,e){xe(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function KZ(t,e,n){e!=null&&Se(Vw,t)&&Vw[t](e,n._a,n,t)}var an=0,Ei=1,zr=2,Ct=3,wr=4,Si=5,Eo=6,YZ=7,QZ=8;function XZ(t,e){return(t%e+e)%e}var pt;Array.prototype.indexOf?pt=Array.prototype.indexOf:pt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Xg(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=XZ(e,12);return t+=(e-n)/12,n===1?qg(t)?29:28:31-n%7%2}X("M",["MM",2],"Mo",function(){return this.month()+1});X("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});X("MMMM",0,0,function(t){return this.localeData().months(this,t)});un("month","M");cn("month",8);q("M",ze);q("MM",ze,Jn);q("MMM",function(t,e){return e.monthsShortRegex(t)});q("MMMM",function(t,e){return e.monthsRegex(t)});xe(["M","MM"],function(t,e){e[Ei]=ae(t)-1});xe(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Ei]=i:oe(n).invalidMonth=t});var JZ="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$L="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),jL=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ZZ=uh,eee=uh;function tee(t,e){return t?kr(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||jL).test(e)?"format":"standalone"][t.month()]:kr(this._months)?this._months:this._months.standalone}function nee(t,e){return t?kr(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[jL.test(e)?"format":"standalone"][t.month()]:kr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ree(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=ui([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=pt.call(this._shortMonthsParse,o),i!==-1?i:null):(i=pt.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=pt.call(this._shortMonthsParse,o),i!==-1?i:(i=pt.call(this._longMonthsParse,o),i!==-1?i:null)):(i=pt.call(this._longMonthsParse,o),i!==-1?i:(i=pt.call(this._shortMonthsParse,o),i!==-1?i:null))}function iee(t,e,n){var r,i,s;if(this._monthsParseExact)return ree.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=ui([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function UL(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=ae(e);else if(e=t.localeData().monthsParse(e),!Li(e))return t}return n=Math.min(t.date(),Xg(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function BL(t){return t!=null?(UL(this,t),B.updateOffset(this,!0),this):Qp(this,"Month")}function see(){return Xg(this.year(),this.month())}function oee(t){return this._monthsParseExact?(Se(this,"_monthsRegex")||zL.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Se(this,"_monthsShortRegex")||(this._monthsShortRegex=ZZ),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function aee(t){return this._monthsParseExact?(Se(this,"_monthsRegex")||zL.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Se(this,"_monthsRegex")||(this._monthsRegex=eee),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function zL(){function t(o,a){return a.length-o.length}var e=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=ui([2e3,i]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=jn(e[i]),n[i]=jn(n[i]);for(i=0;i<24;i++)r[i]=jn(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}X("Y",0,0,function(){var t=this.year();return t<=9999?ai(t,4):"+"+t});X(0,["YY",2],0,function(){return this.year()%100});X(0,["YYYY",4],0,"year");X(0,["YYYYY",5],0,"year");X(0,["YYYYYY",6,!0],0,"year");un("year","y");cn("year",1);q("Y",Yg);q("YY",ze,Jn);q("YYYY",ET,wT);q("YYYYY",Kg,Hg);q("YYYYYY",Kg,Hg);xe(["YYYYY","YYYYYY"],an);xe("YYYY",function(t,e){e[an]=t.length===2?B.parseTwoDigitYear(t):ae(t)});xe("YY",function(t,e){e[an]=B.parseTwoDigitYear(t)});xe("Y",function(t,e){e[an]=parseInt(t,10)});function mc(t){return qg(t)?366:365}B.parseTwoDigitYear=function(t){return ae(t)+(ae(t)>68?1900:2e3)};var WL=su("FullYear",!0);function lee(){return qg(this.year())}function uee(t,e,n,r,i,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,s,o),a}function _d(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Jp(t,e,n){var r=7+e-n,i=(7+_d(t,0,r).getUTCDay()-e)%7;return-i+r-1}function qL(t,e,n,r,i){var s=(7+n-r)%7,o=Jp(t,r,i),a=1+7*(e-1)+s+o,l,u;return a<=0?(l=t-1,u=mc(l)+a):a>mc(t)?(l=t+1,u=a-mc(t)):(l=t,u=a),{year:l,dayOfYear:u}}function wd(t,e,n){var r=Jp(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+bi(o,e,n)):i>bi(t.year(),e,n)?(s=i-bi(t.year(),e,n),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function bi(t,e,n){var r=Jp(t,e,n),i=Jp(t+1,e,n);return(mc(t)-r+i)/7}X("w",["ww",2],"wo","week");X("W",["WW",2],"Wo","isoWeek");un("week","w");un("isoWeek","W");cn("week",5);cn("isoWeek",5);q("w",ze);q("ww",ze,Jn);q("W",ze);q("WW",ze,Jn);ch(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=ae(t)});function cee(t){return wd(t,this._week.dow,this._week.doy).week}var dee={dow:0,doy:6};function hee(){return this._week.dow}function fee(){return this._week.doy}function pee(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function mee(t){var e=wd(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}X("d",0,"do","day");X("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});X("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});X("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});X("e",0,0,"weekday");X("E",0,0,"isoWeekday");un("day","d");un("weekday","e");un("isoWeekday","E");cn("day",11);cn("weekday",11);cn("isoWeekday",11);q("d",ze);q("e",ze);q("E",ze);q("dd",function(t,e){return e.weekdaysMinRegex(t)});q("ddd",function(t,e){return e.weekdaysShortRegex(t)});q("dddd",function(t,e){return e.weekdaysRegex(t)});ch(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:oe(n).invalidWeekday=t});ch(["d","e","E"],function(t,e,n,r){e[r]=ae(t)});function gee(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function yee(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function ST(t,e){return t.slice(e,7).concat(t.slice(0,e))}var vee="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),HL="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),_ee="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),wee=uh,Eee=uh,See=uh;function Tee(t,e){var n=kr(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?ST(n,this._week.dow):t?n[t.day()]:n}function Iee(t){return t===!0?ST(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Pee(t){return t===!0?ST(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Ree(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=ui([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=pt.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=pt.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=pt.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=pt.call(this._weekdaysParse,o),i!==-1||(i=pt.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=pt.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=pt.call(this._shortWeekdaysParse,o),i!==-1||(i=pt.call(this._weekdaysParse,o),i!==-1)?i:(i=pt.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=pt.call(this._minWeekdaysParse,o),i!==-1||(i=pt.call(this._weekdaysParse,o),i!==-1)?i:(i=pt.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function bee(t,e,n){var r,i,s;if(this._weekdaysParseExact)return Ree.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=ui([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function kee(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=gee(t,this.localeData()),this.add(t-e,"d")):e}function Aee(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Cee(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=yee(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function xee(t){return this._weekdaysParseExact?(Se(this,"_weekdaysRegex")||TT.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Se(this,"_weekdaysRegex")||(this._weekdaysRegex=wee),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Oee(t){return this._weekdaysParseExact?(Se(this,"_weekdaysRegex")||TT.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Se(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Eee),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Dee(t){return this._weekdaysParseExact?(Se(this,"_weekdaysRegex")||TT.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Se(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=See),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function TT(){function t(c,d){return d.length-c.length}var e=[],n=[],r=[],i=[],s,o,a,l,u;for(s=0;s<7;s++)o=ui([2e3,1]).day(s),a=jn(this.weekdaysMin(o,"")),l=jn(this.weekdaysShort(o,"")),u=jn(this.weekdays(o,"")),e.push(a),n.push(l),r.push(u),i.push(a),i.push(l),i.push(u);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function IT(){return this.hours()%12||12}function Nee(){return this.hours()||24}X("H",["HH",2],0,"hour");X("h",["hh",2],0,IT);X("k",["kk",2],0,Nee);X("hmm",0,0,function(){return""+IT.apply(this)+ai(this.minutes(),2)});X("hmmss",0,0,function(){return""+IT.apply(this)+ai(this.minutes(),2)+ai(this.seconds(),2)});X("Hmm",0,0,function(){return""+this.hours()+ai(this.minutes(),2)});X("Hmmss",0,0,function(){return""+this.hours()+ai(this.minutes(),2)+ai(this.seconds(),2)});function GL(t,e){X(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}GL("a",!0);GL("A",!1);un("hour","h");cn("hour",13);function KL(t,e){return e._meridiemParse}q("a",KL);q("A",KL);q("H",ze);q("h",ze);q("k",ze);q("HH",ze,Jn);q("hh",ze,Jn);q("kk",ze,Jn);q("hmm",VL);q("hmmss",FL);q("Hmm",VL);q("Hmmss",FL);xe(["H","HH"],Ct);xe(["k","kk"],function(t,e,n){var r=ae(t);e[Ct]=r===24?0:r});xe(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});xe(["h","hh"],function(t,e,n){e[Ct]=ae(t),oe(n).bigHour=!0});xe("hmm",function(t,e,n){var r=t.length-2;e[Ct]=ae(t.substr(0,r)),e[wr]=ae(t.substr(r)),oe(n).bigHour=!0});xe("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Ct]=ae(t.substr(0,r)),e[wr]=ae(t.substr(r,2)),e[Si]=ae(t.substr(i)),oe(n).bigHour=!0});xe("Hmm",function(t,e,n){var r=t.length-2;e[Ct]=ae(t.substr(0,r)),e[wr]=ae(t.substr(r))});xe("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Ct]=ae(t.substr(0,r)),e[wr]=ae(t.substr(r,2)),e[Si]=ae(t.substr(i))});function Mee(t){return(t+"").toLowerCase().charAt(0)==="p"}var Lee=/[ap]\.?m?\.?/i,Vee=su("Hours",!0);function Fee(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var YL={calendar:bZ,longDateFormat:xZ,invalidDate:DZ,ordinal:MZ,dayOfMonthOrdinalParse:LZ,relativeTime:FZ,months:JZ,monthsShort:$L,week:dee,weekdays:vee,weekdaysMin:_ee,weekdaysShort:HL,meridiemParse:Lee},He={},Cu={},Ed;function $ee(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function Eb(t){return t&&t.toLowerCase().replace("_","-")}function jee(t){for(var e=0,n,r,i,s;e<t.length;){for(s=Eb(t[e]).split("-"),n=s.length,r=Eb(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=Jg(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&$ee(s,r)>=n-1)break;n--}e++}return Ed}function Uee(t){return t.match("^[^/\\\\]*$")!=null}function Jg(t){var e=null,n;if(He[t]===void 0&&typeof Df<"u"&&Df&&Df.exports&&Uee(t))try{e=Ed._abbr,n=require,n("./locale/"+t),Ps(e)}catch{He[t]=null}return He[t]}function Ps(t,e){var n;return t&&(Pn(e)?n=Wi(t):n=PT(t,e),n?Ed=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Ed._abbr}function PT(t,e){if(e!==null){var n,r=YL;if(e.abbr=t,He[t]!=null)xL("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=He[t]._config;else if(e.parentLocale!=null)if(He[e.parentLocale]!=null)r=He[e.parentLocale]._config;else if(n=Jg(e.parentLocale),n!=null)r=n._config;else return Cu[e.parentLocale]||(Cu[e.parentLocale]=[]),Cu[e.parentLocale].push({name:t,config:e}),null;return He[t]=new yT(Mw(r,e)),Cu[t]&&Cu[t].forEach(function(i){PT(i.name,i.config)}),Ps(t),He[t]}else return delete He[t],null}function Bee(t,e){if(e!=null){var n,r,i=YL;He[t]!=null&&He[t].parentLocale!=null?He[t].set(Mw(He[t]._config,e)):(r=Jg(t),r!=null&&(i=r._config),e=Mw(i,e),r==null&&(e.abbr=t),n=new yT(e),n.parentLocale=He[t],He[t]=n),Ps(t)}else He[t]!=null&&(He[t].parentLocale!=null?(He[t]=He[t].parentLocale,t===Ps()&&Ps(t)):He[t]!=null&&delete He[t]);return He[t]}function Wi(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ed;if(!kr(t)){if(e=Jg(t),e)return e;t=[t]}return jee(t)}function zee(){return Lw(He)}function RT(t){var e,n=t._a;return n&&oe(t).overflow===-2&&(e=n[Ei]<0||n[Ei]>11?Ei:n[zr]<1||n[zr]>Xg(n[an],n[Ei])?zr:n[Ct]<0||n[Ct]>24||n[Ct]===24&&(n[wr]!==0||n[Si]!==0||n[Eo]!==0)?Ct:n[wr]<0||n[wr]>59?wr:n[Si]<0||n[Si]>59?Si:n[Eo]<0||n[Eo]>999?Eo:-1,oe(t)._overflowDayOfYear&&(e<an||e>zr)&&(e=zr),oe(t)._overflowWeeks&&e===-1&&(e=YZ),oe(t)._overflowWeekday&&e===-1&&(e=QZ),oe(t).overflow=e),t}var Wee=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qee=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Hee=/Z|[+-]\d\d(?::?\d\d)?/,Kh=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_v=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Gee=/^\/?Date\((-?\d+)/i,Kee=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Yee={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function QL(t){var e,n,r=t._i,i=Wee.exec(r)||qee.exec(r),s,o,a,l,u=Kh.length,c=_v.length;if(i){for(oe(t).iso=!0,e=0,n=u;e<n;e++)if(Kh[e][1].exec(i[1])){o=Kh[e][0],s=Kh[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=c;e<n;e++)if(_v[e][1].exec(i[3])){a=(i[2]||" ")+_v[e][0];break}if(a==null){t._isValid=!1;return}}if(!s&&a!=null){t._isValid=!1;return}if(i[4])if(Hee.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),kT(t)}else t._isValid=!1}function Qee(t,e,n,r,i,s){var o=[Xee(t),$L.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function Xee(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Jee(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Zee(t,e,n){if(t){var r=HL.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return oe(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function ete(t,e,n){if(t)return Yee[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function XL(t){var e=Kee.exec(Jee(t._i)),n;if(e){if(n=Qee(e[4],e[3],e[2],e[5],e[6],e[7]),!Zee(e[1],n,t))return;t._a=n,t._tzm=ete(e[8],e[9],e[10]),t._d=_d.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),oe(t).rfc2822=!0}else t._isValid=!1}function tte(t){var e=Gee.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(QL(t),t._isValid===!1)delete t._isValid;else return;if(XL(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:B.createFromInputFallback(t)}B.createFromInputFallback=fr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function ba(t,e,n){return t??e??n}function nte(t){var e=new Date(B.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function bT(t){var e,n,r=[],i,s,o;if(!t._d){for(i=nte(t),t._w&&t._a[zr]==null&&t._a[Ei]==null&&rte(t),t._dayOfYear!=null&&(o=ba(t._a[an],i[an]),(t._dayOfYear>mc(o)||t._dayOfYear===0)&&(oe(t)._overflowDayOfYear=!0),n=_d(o,0,t._dayOfYear),t._a[Ei]=n.getUTCMonth(),t._a[zr]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Ct]===24&&t._a[wr]===0&&t._a[Si]===0&&t._a[Eo]===0&&(t._nextDay=!0,t._a[Ct]=0),t._d=(t._useUTC?_d:uee).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ct]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(oe(t).weekdayMismatch=!0)}}function rte(t){var e,n,r,i,s,o,a,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=ba(e.GG,t._a[an],wd(Be(),1,4).year),r=ba(e.W,1),i=ba(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,u=wd(Be(),s,o),n=ba(e.gg,t._a[an],u.year),r=ba(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>bi(n,s,o)?oe(t)._overflowWeeks=!0:l!=null?oe(t)._overflowWeekday=!0:(a=qL(n,r,i,s,o),t._a[an]=a.year,t._dayOfYear=a.dayOfYear)}B.ISO_8601=function(){};B.RFC_2822=function(){};function kT(t){if(t._f===B.ISO_8601){QL(t);return}if(t._f===B.RFC_2822){XL(t);return}t._a=[],oe(t).empty=!0;var e=""+t._i,n,r,i,s,o,a=e.length,l=0,u,c;for(i=OL(t._f,t._locale).match(vT)||[],c=i.length,n=0;n<c;n++)s=i[n],r=(e.match(HZ(s,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&oe(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),ol[s]?(r?oe(t).empty=!1:oe(t).unusedTokens.push(s),KZ(s,r,t)):t._strict&&!r&&oe(t).unusedTokens.push(s);oe(t).charsLeftOver=a-l,e.length>0&&oe(t).unusedInput.push(e),t._a[Ct]<=12&&oe(t).bigHour===!0&&t._a[Ct]>0&&(oe(t).bigHour=void 0),oe(t).parsedDateParts=t._a.slice(0),oe(t).meridiem=t._meridiem,t._a[Ct]=ite(t._locale,t._a[Ct],t._meridiem),u=oe(t).era,u!==null&&(t._a[an]=t._locale.erasConvertYear(u,t._a[an])),bT(t),RT(t)}function ite(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function ste(t){var e,n,r,i,s,o,a=!1,l=t._f.length;if(l===0){oe(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=gT({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],kT(e),mT(e)&&(o=!0),s+=oe(e).charsLeftOver,s+=oe(e).unusedTokens.length*10,oe(e).score=s,a?s<r&&(r=s,n=e):(r==null||s<r||o)&&(r=s,n=e,o&&(a=!0));hs(t,n||e)}function ote(t){if(!t._d){var e=_T(t._i),n=e.day===void 0?e.date:e.day;t._a=AL([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),bT(t)}}function ate(t){var e=new lh(RT(JL(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function JL(t){var e=t._i,n=t._f;return t._locale=t._locale||Wi(t._l),e===null||n===void 0&&e===""?Wg({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Ar(e)?new lh(RT(e)):(ah(e)?t._d=e:kr(n)?ste(t):n?kT(t):lte(t),mT(t)||(t._d=null),t))}function lte(t){var e=t._i;Pn(e)?t._d=new Date(B.now()):ah(e)?t._d=new Date(e.valueOf()):typeof e=="string"?tte(t):kr(e)?(t._a=AL(e.slice(0),function(n){return parseInt(n,10)}),bT(t)):Ao(e)?ote(t):Li(e)?t._d=new Date(e):B.createFromInputFallback(t)}function ZL(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Ao(t)&&pT(t)||kr(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,ate(s)}function Be(t,e,n,r){return ZL(t,e,n,r,!1)}var ute=fr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Be.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Wg()}),cte=fr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Be.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Wg()});function eV(t,e){var n,r;if(e.length===1&&kr(e[0])&&(e=e[0]),!e.length)return Be();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function dte(){var t=[].slice.call(arguments,0);return eV("isBefore",t)}function hte(){var t=[].slice.call(arguments,0);return eV("isAfter",t)}var fte=function(){return Date.now?Date.now():+new Date},xu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function pte(t){var e,n=!1,r,i=xu.length;for(e in t)if(Se(t,e)&&!(pt.call(xu,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[xu[r]]){if(n)return!1;parseFloat(t[xu[r]])!==ae(t[xu[r]])&&(n=!0)}return!0}function mte(){return this._isValid}function gte(){return Cr(NaN)}function Zg(t){var e=_T(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=pte(e),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=Wi(),this._bubble()}function xf(t){return t instanceof Zg}function Fw(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function yte(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&ae(t[o])!==ae(e[o]))&&s++;return s+i}function tV(t,e){X(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+ai(~~(n/60),2)+e+ai(~~n%60,2)})}tV("Z",":");tV("ZZ","");q("Z",Qg);q("ZZ",Qg);xe(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=AT(Qg,t)});var vte=/([\+\-]|\d\d)/gi;function AT(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(vte)||["-",0,0],s=+(i[1]*60)+ae(i[2]),s===0?0:i[0]==="+"?s:-s)}function CT(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Ar(t)||ah(t)?t.valueOf():Be(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),B.updateOffset(n,!1),n):Be(t).local()}function $w(t){return-Math.round(t._d.getTimezoneOffset())}B.updateOffset=function(){};function _te(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=AT(Qg,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=$w(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?iV(this,Cr(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,B.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:$w(this)}function wte(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Ete(t){return this.utcOffset(0,t)}function Ste(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract($w(this),"m")),this}function Tte(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=AT(WZ,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Ite(t){return this.isValid()?(t=t?Be(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Pte(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Rte(){if(!Pn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return gT(t,this),t=JL(t),t._a?(e=t._isUTC?ui(t._a):Be(t._a),this._isDSTShifted=this.isValid()&&yte(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function bte(){return this.isValid()?!this._isUTC:!1}function kte(){return this.isValid()?this._isUTC:!1}function nV(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ate=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Cte=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(t,e){var n=t,r=null,i,s,o;return xf(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Li(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=Ate.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:ae(r[zr])*i,h:ae(r[Ct])*i,m:ae(r[wr])*i,s:ae(r[Si])*i,ms:ae(Fw(r[Eo]*1e3))*i}):(r=Cte.exec(t))?(i=r[1]==="-"?-1:1,n={y:no(r[2],i),M:no(r[3],i),w:no(r[4],i),d:no(r[5],i),h:no(r[6],i),m:no(r[7],i),s:no(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=xte(Be(n.from),Be(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new Zg(n),xf(t)&&Se(t,"_locale")&&(s._locale=t._locale),xf(t)&&Se(t,"_isValid")&&(s._isValid=t._isValid),s}Cr.fn=Zg.prototype;Cr.invalid=gte;function no(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Sb(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function xte(t,e){var n;return t.isValid()&&e.isValid()?(e=CT(e,t),t.isBefore(e)?n=Sb(t,e):(n=Sb(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function rV(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(xL(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=Cr(n,r),iV(this,i,t),this}}function iV(t,e,n,r){var i=e._milliseconds,s=Fw(e._days),o=Fw(e._months);t.isValid()&&(r=r??!0,o&&UL(t,Qp(t,"Month")+o*n),s&&NL(t,"Date",Qp(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&B.updateOffset(t,s||o))}var Ote=rV(1,"add"),Dte=rV(-1,"subtract");function sV(t){return typeof t=="string"||t instanceof String}function Nte(t){return Ar(t)||ah(t)||sV(t)||Li(t)||Lte(t)||Mte(t)||t===null||t===void 0}function Mte(t){var e=Ao(t)&&!pT(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||Se(t,s);return e&&n}function Lte(t){var e=kr(t),n=!1;return e&&(n=t.filter(function(r){return!Li(r)&&sV(t)}).length===0),e&&n}function Vte(t){var e=Ao(t)&&!pT(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||Se(t,s);return e&&n}function Fte(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function $te(t,e){arguments.length===1&&(arguments[0]?Nte(arguments[0])?(t=arguments[0],e=void 0):Vte(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Be(),r=CT(n,this).startOf("day"),i=B.calendarFormat(this,r)||"sameElse",s=e&&(ci(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,Be(n)))}function jte(){return new lh(this)}function Ute(t,e){var n=Ar(t)?t:Be(t);return this.isValid()&&n.isValid()?(e=pr(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function Bte(t,e){var n=Ar(t)?t:Be(t);return this.isValid()&&n.isValid()?(e=pr(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function zte(t,e,n,r){var i=Ar(t)?t:Be(t),s=Ar(e)?e:Be(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function Wte(t,e){var n=Ar(t)?t:Be(t),r;return this.isValid()&&n.isValid()?(e=pr(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function qte(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Hte(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Gte(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=CT(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=pr(e),e){case"year":s=Of(this,r)/12;break;case"month":s=Of(this,r);break;case"quarter":s=Of(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:rr(s)}function Of(t,e){if(t.date()<e.date())return-Of(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}B.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";B.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Kte(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Yte(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Cf(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ci(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Cf(n,"Z")):Cf(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Qte(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function Xte(t){t||(t=this.isUtc()?B.defaultFormatUtc:B.defaultFormat);var e=Cf(this,t);return this.localeData().postformat(e)}function Jte(t,e){return this.isValid()&&(Ar(t)&&t.isValid()||Be(t).isValid())?Cr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Zte(t){return this.from(Be(),t)}function ene(t,e){return this.isValid()&&(Ar(t)&&t.isValid()||Be(t).isValid())?Cr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function tne(t){return this.to(Be(),t)}function oV(t){var e;return t===void 0?this._locale._abbr:(e=Wi(t),e!=null&&(this._locale=e),this)}var aV=fr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function lV(){return this._locale}var Zp=1e3,al=60*Zp,em=60*al,uV=(365*400+97)*24*em;function ll(t,e){return(t%e+e)%e}function cV(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-uV:new Date(t,e,n).valueOf()}function dV(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-uV:Date.UTC(t,e,n)}function nne(t){var e,n;if(t=pr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?dV:cV,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=ll(e+(this._isUTC?0:this.utcOffset()*al),em);break;case"minute":e=this._d.valueOf(),e-=ll(e,al);break;case"second":e=this._d.valueOf(),e-=ll(e,Zp);break}return this._d.setTime(e),B.updateOffset(this,!0),this}function rne(t){var e,n;if(t=pr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?dV:cV,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=em-ll(e+(this._isUTC?0:this.utcOffset()*al),em)-1;break;case"minute":e=this._d.valueOf(),e+=al-ll(e,al)-1;break;case"second":e=this._d.valueOf(),e+=Zp-ll(e,Zp)-1;break}return this._d.setTime(e),B.updateOffset(this,!0),this}function ine(){return this._d.valueOf()-(this._offset||0)*6e4}function sne(){return Math.floor(this.valueOf()/1e3)}function one(){return new Date(this.valueOf())}function ane(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function lne(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function une(){return this.isValid()?this.toISOString():null}function cne(){return mT(this)}function dne(){return hs({},oe(this))}function hne(){return oe(this).overflow}function fne(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}X("N",0,0,"eraAbbr");X("NN",0,0,"eraAbbr");X("NNN",0,0,"eraAbbr");X("NNNN",0,0,"eraName");X("NNNNN",0,0,"eraNarrow");X("y",["y",1],"yo","eraYear");X("y",["yy",2],0,"eraYear");X("y",["yyy",3],0,"eraYear");X("y",["yyyy",4],0,"eraYear");q("N",xT);q("NN",xT);q("NNN",xT);q("NNNN",Ine);q("NNNNN",Pne);xe(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?oe(n).era=i:oe(n).invalidEra=t});q("y",ou);q("yy",ou);q("yyy",ou);q("yyyy",ou);q("yo",Rne);xe(["y","yy","yyy","yyyy"],an);xe(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[an]=n._locale.eraYearOrdinalParse(t,i):e[an]=parseInt(t,10)});function pne(t,e){var n,r,i,s=this._eras||Wi("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=B(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=B(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function mne(t,e,n){var r,i,s=this.eras(),o,a,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return s[r];break;case"NNNN":if(o===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([o,a,l].indexOf(t)>=0)return s[r]}function gne(t,e){var n=t.since<=t.until?1:-1;return e===void 0?B(t.since).year():B(t.since).year()+(e-t.offset)*n}function yne(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function vne(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function _ne(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function wne(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-B(i[t].since).year())*n+i[t].offset;return this.year()}function Ene(t){return Se(this,"_erasNameRegex")||OT.call(this),t?this._erasNameRegex:this._erasRegex}function Sne(t){return Se(this,"_erasAbbrRegex")||OT.call(this),t?this._erasAbbrRegex:this._erasRegex}function Tne(t){return Se(this,"_erasNarrowRegex")||OT.call(this),t?this._erasNarrowRegex:this._erasRegex}function xT(t,e){return e.erasAbbrRegex(t)}function Ine(t,e){return e.erasNameRegex(t)}function Pne(t,e){return e.erasNarrowRegex(t)}function Rne(t,e){return e._eraYearOrdinalRegex||ou}function OT(){var t=[],e=[],n=[],r=[],i,s,o=this.eras();for(i=0,s=o.length;i<s;++i)e.push(jn(o[i].name)),t.push(jn(o[i].abbr)),n.push(jn(o[i].narrow)),r.push(jn(o[i].name)),r.push(jn(o[i].abbr)),r.push(jn(o[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}X(0,["gg",2],0,function(){return this.weekYear()%100});X(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ey(t,e){X(0,[t,t.length],0,e)}ey("gggg","weekYear");ey("ggggg","weekYear");ey("GGGG","isoWeekYear");ey("GGGGG","isoWeekYear");un("weekYear","gg");un("isoWeekYear","GG");cn("weekYear",1);cn("isoWeekYear",1);q("G",Yg);q("g",Yg);q("GG",ze,Jn);q("gg",ze,Jn);q("GGGG",ET,wT);q("gggg",ET,wT);q("GGGGG",Kg,Hg);q("ggggg",Kg,Hg);ch(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=ae(t)});ch(["gg","GG"],function(t,e,n,r){e[r]=B.parseTwoDigitYear(t)});function bne(t){return hV.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function kne(t){return hV.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ane(){return bi(this.year(),1,4)}function Cne(){return bi(this.isoWeekYear(),1,4)}function xne(){var t=this.localeData()._week;return bi(this.year(),t.dow,t.doy)}function One(){var t=this.localeData()._week;return bi(this.weekYear(),t.dow,t.doy)}function hV(t,e,n,r,i){var s;return t==null?wd(this,r,i).year:(s=bi(t,r,i),e>s&&(e=s),Dne.call(this,t,e,n,r,i))}function Dne(t,e,n,r,i){var s=qL(t,e,n,r,i),o=_d(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}X("Q",0,"Qo","quarter");un("quarter","Q");cn("quarter",7);q("Q",ML);xe("Q",function(t,e){e[Ei]=(ae(t)-1)*3});function Nne(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}X("D",["DD",2],"Do","date");un("date","D");cn("date",9);q("D",ze);q("DD",ze,Jn);q("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});xe(["D","DD"],zr);xe("Do",function(t,e){e[zr]=ae(t.match(ze)[0])});var fV=su("Date",!0);X("DDD",["DDDD",3],"DDDo","dayOfYear");un("dayOfYear","DDD");cn("dayOfYear",4);q("DDD",Gg);q("DDDD",LL);xe(["DDD","DDDD"],function(t,e,n){n._dayOfYear=ae(t)});function Mne(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}X("m",["mm",2],0,"minute");un("minute","m");cn("minute",14);q("m",ze);q("mm",ze,Jn);xe(["m","mm"],wr);var Lne=su("Minutes",!1);X("s",["ss",2],0,"second");un("second","s");cn("second",15);q("s",ze);q("ss",ze,Jn);xe(["s","ss"],Si);var Vne=su("Seconds",!1);X("S",0,0,function(){return~~(this.millisecond()/100)});X(0,["SS",2],0,function(){return~~(this.millisecond()/10)});X(0,["SSS",3],0,"millisecond");X(0,["SSSS",4],0,function(){return this.millisecond()*10});X(0,["SSSSS",5],0,function(){return this.millisecond()*100});X(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});X(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});X(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});X(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});un("millisecond","ms");cn("millisecond",16);q("S",Gg,ML);q("SS",Gg,Jn);q("SSS",Gg,LL);var fs,pV;for(fs="SSSS";fs.length<=9;fs+="S")q(fs,ou);function Fne(t,e){e[Eo]=ae(("0."+t)*1e3)}for(fs="S";fs.length<=9;fs+="S")xe(fs,Fne);pV=su("Milliseconds",!1);X("z",0,0,"zoneAbbr");X("zz",0,0,"zoneName");function $ne(){return this._isUTC?"UTC":""}function jne(){return this._isUTC?"Coordinated Universal Time":""}var M=lh.prototype;M.add=Ote;M.calendar=$te;M.clone=jte;M.diff=Gte;M.endOf=rne;M.format=Xte;M.from=Jte;M.fromNow=Zte;M.to=ene;M.toNow=tne;M.get=BZ;M.invalidAt=hne;M.isAfter=Ute;M.isBefore=Bte;M.isBetween=zte;M.isSame=Wte;M.isSameOrAfter=qte;M.isSameOrBefore=Hte;M.isValid=cne;M.lang=aV;M.locale=oV;M.localeData=lV;M.max=cte;M.min=ute;M.parsingFlags=dne;M.set=zZ;M.startOf=nne;M.subtract=Dte;M.toArray=ane;M.toObject=lne;M.toDate=one;M.toISOString=Yte;M.inspect=Qte;typeof Symbol<"u"&&Symbol.for!=null&&(M[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});M.toJSON=une;M.toString=Kte;M.unix=sne;M.valueOf=ine;M.creationData=fne;M.eraName=yne;M.eraNarrow=vne;M.eraAbbr=_ne;M.eraYear=wne;M.year=WL;M.isLeapYear=lee;M.weekYear=bne;M.isoWeekYear=kne;M.quarter=M.quarters=Nne;M.month=BL;M.daysInMonth=see;M.week=M.weeks=pee;M.isoWeek=M.isoWeeks=mee;M.weeksInYear=xne;M.weeksInWeekYear=One;M.isoWeeksInYear=Ane;M.isoWeeksInISOWeekYear=Cne;M.date=fV;M.day=M.days=kee;M.weekday=Aee;M.isoWeekday=Cee;M.dayOfYear=Mne;M.hour=M.hours=Vee;M.minute=M.minutes=Lne;M.second=M.seconds=Vne;M.millisecond=M.milliseconds=pV;M.utcOffset=_te;M.utc=Ete;M.local=Ste;M.parseZone=Tte;M.hasAlignedHourOffset=Ite;M.isDST=Pte;M.isLocal=bte;M.isUtcOffset=kte;M.isUtc=nV;M.isUTC=nV;M.zoneAbbr=$ne;M.zoneName=jne;M.dates=fr("dates accessor is deprecated. Use date instead.",fV);M.months=fr("months accessor is deprecated. Use month instead",BL);M.years=fr("years accessor is deprecated. Use year instead",WL);M.zone=fr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",wte);M.isDSTShifted=fr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Rte);function Une(t){return Be(t*1e3)}function Bne(){return Be.apply(null,arguments).parseZone()}function mV(t){return t}var Te=yT.prototype;Te.calendar=kZ;Te.longDateFormat=OZ;Te.invalidDate=NZ;Te.ordinal=VZ;Te.preparse=mV;Te.postformat=mV;Te.relativeTime=$Z;Te.pastFuture=jZ;Te.set=RZ;Te.eras=pne;Te.erasParse=mne;Te.erasConvertYear=gne;Te.erasAbbrRegex=Sne;Te.erasNameRegex=Ene;Te.erasNarrowRegex=Tne;Te.months=tee;Te.monthsShort=nee;Te.monthsParse=iee;Te.monthsRegex=aee;Te.monthsShortRegex=oee;Te.week=cee;Te.firstDayOfYear=fee;Te.firstDayOfWeek=hee;Te.weekdays=Tee;Te.weekdaysMin=Pee;Te.weekdaysShort=Iee;Te.weekdaysParse=bee;Te.weekdaysRegex=xee;Te.weekdaysShortRegex=Oee;Te.weekdaysMinRegex=Dee;Te.isPM=Mee;Te.meridiem=Fee;function tm(t,e,n,r){var i=Wi(),s=ui().set(r,e);return i[n](s,t)}function gV(t,e,n){if(Li(t)&&(e=t,t=void 0),t=t||"",e!=null)return tm(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=tm(t,r,n,"month");return i}function DT(t,e,n,r){typeof t=="boolean"?(Li(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Li(e)&&(n=e,e=void 0),e=e||"");var i=Wi(),s=t?i._week.dow:0,o,a=[];if(n!=null)return tm(e,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=tm(e,(o+s)%7,r,"day");return a}function zne(t,e){return gV(t,e,"months")}function Wne(t,e){return gV(t,e,"monthsShort")}function qne(t,e,n){return DT(t,e,n,"weekdays")}function Hne(t,e,n){return DT(t,e,n,"weekdaysShort")}function Gne(t,e,n){return DT(t,e,n,"weekdaysMin")}Ps("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=ae(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});B.lang=fr("moment.lang is deprecated. Use moment.locale instead.",Ps);B.langData=fr("moment.langData is deprecated. Use moment.localeData instead.",Wi);var hi=Math.abs;function Kne(){var t=this._data;return this._milliseconds=hi(this._milliseconds),this._days=hi(this._days),this._months=hi(this._months),t.milliseconds=hi(t.milliseconds),t.seconds=hi(t.seconds),t.minutes=hi(t.minutes),t.hours=hi(t.hours),t.months=hi(t.months),t.years=hi(t.years),this}function yV(t,e,n,r){var i=Cr(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Yne(t,e){return yV(this,t,e,1)}function Qne(t,e){return yV(this,t,e,-1)}function Tb(t){return t<0?Math.floor(t):Math.ceil(t)}function Xne(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=Tb(jw(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=rr(t/1e3),r.seconds=i%60,s=rr(i/60),r.minutes=s%60,o=rr(s/60),r.hours=o%24,e+=rr(o/24),l=rr(vV(e)),n+=l,e-=Tb(jw(l)),a=rr(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function vV(t){return t*4800/146097}function jw(t){return t*146097/4800}function Jne(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=pr(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+vV(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(jw(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function Zne(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ae(this._months/12)*31536e6:NaN}function qi(t){return function(){return this.as(t)}}var ere=qi("ms"),tre=qi("s"),nre=qi("m"),rre=qi("h"),ire=qi("d"),sre=qi("w"),ore=qi("M"),are=qi("Q"),lre=qi("y");function ure(){return Cr(this)}function cre(t){return t=pr(t),this.isValid()?this[t+"s"]():NaN}function aa(t){return function(){return this.isValid()?this._data[t]:NaN}}var dre=aa("milliseconds"),hre=aa("seconds"),fre=aa("minutes"),pre=aa("hours"),mre=aa("days"),gre=aa("months"),yre=aa("years");function vre(){return rr(this.days()/7)}var pi=Math.round,Ba={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function _re(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function wre(t,e,n,r){var i=Cr(t).abs(),s=pi(i.as("s")),o=pi(i.as("m")),a=pi(i.as("h")),l=pi(i.as("d")),u=pi(i.as("M")),c=pi(i.as("w")),d=pi(i.as("y")),h=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(h=h||c<=1&&["w"]||c<n.w&&["ww",c]),h=h||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d],h[2]=e,h[3]=+t>0,h[4]=r,_re.apply(null,h)}function Ere(t){return t===void 0?pi:typeof t=="function"?(pi=t,!0):!1}function Sre(t,e){return Ba[t]===void 0?!1:e===void 0?Ba[t]:(Ba[t]=e,t==="s"&&(Ba.ss=e-1),!0)}function Tre(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Ba,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Ba,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=wre(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var wv=Math.abs;function Ea(t){return(t>0)-(t<0)||+t}function ty(){if(!this.isValid())return this.localeData().invalidDate();var t=wv(this._milliseconds)/1e3,e=wv(this._days),n=wv(this._months),r,i,s,o,a=this.asSeconds(),l,u,c,d;return a?(r=rr(t/60),i=rr(r/60),t%=60,r%=60,s=rr(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Ea(this._months)!==Ea(a)?"-":"",c=Ea(this._days)!==Ea(a)?"-":"",d=Ea(this._milliseconds)!==Ea(a)?"-":"",l+"P"+(s?u+s+"Y":"")+(n?u+n+"M":"")+(e?c+e+"D":"")+(i||r||t?"T":"")+(i?d+i+"H":"")+(r?d+r+"M":"")+(t?d+o+"S":"")):"P0D"}var ye=Zg.prototype;ye.isValid=mte;ye.abs=Kne;ye.add=Yne;ye.subtract=Qne;ye.as=Jne;ye.asMilliseconds=ere;ye.asSeconds=tre;ye.asMinutes=nre;ye.asHours=rre;ye.asDays=ire;ye.asWeeks=sre;ye.asMonths=ore;ye.asQuarters=are;ye.asYears=lre;ye.valueOf=Zne;ye._bubble=Xne;ye.clone=ure;ye.get=cre;ye.milliseconds=dre;ye.seconds=hre;ye.minutes=fre;ye.hours=pre;ye.days=mre;ye.weeks=vre;ye.months=gre;ye.years=yre;ye.humanize=Tre;ye.toISOString=ty;ye.toString=ty;ye.toJSON=ty;ye.locale=oV;ye.localeData=lV;ye.toIsoString=fr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ty);ye.lang=aV;X("X",0,0,"unix");X("x",0,0,"valueOf");q("x",Yg);q("X",qZ);xe("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});xe("x",function(t,e,n){n._d=new Date(ae(t))});//! moment.js
B.version="2.29.4";IZ(Be);B.fn=M;B.min=dte;B.max=hte;B.now=fte;B.utc=ui;B.unix=Une;B.months=zne;B.isDate=ah;B.locale=Ps;B.invalid=Wg;B.duration=Cr;B.isMoment=Ar;B.weekdays=qne;B.parseZone=Bne;B.localeData=Wi;B.isDuration=xf;B.monthsShort=Wne;B.weekdaysMin=Gne;B.defineLocale=PT;B.updateLocale=Bee;B.locales=zee;B.weekdaysShort=Hne;B.normalizeUnits=pr;B.relativeTimeRounding=Ere;B.relativeTimeThreshold=Sre;B.calendarFormat=Fte;B.prototype=M;B.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function _V({order:t}){var r;const[e,n]=k.useState("");return k.useEffect(()=>{const i=B.unix(t.data.created).format("MMM Do YYYY, h:mma");n(i)},[t.data.created]),w.jsxs("div",{className:"order",children:[w.jsx("h2",{children:"Order"}),w.jsx("p",{children:e}),w.jsx("p",{className:"order_id"}),(r=t.data.basket)==null?void 0:r.map((i,s)=>w.jsx(Sm,{id:i.id,title:i.title,image:i.image,price:i.price,rating:i.rating,hideButton:!0},s)),w.jsx($0,{renderText:i=>w.jsxs("h3",{className:"order_total",children:["Order Total: ",i]}),decimalScale:2,value:t.data.amount/100,displayType:"text",thousandSeparator:!0,prefix:"$"})]})}_V.propTypes={order:ie.shape({id:ie.string.isRequired,data:ie.shape({created:ie.number.isRequired,basket:ie.arrayOf(ie.shape({id:ie.string.isRequired,title:ie.string.isRequired,image:ie.string.isRequired,price:ie.number.isRequired,rating:ie.number.isRequired})),amount:ie.number.isRequired}).isRequired}).isRequired};function Ire(){const[t,e]=k.useState([]),[{user:n},r]=Ws();return k.useEffect(()=>{n?dM.collection("users").doc(n==null?void 0:n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>e(i.docs.map(s=>({id:s.id,data:s.data()})))):e([])},[n]),w.jsxs("div",{children:[w.jsx("h1",{children:"Your Orders"}),w.jsx("div",{className:"orders_order",children:t==null?void 0:t.map((i,s)=>w.jsx(_V,{order:i},s))})]})}function Pre(){const[{basket:t,user:e},n]=Ws(),r=()=>{e&&dc.signOut().then(()=>{n({type:"SET_USER",user:null})})};return w.jsxs("div",{className:"header",children:[w.jsx(Lu,{to:"/",children:w.jsx("img",{className:"header_logo",src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:""})}),w.jsxs("div",{className:"header_search",children:[w.jsx("input",{className:"header_searchInput",type:"text"}),w.jsx(RL,{className:"header_searchIcon"})]}),w.jsxs("div",{className:"header_nav",children:[w.jsx(Lu,{to:!e&&"/login",className:"header_clearlink",children:w.jsxs("div",{onClick:r,className:"header_option",children:[w.jsxs("span",{className:"header_optionLineOne",children:["Hello ",e?e==null?void 0:e.email:"Guest"]}),w.jsx("span",{className:"header_optionLineTwo",children:e?"Sign Out":"Sign In"})]})}),w.jsx(Lu,{to:"/orders",className:"header_clearlink",children:w.jsxs("div",{className:"header_option",children:[w.jsx("span",{className:"header_optionLineOne",children:"Returns"}),w.jsx("span",{className:"header_optionLineTwo",children:"& Orders"})]})}),w.jsxs("div",{className:"header_option",children:[w.jsx("span",{className:"header_optionLineOne",children:"Your"}),w.jsx("span",{className:"header_optionLineTwo",children:"Prime"})]}),w.jsx(Lu,{to:"/checkout",className:"header_clearlink",children:w.jsxs("div",{className:"header_optionBasket",children:[w.jsx(bL,{}),w.jsx("span",{className:"header_optionLineTwo header_basketCount",children:t.length})]})})]})]})}function Rre(){return w.jsxs(w.Fragment,{children:[w.jsx(Pre,{}),w.jsx(F$,{})]})}const bre=M8("pk_test_51OOw6vFHawdQw4M7cOxZy5ELa8zRCDXCoCvhMBO1GtzDHpzOaKh3YLGQMxux9Mf2kFrYOpTY3v17NVq2vxFyxacb005IKNQhkJ");function kre(){const[{},t]=Ws();return k.useEffect(()=>{dc.onAuthStateChanged(e=>{t(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})})},[]),w.jsx(w.Fragment,{children:w.jsx("div",{className:"App",children:w.jsxs(j$,{children:[w.jsx(Ji,{path:"/login",element:w.jsx(b8,{})}),w.jsx(Ji,{}),w.jsxs(Ji,{path:"/",element:w.jsx(Rre,{}),children:[w.jsx(Ji,{path:"/orders",element:w.jsx(Ire,{})}),w.jsx(Ji,{path:"/",element:w.jsx(v4,{})}),w.jsx(Ji,{path:"/checkout",element:w.jsx(wj,{})}),w.jsx(Ji,{path:"/payment",element:w.jsx(w.Fragment,{children:w.jsx(bM,{stripe:bre,children:w.jsx(MY,{})})})})]})]})})})}const wV={basket:[],user:null},Are=(t=wV,e)=>{switch(e.type){case"ADD_TO_BASKET":return{...t,basket:[...t.basket,e.item]};case"EMPTY_BASKET":return{...t,basket:[]};case"REMOVE_FROM_BASKET":{const n=t.basket.findIndex(i=>i.id===e.id);let r=[...t.basket];return n>=0?r.splice(n,1):console.warn(`Can't remove product (id: ${e.id} as it's not in the basket)`),{...t,basket:r}}case"SET_USER":return{...t,user:e.user};default:return t}};FA(document.getElementById("root")).render(w.jsx(H$,{children:w.jsx(vj,{initialState:wV,reducer:Are,children:w.jsx(kre,{})})}))});export default Cre();
